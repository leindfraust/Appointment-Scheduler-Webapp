"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[465],{465:function(a,e,i){i.d(e,{Z:function(){return ha}});var t=i(6252),s=i(3577),n=i(9963),l=i(2262),o=i(475),r=i(8945),d=i(4058),c=i(3907),u=i(2201);const v=a=>((0,t.dD)("data-v-7da9c66a"),a=a(),(0,t.Cn)(),a),m={class:"navbar-brand"},p=v((()=>(0,t._)("a",{class:"navbar-item",href:"/"},[(0,t._)("img",{src:o})],-1))),g=v((()=>(0,t._)("span",{"aria-hidden":"true"},null,-1))),_=v((()=>(0,t._)("span",{"aria-hidden":"true"},null,-1))),f=v((()=>(0,t._)("span",{"aria-hidden":"true"},null,-1))),b=[g,_,f],w={class:"navbar-menu"},h={class:"navbar-start"},k={key:0,class:"field has-addons navbar-item",style:{"margin-left":"auto"}},y={class:"control has-icons-left"},D=v((()=>(0,t._)("span",{class:"icon is-small is-left has-text-info"},[(0,t._)("i",{class:"fa-solid fa-location-dot"})],-1))),C={id:"providers"},U={class:"control"},$=["disabled"],S={key:0,class:"field has-addons navbar-item is-hidden-desktop is-hidden-tablet"},x={class:"control has-icons-left"},P=v((()=>(0,t._)("span",{class:"icon is-small is-left has-text-info"},[(0,t._)("i",{class:"fa-solid fa-location-dot"})],-1))),H={id:"providers"},z={class:"control"},Z=["disabled"],I={key:1,class:"navbar-end"},F={key:0,class:"has-text-danger"},M={class:"fa-solid fa-bell animate__animated animate__heartBeat animate__infinite"},W={class:"is-size-7"},q={key:1,class:"has-text-info"},K=v((()=>(0,t._)("i",{class:"fa-solid fa-bell"},null,-1))),j=[K],Y={key:0,class:"navbar-dropdown is-right notif-list"},L=["onClick"],A={class:"help"},T=["onClick"],B={key:1,class:"navbar-dropdown is-right"},N=v((()=>(0,t._)("div",{class:"navbar-item"},"No new notifications.",-1))),V=[N],R={key:0,class:"navbar-item is-hidden-mobile"},E={key:0,class:"image"},G=["src"],J={key:1,class:"image"},O=["src"],Q={class:"navbar-dropdown is-right"},X=v((()=>(0,t._)("hr",{class:"navbar-divider"},null,-1))),aa=v((()=>(0,t._)("strong",null,"Logout",-1))),ea=[aa],ia={key:2,class:"navbar-end"},ta={class:"navbar-item"},sa={class:"navbar-item"},na=v((()=>(0,t._)("strong",null,"Sign up",-1))),la=v((()=>(0,t._)("div",{class:"modal-background"},null,-1))),oa={class:"modal-content box"},ra={class:"section"},da={class:"title"},ca={class:"subtitle"},ua={class:"subtitle"},va={key:0},ma={class:"image is-square"},pa=["src"],ga={class:"has-text-centered"},_a=["href"];var fa={__name:"NavigationTab",props:{providerFinderMode:{type:Boolean,default:!1},providerProvinces:{type:Array,default:void 0},providerList:{type:void 0,default:void 0},query:String},emits:["unloadPropData"],setup(a){const e=a,i=(0,c.oR)(),o=(0,u.tv)();(0,t.bv)((async()=>{await r.Z.get(`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patients/${i.state.patientUsername}.jpg`).then((a=>200==a.status?i.commit("checkProfileImg",!0):i.commit("checkProfileImg",!1))).catch((a=>a?i.commit("checkProfileImg",!1):i.commit("checkProfileImg",!0))),fa.value=!0,i.state.patientID&&(d.Z.connect(),d.Z.emit("join room",i.state.patientID),d.Z.on("send messages",(a=>{N.value=a})),d.Z.on("delete messages",(a=>{N.value=a})),d.Z.on("messages",(a=>{N.value=a})))}));const v=(0,l.iH)(!1),g=(0,l.iH)(!1),_=(0,l.iH)(!1),f=(0,l.iH)(!1),K=i.state.patientUsername,N=(0,l.iH)([]),aa=(0,l.iH)([]),fa=(0,l.iH)(!1),ba=(0,l.iH)(e.query);function wa(){f.value=!f.value}async function ha(){i.commit("patientID",null),i.commit("patientUsername",""),await r.Z["delete"]("/session/patient"),await o.push("/account/login"),d.Z.disconnect()}function ka(){v.value=!v.value}async function ya(a){await r.Z.post("/api/imgUploadImgMsgDeletePatient",{id:"assets/patientimgmsg/patientCopy/"+a.id}),d.Z.emit("delete message",i.state.patientID,a)}function Da(a,e){aa.value=a,g.value=!0,aa.value.new&&(N.value[e].new=!1,d.Z.emit("update message",N.value))}function Ca(){g.value=!1}return(e,o)=>{const r=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("nav",{class:(0,s.C_)(["navbar",{"provider-finder-mode":a.providerFinderMode}]),role:"navigation","aria-label":"main navigation",style:{"background-color":"transparent","border-bottom":"0.5px solid #969696"}},[(0,t._)("div",m,[p,(0,t.Wm)(r,{to:"/about",class:"navbar-item is-hidden-desktop is-hidden-tablet"},{default:(0,t.w5)((()=>[(0,t.Uk)("About")])),_:1}),(0,t.Wm)(r,{to:"/contactus",class:"navbar-item is-hidden-desktop is-hidden-tablet"},{default:(0,t.w5)((()=>[(0,t.Uk)("Contact")])),_:1}),(0,t._)("a",{role:"button",class:(0,s.C_)(["navbar-burger",{"is-active":f.value}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:wa},b,2)]),(0,t._)("div",w,[(0,t._)("div",h,[(0,t.Wm)(r,{to:"/about",class:"navbar-item"},{default:(0,t.w5)((()=>[(0,t.Uk)("About")])),_:1}),(0,t.Wm)(r,{to:"/contactus",class:"navbar-item"},{default:(0,t.w5)((()=>[(0,t.Uk)("Contact")])),_:1})]),a.providerFinderMode?((0,t.wg)(),(0,t.iD)("div",k,[(0,t._)("div",y,[(0,t.wy)((0,t._)("input",{class:"input is-rounded",type:"text","onUpdate:modelValue":o[0]||(o[0]=a=>ba.value=a),style:{width:"350px"},placeholder:"Search...",list:"providers",onKeyup:o[1]||(o[1]=(0,n.D2)((a=>e.$emit("unloadPropData",ba.value)),["enter"]))},null,544),[[n.nr,ba.value]]),D]),(0,t._)("datalist",C,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.providerProvinces,(a=>((0,t.wg)(),(0,t.iD)("option",{key:a._id},(0,s.zw)(a.province),1)))),128)),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.providerList,(a=>((0,t.wg)(),(0,t.iD)("option",{key:a._id},(0,s.zw)(a.hospital),1)))),128))]),(0,t._)("div",U,[(0,t._)("button",{class:"button is-info is-rounded",disabled:""==ba.value,onClick:o[2]||(o[2]=a=>e.$emit("unloadPropData",ba.value))},"Search",8,$)])])):(0,t.kq)("",!0)]),(0,t._)("div",{id:"navbar",class:(0,s.C_)(["navbar-menu",{"is-active":f.value}])},[a.providerFinderMode?((0,t.wg)(),(0,t.iD)("div",S,[(0,t._)("div",x,[(0,t.wy)((0,t._)("input",{class:"input is-rounded",type:"text","onUpdate:modelValue":o[3]||(o[3]=a=>ba.value=a),style:{width:"200px"},placeholder:"Search...",list:"providers",onKeyup:o[4]||(o[4]=(0,n.D2)((a=>e.$emit("unloadPropData",ba.value)),["enter"]))},null,544),[[n.nr,ba.value]]),P]),(0,t._)("datalist",H,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.providerProvinces,(a=>((0,t.wg)(),(0,t.iD)("option",{key:a._id},(0,s.zw)(a.province),1)))),128)),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.providerList,(a=>((0,t.wg)(),(0,t.iD)("option",{key:a._id},(0,s.zw)(a.hospital),1)))),128))]),(0,t._)("div",z,[(0,t._)("button",{class:"button is-info is-rounded",disabled:""==ba.value,onClick:o[5]||(o[5]=a=>e.$emit("unloadPropData",ba.value))},"Search",8,Z)])])):(0,t.kq)("",!0),""!=(0,l.SU)(K)?((0,t.wg)(),(0,t.iD)("div",I,[(0,t._)("div",{class:(0,s.C_)(["navbar-item has-dropdown",{"is-active":v.value}])},[(0,t._)("a",{class:"navbar-link",onClick:ka},[N.value.find((a=>!0===a.new))?((0,t.wg)(),(0,t.iD)("span",F,[(0,t._)("i",M,[(0,t._)("span",W,(0,s.zw)(N.value.filter((a=>a.new)).length),1)])])):((0,t.wg)(),(0,t.iD)("span",q,j))]),0!==N.value.length?((0,t.wg)(),(0,t.iD)("div",Y,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(N.value.sort(((a,e)=>new Date(e.date).getTime()-new Date(a.date).getTime())),((a,e)=>((0,t.wg)(),(0,t.iD)("div",{class:"navbar-item",key:e},[(0,t._)("div",{class:(0,s.C_)(["notification is-info",{"is-light":!a.new}]),style:{width:"20rem"}},[(0,t._)("a",{style:{"text-decoration":"none"},onClick:i=>Da(a,e)},[(0,t.Uk)((0,s.zw)(a.subject)+" ",1),(0,t._)("p",A,(0,s.zw)("Medic Search"==a.from?`From ${a.from}`:`From\n                                                                            Dr. ${a.from}`),1)],8,L),(0,t._)("button",{class:"delete",onClick:e=>ya(a)},null,8,T)],2)])))),128))])):((0,t.wg)(),(0,t.iD)("div",B,V))],2),(0,t._)("div",{class:(0,s.C_)(["navbar-item has-dropdown",{"is-active":_.value}]),onClick:o[6]||(o[6]=a=>_.value=!_.value)},[fa.value?((0,t.wg)(),(0,t.iD)("a",R,[(0,l.SU)(i).state.checkProfileImg?((0,t.wg)(),(0,t.iD)("figure",E,[(0,t._)("img",{class:"is-rounded",src:`https://res.cloudinary.com/leindfraust/image/upload/v${(new Date).getMonth()}${(new Date).getDate()}/assets/patients/${e.$store.state.patientUsername}.jpg`},null,8,G)])):((0,t.wg)(),(0,t.iD)("figure",J,[(0,t._)("img",{class:"is-rounded",src:`https://ui-avatars.com/api/?name=${(0,l.SU)(i).state.patientUsername}`},null,8,O)]))])):(0,t.kq)("",!0),(0,t._)("div",Q,[(0,t.Wm)(r,{to:`/user/${(0,l.SU)(K)}/profile`,class:"navbar-item"},{default:(0,t.w5)((()=>[(0,t.Uk)("Profile")])),_:1},8,["to"]),(0,t.Wm)(r,{to:`/user/${(0,l.SU)(K)}/security`,class:"navbar-item"},{default:(0,t.w5)((()=>[(0,t.Uk)("Security")])),_:1},8,["to"]),X,(0,t._)("a",{class:"navbar-item has-text-danger",onClick:ha},ea)])],2)])):((0,t.wg)(),(0,t.iD)("div",ia,[(0,t._)("div",ta,[(0,t.Wm)(r,{to:"/account/login",class:"button is-dark is-inverted is-medium",style:{"background-color":"transparent"}},{default:(0,t.w5)((()=>[(0,t.Uk)("Sign In")])),_:1})]),(0,t._)("div",sa,[(0,t.Wm)(r,{to:"/user/signup",class:"button is-info is-medium"},{default:(0,t.w5)((()=>[na])),_:1})])]))],2)],2),(0,t._)("div",{class:(0,s.C_)(["modal",{"is-active":g.value}])},[la,(0,t._)("div",oa,[(0,t._)("section",ra,[(0,t._)("p",da,(0,s.zw)("Medic Search"==aa.value.from?`From ${aa.value.from}`:`From\n                                    Dr. ${aa.value.from}`),1),(0,t._)("p",ca,(0,s.zw)(new Date(aa.value.date).toDateString()),1),(0,t._)("p",ua,(0,s.zw)(aa.value.message),1),aa.value.id?((0,t.wg)(),(0,t.iD)("div",va,[(0,t._)("figure",ma,[(0,t._)("img",{loading:"lazy",src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/patientCopy/${aa.value.id}.jpg`},null,8,pa)]),(0,t._)("div",ga,[(0,t._)("a",{href:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/patientCopy/${aa.value.id}.jpg`,class:"button",download:""},"Download File",8,_a)])])):(0,t.kq)("",!0)])]),(0,t._)("button",{class:"modal-close is-large","aria-label":"close",onClick:Ca})],2)],64)}}},ba=i(3744);const wa=(0,ba.Z)(fa,[["__scopeId","data-v-7da9c66a"]]);var ha=wa},475:function(a,e,i){a.exports=i.p+"img/medi-search-horizontal.d15d9e4c.png"}}]);
//# sourceMappingURL=465.9308e538.js.map