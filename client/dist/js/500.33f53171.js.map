{"version":3,"file":"js/500.33f53171.js","mappings":"klCAIA,MAAMA,GAAWC,EAAAA,EAAAA,IAAI,IACfC,GAAaD,EAAAA,EAAAA,IAAI,IACjBE,GAAQF,EAAAA,EAAAA,IAAI,IACZG,GAAUH,EAAAA,EAAAA,IAAI,IACdI,GAAQJ,EAAAA,EAAAA,IAAI,IACZK,GAAUL,EAAAA,EAAAA,KAAI,GACdM,GAASN,EAAAA,EAAAA,IAAI,IACbO,GAAUP,EAAAA,EAAAA,KAAI,GACdQ,GAAgBR,EAAAA,EAAAA,KAAI,GAE1BS,eAAeC,IACXL,EAAQM,OAAQ,EAEhBC,IACA,UACUC,EAAAA,EAAAA,KAAW,mBAAoB,CACjCd,SAAUA,EAASY,MACnBP,MAAOA,EAAMO,MACbV,WAAYA,EAAWU,MACvBG,YAAaZ,EAAMS,cAEjBE,EAAAA,EAAAA,KAAW,8BAA+B,CAC5Cd,SAAUA,EAASY,MACnBP,MAAOA,EAAMO,MACbV,WAAYA,EAAWU,MACvBG,YAAaZ,EAAMS,MACnBI,cAAeZ,EAAQQ,QAG3BJ,EAAQI,OAAQ,CAGpB,CAFE,MAAOK,GACLV,EAAOK,MAAQK,CACnB,CACAX,EAAQM,OAAQ,CACpB,CACA,SAASC,IACL,IAAIK,EAAS,GACTC,EAAa,iEACbC,EAAmBD,EAAWE,OAClC,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IACnBJ,GAAUC,EAAWI,OAAOC,KAAKC,MAAMD,KAAKE,SACxCN,IAERpB,EAASY,MAAQM,EAAOS,aAC5B,C,wrDC1CA,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://client/./src/views/Public/ContactSupport.vue","webpack://client/./src/views/Public/ContactSupport.vue?a2eb"],"sourcesContent":["<script setup>\r\nimport { ref } from 'vue'\r\nimport axios from 'axios';\r\n\r\nconst ticketID = ref('')\r\nconst ticketType = ref('')\r\nconst title = ref('')\r\nconst message = ref('')\r\nconst email = ref('')\r\nconst loading = ref(false)\r\nconst errMsg = ref('')\r\nconst success = ref(false)\r\nconst problemSelect = ref(false)\r\n//methods\r\nasync function submitIssue() {\r\n    loading.value = true\r\n\r\n    generateTicket()\r\n    try {\r\n        await axios.post('/api/SupportMail', {\r\n            ticketID: ticketID.value,\r\n            email: email.value,\r\n            ticketType: ticketType.value,\r\n            ticketTitle: title.value,\r\n        });\r\n        await axios.post('/api/superuser/submitTicket', {\r\n            ticketID: ticketID.value,\r\n            email: email.value,\r\n            ticketType: ticketType.value,\r\n            ticketTitle: title.value,\r\n            ticketMessage: message.value\r\n        });\r\n\r\n        success.value = true\r\n    } catch (err) {\r\n        errMsg.value = err\r\n    }\r\n    loading.value = false\r\n}\r\nfunction generateTicket() {\r\n    let result = '';\r\n    let characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    let charactersLength = characters.length;\r\n    for (let i = 0; i < 8; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() *\r\n            charactersLength));\r\n    }\r\n    ticketID.value = result.toUpperCase()\r\n}\r\n</script>\r\n<template>\r\n    <section class=\"section\">\r\n        <div class=\"modal\" :class=\"{ 'is-active': loading }\">\r\n            <div class=\"modal-background\"></div>\r\n            <div class=\"modal-content loader\"></div>\r\n        </div>\r\n        <div class=\"container box\" style=\"width: 33%\">\r\n            <div class=\"notification is-danger\" v-if=\"errMsg && !success\">{{ errMsg }}</div>\r\n            <div class=\"notification is-success\" v-if=\"success\">Your problem has been reported, your ticket ID is: {{\r\n                    ticketID\r\n            }}. Please see your email for further instructions.</div>\r\n            <div v-else>\r\n                <h1 class=\"title\">Contact Us</h1>\r\n                <div class=\"dropdown block\" :class=\"{ 'is-active': problemSelect }\">\r\n                    <div class=\"dropdown-trigger\">\r\n                        <button class=\"button\" @click=\"problemSelect = !problemSelect\">\r\n                            {{ ticketType == '' ? 'Select a Problem' : ticketType }}</button>\r\n                    </div>\r\n                    <div class=\"dropdown-menu\">\r\n                        <div class=\"dropdown-content\">\r\n                            <a class=\"dropdown-item\"\r\n                                @click=\"(ticketType = 'General Inquiry', problemSelect = false)\">General Inquiry</a>\r\n                            <a class=\"dropdown-item\"\r\n                                @click=\"(ticketType = 'Account Problem', problemSelect = false)\">Account Problem</a>\r\n                            <a class=\"dropdown-item\"\r\n                                @click=\"(ticketType = 'Report a bug', problemSelect = false)\">Report a bug</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <div class=\"control\">\r\n                        <label class=\"label\">Email</label>\r\n                        <input type=\"email\" v-model=\"email\" class=\"input\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <div class=\"control\">\r\n                        <label class=\"label\">Subject</label>\r\n                        <input type=\"text\" v-model=\"title\" class=\"input\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <div class=\"control\">\r\n                        <label class=\"label\">Explain the problem</label>\r\n                        <textarea v-model=\"message\" class=\"textarea\"></textarea>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field has-text-centered\">\r\n                    <div class=\"control\">\r\n                        <button class=\"button is-primary\" @click=\"submitIssue\"\r\n                            :disabled=\"ticketType == '' || email == '' || title == '' || message == ''\">Submit\r\n                            Issue</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n<style scoped>\r\n@media (max-width: 991.98px) {\r\n    .box {\r\n        width: 100% !important;\r\n    }\r\n}\r\n</style>","import script from \"./ContactSupport.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ContactSupport.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ContactSupport.vue?vue&type=style&index=0&id=6b10ff82&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\ronan\\\\Documents\\\\Projects\\\\Appointment-Scheduler-Webapp\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6b10ff82\"]])\n\nexport default __exports__"],"names":["ticketID","ref","ticketType","title","message","email","loading","errMsg","success","problemSelect","async","submitIssue","value","generateTicket","axios","ticketTitle","ticketMessage","err","result","characters","charactersLength","length","i","charAt","Math","floor","random","toUpperCase","__exports__"],"sourceRoot":""}