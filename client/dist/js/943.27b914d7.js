"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[943],{778:function(e,i,t){t.d(i,{Z:function(){return m}});var a=t(6252),s=t(475);const l=e=>((0,a.dD)("data-v-2c83e7d8"),e=e(),(0,a.Cn)(),e),o={class:"footer",style:{"background-color":"white"}},n={class:"container is-fluid has-text-centered"},r=(0,a.uE)('<figure class="image" style="margin:auto;width:15%;" data-v-2c83e7d8><img src="'+s+'" data-v-2c83e7d8></figure><div class="block" data-v-2c83e7d8></div><p class="subtitle is-6" data-v-2c83e7d8>Medic Search is a capstone project proposal in <strong data-v-2c83e7d8>La Consolacion College</strong> that is developed by Romel Jr Zerna, Mel Fatima Fernandez, Cloyde Catacutan and Gabriel Olmoguez. It is an online platform that allows patients to book their appointment online. Patients can search for doctors based on their location, specialty, and availability.</p><div class="block" data-v-2c83e7d8></div>',4),c={class:"breadcrumb is-centered","aria-label":"breadcrumbs"},d=l((()=>(0,a._)("div",{class:"block"},[(0,a._)("strong",null,"Copyright @2022-2023 Medic Search")],-1)));function p(e,i,t,s,l,p){const u=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("footer",o,[(0,a._)("div",n,[r,(0,a._)("nav",c,[(0,a._)("ul",null,[(0,a._)("li",null,[(0,a.Wm)(u,{to:"/about"},{default:(0,a.w5)((()=>[(0,a.Uk)("About Medic Search")])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(u,{to:"/terms-and-conditions"},{default:(0,a.w5)((()=>[(0,a.Uk)("Terms and Conditions")])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(u,{to:"/contactus"},{default:(0,a.w5)((()=>[(0,a.Uk)("Contact Us")])),_:1})])])]),d])])}var u={name:"FooterPage"},v=t(3744);const h=(0,v.Z)(u,[["render",p],["__scopeId","data-v-2c83e7d8"]]);var m=h},8058:function(e,i,t){t.r(i),t.d(i,{default:function(){return Ye}});var a=t(6252),s=t(3577),l=t(9963);const o=e=>((0,a.dD)("data-v-1c068c89"),e=e(),(0,a.Cn)(),e),n={id:"background"},r=o((()=>(0,a._)("div",{class:"modal-background"},null,-1))),c=o((()=>(0,a._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,a._)("div",{class:"loader",style:{margin:"auto"}})],-1))),d=[r,c],p=o((()=>(0,a._)("div",{class:"modal-background"},null,-1))),u={class:"modal-content",style:{overflow:"auto"}},v={class:"box"},h={class:"section has-text-centered"},m=o((()=>(0,a._)("label",{class:"label"},"Choose Preferred Date",-1))),g=o((()=>(0,a._)("div",{class:"block"},null,-1))),f=o((()=>(0,a._)("label",{class:"label"},"Choose Preferred Time(Optional) ",-1))),y={class:"buttons is-centered"},_=o((()=>(0,a._)("div",{class:"block"},null,-1))),b={class:"buttons is-centered"},w=["disabled"],k=o((()=>(0,a._)("div",{class:"block"},null,-1))),D={key:0,class:"is-hidden-desktop"},C={class:"columns is-mobile",style:{overflow:"auto"}},F={class:"column is-narrow"},S={class:"select is-rounded"},T=o((()=>(0,a._)("option",{value:!1},"Sort by Recommended",-1))),L=o((()=>(0,a._)("option",{value:!0},"Sort by Nearest",-1))),H=[T,L],M={class:"column is-narrow"},U={class:"select is-rounded"},P=o((()=>(0,a._)("option",{value:"",disabled:""},"City/Municipality",-1))),N=o((()=>(0,a._)("option",{value:""},"Any",-1))),x={class:"column is-narrow"},z={class:"select is-rounded"},$=(0,a.uE)('<option value="" disabled data-v-1c068c89>Type of Facility</option><option value="" data-v-1c068c89>Any</option><option value="Public" data-v-1c068c89>Public Hospital</option><option value="Private" data-v-1c068c89>Private Hospital</option><option value="Clinic" data-v-1c068c89>Clinic</option>',5),A=[$],q={class:"column is-narrow"},O={class:"select is-rounded"},V=o((()=>(0,a._)("option",{value:"",disabled:""},"Specialist",-1))),Z=o((()=>(0,a._)("option",{value:""},"Any",-1))),I=["value"],Y={class:"column is-narrow"},K={key:1,class:"container is-fluid"},W=o((()=>(0,a._)("div",{class:"block"},null,-1))),E={class:"columns"},R={class:"column is-2 has-text-centered-mobile is-hidden-mobile",style:{"box-shadow":"0px 4px 4px rgba(0, 0, 0, 0.25)","clip-path":"inset(0px -15px 0px 0px)"}},B=o((()=>(0,a._)("br",null,null,-1))),j={class:"container"},G={class:"block"},J={class:"select"},Q=o((()=>(0,a._)("option",{value:!0},"Sort by Nearest",-1))),X=o((()=>(0,a._)("option",{value:!1},"Sort by Recommended",-1))),ee=[Q,X],ie={class:"block"},te={class:"select"},ae=o((()=>(0,a._)("option",{value:"",disabled:""},"City/Municipalit        ",-1))),se=o((()=>(0,a._)("option",{value:""},"Any",-1))),le={class:"block"},oe={class:"select"},ne=(0,a.uE)('<option value="" disabled data-v-1c068c89>Type of Facility         </option><option value="" data-v-1c068c89>Any</option><option value="Public" data-v-1c068c89>Public Hospital</option><option value="Private" data-v-1c068c89>Private Hospital</option><option value="Clinic" data-v-1c068c89>Clinic</option>',5),re=[ne],ce={class:"block"},de={class:"select"},pe=o((()=>(0,a._)("option",{value:"",disabled:""},"Specialist",-1))),ue=o((()=>(0,a._)("option",{value:""},"Any",-1))),ve=["value"],he={class:"block"},me=o((()=>(0,a._)("div",{class:"column is-1 is-hidden-mobile"},null,-1))),ge={key:0,class:"column is-6"},fe=o((()=>(0,a._)("br",null,null,-1))),ye={class:"container is-fluid"},_e={class:"column is-5"},be=["onClick"],we={class:"image is-3by2 is-rounded"},ke=["src"],De={class:"column"},Ce={key:0,class:"notification is-info is-light"},Fe=["onClick"],Se={class:"title is-4"},Te={class:"subtitle is-6"},Le=o((()=>(0,a._)("br",null,null,-1))),He={class:"content"},Me=o((()=>(0,a._)("b",null,"Type of Facility:",-1))),Ue={key:0},Pe={class:"subtitle is-6"},Ne=o((()=>(0,a._)("b",null,"Contacts:",-1))),xe={key:0,class:"column notification is-danger is-light has-text-centered"},ze={key:1,class:"column notification is-danger is-light has-text-centered"};function $e(e,i,t,o,r,c){const T=(0,a.up)("NavigationTab"),L=(0,a.up)("v-date-picker"),$=(0,a.up)("FooterBlock");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",n,[(0,a.Wm)(T,{"provider-finder-mode":!0,"provider-provinces":r.geolocation,"province-selected":r.province,onLoadProvider:i[0]||(i[0]=i=>c.unloadPropData(i,e.arg))},null,8,["provider-provinces","province-selected"]),(0,a._)("div",{class:(0,s.C_)(["modal",{"is-active":r.isHospitalLoading}])},d,2),(0,a._)("div",{class:(0,s.C_)(["modal",{"is-active":r.dateTimeFilter}])},[p,(0,a._)("div",u,[(0,a._)("div",v,[(0,a._)("section",h,[m,(0,a.Wm)(L,{modelValue:r.filterDate,"onUpdate:modelValue":i[1]||(i[1]=e=>r.filterDate=e),"min-date":new Date,"is-expanded":""},null,8,["modelValue","min-date"]),g,f,(0,a._)("div",y,[(0,a._)("button",{class:(0,s.C_)(["button",{"is-active":"AM"==r.filterTime}]),onClick:i[2]||(i[2]=e=>"AM"==r.filterTime?r.filterTime="":r.filterTime="AM")},"AM",2),(0,a._)("button",{class:(0,s.C_)(["button",{"is-active":"PM"==r.filterTime}]),onClick:i[3]||(i[3]=e=>"PM"==r.filterTime?r.filterTime="":r.filterTime="PM")},"PM",2)]),_,(0,a._)("div",b,[(0,a._)("button",{class:"button",onClick:i[4]||(i[4]=e=>(r.dateTimeFilter=!1,r.filterTime="",r.filterDate="",c.filterSpecialistDateTime()))},"Cancel"),(0,a._)("button",{class:"button is-info",disabled:""==r.filterTime||null==r.filterDate,onClick:i[5]||(i[5]=e=>(c.filterSpecialistDateTime(),r.dateTimeFilter=!1))},"Confirm",8,w)])])])])],2),k,""!=r.citiesOrMunicipalities?((0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("div",C,[(0,a._)("div",F,[(0,a._)("div",S,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":i[6]||(i[6]=e=>r.distanceFilter=e)},H,512),[[l.bM,r.distanceFilter]])])]),(0,a._)("div",M,[(0,a._)("div",U,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":i[7]||(i[7]=e=>r.city=e)},[P,N,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.citiesOrMunicipalities.citiesOrMunicipalities.sort(((e,i)=>e.name>i.name?1:-1)),((e,i)=>((0,a.wg)(),(0,a.iD)("option",{key:i},(0,s.zw)(e.name),1)))),128))],512),[[l.bM,r.city]])])]),(0,a._)("div",x,[(0,a._)("div",z,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":i[8]||(i[8]=e=>r.typeFilter=e)},A,512),[[l.bM,r.typeFilter]])])]),(0,a._)("div",q,[(0,a._)("div",O,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":i[9]||(i[9]=e=>r.filterSpecialist=e),onChange:i[10]||(i[10]=(...e)=>c.filterSpecialistDateTime&&c.filterSpecialistDateTime(...e))},[V,Z,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.specializations,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,s.zw)(e),9,I)))),128))],544),[[l.bM,r.filterSpecialist]])])]),(0,a._)("div",Y,[(0,a._)("button",{class:"button is-info",onClick:i[11]||(i[11]=e=>r.dateTimeFilter=!0)},"Date and Time")])])])):(0,a.kq)("",!0),""!=r.citiesOrMunicipalities?((0,a.wg)(),(0,a.iD)("div",K,[W,(0,a._)("div",E,[(0,a._)("div",R,[B,(0,a._)("div",j,[(0,a._)("div",G,[(0,a._)("div",J,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":i[12]||(i[12]=e=>r.distanceFilter=e)},ee,512),[[l.bM,r.distanceFilter]])])]),(0,a._)("div",ie,[(0,a._)("div",te,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":i[13]||(i[13]=e=>r.city=e)},[ae,se,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.citiesOrMunicipalities.citiesOrMunicipalities.sort(((e,i)=>e.name>i.name?1:-1)),((e,i)=>((0,a.wg)(),(0,a.iD)("option",{key:i},(0,s.zw)(e.name.replace("City","").replace("Municipality","")),1)))),128))],512),[[l.bM,r.city]])])]),(0,a._)("div",le,[(0,a._)("div",oe,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":i[14]||(i[14]=e=>r.typeFilter=e)},re,512),[[l.bM,r.typeFilter]])])]),(0,a._)("div",ce,[(0,a._)("div",de,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":i[15]||(i[15]=e=>r.filterSpecialist=e),onChange:i[16]||(i[16]=(...e)=>c.filterSpecialistDateTime&&c.filterSpecialistDateTime(...e))},[pe,ue,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.specializations,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,s.zw)(e),9,ve)))),128))],544),[[l.bM,r.filterSpecialist]])])]),(0,a._)("div",he,[(0,a._)("button",{class:"button is-info",onClick:i[17]||(i[17]=e=>r.dateTimeFilter=!0)},"Date and Time")])])]),me,0!==r.geoHospitalNearestUser.length?((0,a.wg)(),(0,a.iD)("div",ge,[fe,(0,a._)("div",ye,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.geoHospitalNearestUserIndexed,((e,i)=>((0,a.wg)(),(0,a.iD)("div",{class:"columns is-centered has-text-left",id:"hospital",style:{"margin-bottom":"7.5%"},key:i},[(0,a._)("div",_e,[(0,a._)("a",{onClick:i=>c.bookAppointment(e)},[(0,a._)("figure",we,[(0,a._)("img",{loading:"lazy",style:{"border-radius":"10px"},src:`https://res.cloudinary.com/leindfraust/image/upload/v${(new Date).getMonth()}${(new Date).getDate()}/assets/managers/${e.hospital}.jpg`},null,8,ke)])],8,be)]),(0,a._)("div",De,[e?.arrFilter>0?((0,a.wg)(),(0,a.iD)("div",Ce,"Available for appointments")):(0,a.kq)("",!0),(0,a._)("a",{onClick:i=>c.bookAppointment(e)},[(0,a._)("h1",Se,(0,s.zw)(e.hospital),1),(0,a._)("p",Te,(0,s.zw)(e.barangayORStreet)+", "+(0,s.zw)(e.city)+", "+(0,s.zw)(e.province),1)],8,Fe),Le,(0,a._)("div",He,[Me,(0,a.Uk)(" "+(0,s.zw)(e.type)+" ",1),"undefined"!==typeof e.details[0].contacts?((0,a.wg)(),(0,a.iD)("span",Ue,[(0,a._)("p",Pe,[Ne,(0,a.Uk)(),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.details[0].contacts,((e,i)=>((0,a.wg)(),(0,a.iD)("span",{key:i},(0,s.zw)(e.contact+" "),1)))),128))])])):(0,a.kq)("",!0)])])])))),128))]),0==c.geoHospitalNearestUserIndexed.length?((0,a.wg)(),(0,a.iD)("div",xe," Sorry, no doctors available. ")):(0,a.kq)("",!0)])):r.isHospitalLoading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",ze," No registered hospitals/clinics are found, please try again or search another province. "))])])):(0,a.kq)("",!0)]),(0,a.Wm)($)],64)}var Ae=t(594),qe=t(778),Oe=t(4172),Ve={name:"HospitalFinder",computed:{geolocationIndexed(){return this.geolocation.filter((e=>e.province.toLowerCase().includes(this.province.toLowerCase())))},geoHospitalNearestUserIndexed(){return this.geoHospitalNearestUser&&this.filterSpecialist||new Date(this.filterDate)instanceof Date&&!isNaN(new Date(this.filterDate))&&null!=this.filterTime?this.geoHospitalNearestUser.slice().sort(((e,i)=>this.distanceFilter?e.distance-i.distance:(1e3*(i.engagements/10+2*i.ratings)-i.distance)/1e3-(1e3*(e.engagements/10+2*e.ratings)-e.distance)/1e3)).filter((e=>e.hospital.toLowerCase().includes(this.hospital.toLowerCase()))).filter((e=>e?.arrFilter>0)).filter((e=>""==this.typeFilter?"Private"==e.type||"Public"==e.type||"Clinic"==e.type:e.type==this.typeFilter)).filter((e=>e.city.includes(this.city))).slice().sort(((e,i)=>i.arrFilter-e.arrFilter)):!!this.geoHospitalNearestUser&&this.geoHospitalNearestUser.slice().sort(((e,i)=>this.distanceFilter?e.distance-i.distance:(1e3*(i.engagements/10+2*i.ratings)-i.distance)/1e3-(1e3*(e.engagements/10+2*e.ratings)-e.distance)/1e3)).filter((e=>e.hospital.toLowerCase().includes(this.hospital.toLowerCase()))).filter((e=>""==this.typeFilter?"Private"==e.type||"Public"==e.type||"Clinic"==e.type:e.type==this.typeFilter)).filter((e=>e.city.includes(this.city))).slice().sort(((e,i)=>i.arrFilter-e.arrFilter))}},async mounted(){await Ae.Z.get("/api/geolocation").then((e=>this.geolocation=e.data)),await this.loadProvider()},data(){return{city:"",isHospitalLoading:!1,checkUser:"",hospital:"",geolocation:[],typeFilter:"",citiesOrMunicipalities:[],province:this.$route.query.name,userLatitude:this.$route.query.userLat,userLongitude:this.$route.query.userLong,geoHospitalNearestUser:"",specializations:this.$store.getters.getSpecializationList,filterSpecialist:this.$route.query.symptom,filterDate:new Date(this.$route.query.date),filterTime:this.$route.query.time,distanceFilter:!0,dateTimeFilter:!1,doctorSpecialistFilter:[],provincePrompt:!1}},methods:{async unloadPropData(e){this.province=e,await this.loadProvider()},async bookAppointment(e){this.$store.commit("hospitalDetails",e),await Ae.Z.put(`/api/manager/${e._id}`,{engagements:e.engagements+1}),await this.$router.push(`/${e._id}/doctors`)},async loadProvider(){this.isHospitalLoading=!0,await this.geolocation.find((e=>e.province===this.province))&&(this.$router.push({path:"/provider",query:{name:this.province,symptom:this.filterSpecialist,userLat:this.userLatitude,userLong:this.userLongitude,date:new Date(this.filterDate).toLocaleDateString(),time:this.filterTime}}),this.citiesOrMunicipalities=this.geolocation.find((e=>e.province===this.province)),await Ae.Z.post("/api/geoFindHospitalNearestUser",{province:this.province,latitude:parseFloat(this.userLatitude),longitude:parseFloat(this.userLongitude)}).then((e=>this.geoHospitalNearestUser=e.data)),document.getElementById("background").style.background="none",(this.filterSpecialist||new Date(this.filterDate)instanceof Date&&!isNaN(new Date(this.filterDate))&&null!=this.filterTime)&&await this.filterSpecialistDateTime()),this.isHospitalLoading=!1},async filterSpecialistDateTime(){this.doctorSpecialistFilter=[],await this.$router.push({path:"/provider",query:{name:this.province,symptom:this.filterSpecialist,userLat:this.userLatitude,userLong:this.userLongitude,date:null!=this.filterDate?new Date(this.filterDate).toLocaleDateString():"",time:this.filterTime}});const e=this.geoHospitalNearestUser;for await(const i of e)this.isHospitalLoading=!0,await Ae.Z.post("/api/doctor/filteration",{hospital:i.hospital,filterSpecialist:this.filterSpecialist,date:this.filterDate,time:this.filterTime}).then((async e=>{this.doctorSpecialistFilter.push({hospital:i.hospital,docLength:e.data.filter((e=>this.filterSpecialist?i.specializations.find((e=>e.specialist===this.filterSpecialist))&&e.hospitalOrigin.filter((e=>e===i.hospital)):e.hospitalOrigin.filter((e=>e===i.hospital)))).length}),this.isHospitalLoading=!1}));await this.geoHospitalNearestUser.forEach((e=>e["arrFilter"]=this.doctorSpecialistFilter.find((i=>e.hospital==i.hospital))?.docLength))}},components:{NavigationTab:Oe.Z,FooterBlock:qe.Z}},Ze=t(3744);const Ie=(0,Ze.Z)(Ve,[["render",$e],["__scopeId","data-v-1c068c89"]]);var Ye=Ie}}]);
//# sourceMappingURL=943.27b914d7.js.map