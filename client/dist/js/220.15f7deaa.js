"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[220],{1199:function(i,t,e){e.d(t,{Z:function(){return gi}});var s=e(6252),a=e(3577),o=e(475);const n=i=>((0,s.dD)("data-v-74b627be"),i=i(),(0,s.Cn)(),i),l={class:"navbar",role:"navigation","aria-label":"main navigation"},r={class:"navbar-brand"},c=n((()=>(0,s._)("a",{class:"navbar-item",href:"/"},[(0,s._)("img",{src:o})],-1))),d=n((()=>(0,s._)("span",{"aria-hidden":"true"},null,-1))),p=n((()=>(0,s._)("span",{"aria-hidden":"true"},null,-1))),u=n((()=>(0,s._)("span",{"aria-hidden":"true"},null,-1))),v=[d,p,u],h={class:"navbar-start is-hidden-desktop"},g=n((()=>(0,s._)("a",{class:"navbar-item"},"About",-1))),m={key:0,class:"navbar-end"},f={key:0,class:"has-text-danger"},w={class:"fa-solid fa-bell animate__animated animate__heartBeat animate__infinite"},_={class:"is-size-7"},y={key:1,class:"has-text-info"},b=n((()=>(0,s._)("i",{class:"fa-solid fa-bell"},null,-1))),k=[b],D={key:0,class:"navbar-dropdown is-right notif-list"},C=["onClick"],$={class:"help"},A=["onClick"],N={key:1,class:"navbar-dropdown is-right"},F=n((()=>(0,s._)("div",{class:"navbar-item"},"No new notifications.",-1))),H=[F],L={key:0,class:"navbar-item is-hidden-mobile"},U={key:0,class:"image"},S=["src"],z={key:1,class:"image"},M=["src"],P={class:"navbar-dropdown is-right"},I=n((()=>(0,s._)("hr",{class:"navbar-divider"},null,-1))),x=n((()=>(0,s._)("strong",null,"Logout",-1))),q=[x],Z=n((()=>(0,s._)("i",{class:"fa-solid fa-bars"},null,-1))),T=[Z],j={class:"navbar-dropdown is-right"},Y=n((()=>(0,s._)("a",{class:"navbar-item"},"About",-1))),B={key:1,class:"navbar-end"},K={class:"navbar-item"},O={class:"buttons"},W=n((()=>(0,s._)("strong",null,"Sign up",-1))),E=n((()=>(0,s._)("i",{class:"fa-solid fa-bars"},null,-1))),V=[E],R={class:"navbar-dropdown is-right"},G=n((()=>(0,s._)("a",{class:"navbar-item"},"About",-1))),J=n((()=>(0,s._)("div",{class:"modal-background"},null,-1))),Q={class:"modal-content box"},X={class:"section"},ii={class:"title"},ti={class:"subtitle"},ei={class:"subtitle"},si={key:0},ai={class:"image is-square"},oi=["src"],ni={class:"has-text-centered"},li=["href"];function ri(i,t,e,o,n,d){const p=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",l,[(0,s._)("div",r,[c,(0,s._)("a",{role:"button",class:(0,a.C_)(["navbar-burger",{"is-active":n.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:t[0]||(t[0]=(...i)=>d.navbar&&d.navbar(...i))},v,2)]),(0,s._)("div",{id:"navbar",class:(0,a.C_)(["navbar-menu",{"is-active":n.isActive}])},[(0,s._)("div",h,[g,(0,s._)("a",{class:"navbar-item",onClick:t[1]||(t[1]=i=>this.$router.push("/contactus"))},"Contact Us")]),""!=n.patient?((0,s.wg)(),(0,s.iD)("div",m,[(0,s._)("div",{class:(0,a.C_)(["navbar-item has-dropdown",{"is-active":n.isActiveNotifications}])},[(0,s._)("a",{class:"navbar-link",onClick:t[2]||(t[2]=(...i)=>d.notification&&d.notification(...i))},[n.notifications.find((i=>!0===i.new))?((0,s.wg)(),(0,s.iD)("span",f,[(0,s._)("i",w,[(0,s._)("span",_,(0,a.zw)(n.notifications.filter((i=>i.new)).length),1)])])):((0,s.wg)(),(0,s.iD)("span",y,k))]),0!==n.notifications.length?((0,s.wg)(),(0,s.iD)("div",D,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.notifications.sort(((i,t)=>new Date(t.date).getTime()-new Date(i.date).getTime())),((i,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"navbar-item",key:t},[(0,s._)("div",{class:(0,a.C_)(["notification is-info",{"is-light":!i.new}])},[(0,s._)("a",{style:{"text-decoration":"none"},onClick:e=>d.openNotif(i,t)},[(0,s.Uk)((0,a.zw)(i.subject)+" ",1),(0,s._)("p",$,(0,a.zw)("Med Search"==i.from?`From ${i.from}`:`From\n                                    Dr. ${i.from}`),1)],8,C),(0,s._)("button",{class:"delete",onClick:t=>d.deleteNotif(i)},null,8,A)],2)])))),128))])):((0,s.wg)(),(0,s.iD)("div",N,H))],2),(0,s._)("div",{class:(0,a.C_)(["navbar-item has-dropdown",{"is-active":n.isActiveProfileDropdown}]),onClick:t[4]||(t[4]=i=>n.isActiveProfileDropdown=!n.isActiveProfileDropdown)},[n.checkImgState?((0,s.wg)(),(0,s.iD)("a",L,[i.$store.state.checkProfileImg?((0,s.wg)(),(0,s.iD)("figure",U,[(0,s._)("img",{class:"is-rounded",src:`https://res.cloudinary.com/leindfraust/image/upload/v${(new Date).getMonth()}${(new Date).getDate()}/assets/patients/${i.$store.state.patientUsername}.jpg`},null,8,S)])):((0,s.wg)(),(0,s.iD)("figure",z,[(0,s._)("img",{class:"is-rounded",src:`https://ui-avatars.com/api/?name=${this.$store.state.patientUsername}`},null,8,M)]))])):(0,s.kq)("",!0),(0,s._)("div",P,[(0,s.Wm)(p,{to:`/user/${n.patient}/profile`,class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Profile")])),_:1},8,["to"]),(0,s.Wm)(p,{to:`/user/${n.patient}/security`,class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Security")])),_:1},8,["to"]),I,(0,s._)("a",{class:"navbar-item has-text-danger",onClick:t[3]||(t[3]=(...i)=>d.logout&&d.logout(...i))},q)])],2),(0,s._)("div",{class:(0,a.C_)(["navbar-item has-dropdown is-hidden-mobile",{"is-active":n.isActiveMenuDropdown}])},[(0,s._)("a",{class:"navbar-item",onClick:t[5]||(t[5]=i=>n.isActiveMenuDropdown=!n.isActiveMenuDropdown)},T),(0,s._)("div",j,[Y,(0,s._)("a",{class:"navbar-item",onClick:t[6]||(t[6]=i=>this.$router.push("/contactus"))},"Contact Us")])],2)])):((0,s.wg)(),(0,s.iD)("div",B,[(0,s._)("div",K,[(0,s._)("div",O,[(0,s.Wm)(p,{to:"/user/login",class:"button is-dark is-inverted",style:{"background-color":"transparent"}},{default:(0,s.w5)((()=>[(0,s.Uk)("Log in")])),_:1}),(0,s.Wm)(p,{to:"/user/signup",class:"button is-info"},{default:(0,s.w5)((()=>[W])),_:1})])]),(0,s._)("div",{class:(0,a.C_)(["navbar-item has-dropdown is-hidden-mobile",{"is-active":n.isActiveMenuDropdown}])},[(0,s._)("a",{class:"navbar-item",onClick:t[7]||(t[7]=i=>n.isActiveMenuDropdown=!n.isActiveMenuDropdown)},V),(0,s._)("div",R,[G,(0,s._)("a",{class:"navbar-item",onClick:t[8]||(t[8]=i=>this.$router.push("/contactus"))},"Contact Us")])],2)]))],2)]),(0,s._)("div",{class:(0,a.C_)(["modal",{"is-active":n.isActiveModal}])},[J,(0,s._)("div",Q,[(0,s._)("section",X,[(0,s._)("p",ii,(0,a.zw)("Med Search"==n.viewNotif.from?`From ${n.viewNotif.from}`:`From\n                Dr. ${n.viewNotif.from}`),1),(0,s._)("p",ti,(0,a.zw)(new Date(n.viewNotif.date).toDateString()),1),(0,s._)("p",ei,(0,a.zw)(n.viewNotif.message),1),n.viewNotif.id?((0,s.wg)(),(0,s.iD)("div",si,[(0,s._)("figure",ai,[(0,s._)("img",{loading:"lazy",src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/patientCopy/${n.viewNotif.id}.jpg`},null,8,oi)]),(0,s._)("div",ni,[(0,s._)("a",{href:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/patientCopy/${n.viewNotif.id}.jpg`,class:"button",download:""},"Download File",8,li)])])):(0,s.kq)("",!0)])]),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[9]||(t[9]=(...i)=>d.closeNotificationModal&&d.closeNotificationModal(...i))})],2)],64)}var ci=e(9669),di=e.n(ci),pi=e(4058),ui={name:"NavigationTab",async mounted(){await di().get(`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patients/${this.$store.state.patientUsername}.jpg`).then((i=>200==i.status?this.$store.commit("checkProfileImg",!0):this.$store.commit("checkProfileImg",!1))).catch((i=>i?this.$store.commit("checkProfileImg",!1):this.$store.commit("checkProfileImg",!0))),this.checkImgState=!0,this.$store.state.patientID&&(pi.Z.connect(),pi.Z.emit("join room",this.$store.state.patientID),pi.Z.on("send messages",(i=>{this.notifications=i})),pi.Z.on("delete messages",(i=>{this.notifications=i})),pi.Z.on("messages",(i=>{this.notifications=i})))},data(){return{isActiveNotifications:!1,isActiveModal:!1,isActiveProfileDropdown:!1,isActiveMenuDropdown:!1,isActive:!1,patient:this.$store.state.patientUsername,notifications:[],viewNotif:[],checkImgState:!1}},methods:{navbar(){this.isActive=!this.isActive},async logout(){await this.$store.commit("patientID",null),await this.$store.commit("patientUsername",""),await di()["delete"]("/session/patient"),await this.$router.push("/user/login"),pi.Z.disconnect()},notification(){this.isActiveNotifications=!this.isActiveNotifications},async deleteNotif(i){await di().post("/api/imgUploadImgMsgDeletePatient",{id:"assets/patientimgmsg/patientCopy/"+i.id}),pi.Z.emit("delete message",this.$store.state.patientID,i)},openNotif(i,t){this.viewNotif=i,this.isActiveModal=!0,this.viewNotif.new&&(this.notifications[t].new=!1,pi.Z.emit("update message",this.notifications))},closeNotificationModal(){this.isActiveModal=!1}}},vi=e(3744);const hi=(0,vi.Z)(ui,[["render",ri],["__scopeId","data-v-74b627be"]]);var gi=hi},8220:function(i,t,e){e.r(t),e.d(t,{default:function(){return mi}});var s=e(6252),a=e(3577),o=e(9963);const n=i=>((0,s.dD)("data-v-48ef4017"),i=i(),(0,s.Cn)(),i),l={id:"background"},r=n((()=>(0,s._)("div",{class:"modal-background"},null,-1))),c=n((()=>(0,s._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,s._)("div",{class:"loader",style:{margin:"auto"}})],-1))),d=[r,c],p=n((()=>(0,s._)("div",{class:"block is-hidden-desktop"},null,-1))),u={key:0},v={class:"columns is-mobile",style:{overflow:"auto"}},h={class:"column is-narrow"},g={class:"select is-rounded"},m=n((()=>(0,s._)("option",{value:"",disabled:""},"City/Municipality",-1))),f=n((()=>(0,s._)("option",{value:""},"Any",-1))),w={class:"column is-narrow"},_={class:"select is-rounded"},y=(0,s.uE)('<option value="" disabled data-v-48ef4017>Type of Facility</option><option value="" data-v-48ef4017>Any</option><option value="Public" data-v-48ef4017>Public Hospital</option><option value="Private" data-v-48ef4017>Private Hospital</option><option value="Clinic" data-v-48ef4017>Clinic</option>',5),b=[y],k={class:"column is-narrow"},D=n((()=>(0,s._)("span",null,"Distance",-1))),C={class:"icon is-small"},$={key:0,class:"fas fa-angle-down","aria-hidden":"true"},A={key:1,class:"fas fa-angle-up","aria-hidden":"true"},N={class:"column is-narrow"},F={class:"select is-rounded"},H=n((()=>(0,s._)("option",{value:"",disabled:""},"Specialist",-1))),L=n((()=>(0,s._)("option",{value:""},"Any",-1))),U=["value"],S={class:"column"},z={class:"is-pulled-right"},M={class:"field has-addons"},P={class:"control has-icons-left"},I=n((()=>(0,s._)("span",{class:"icon is-small is-left"},[(0,s._)("i",{class:"fa-solid fa-location-dot"})],-1))),x={id:"provinces"},q={class:"control"},Z=["disabled"],T={class:"columns"},j={key:0,class:"column",style:{"max-height":"100vh",overflow:"auto"}},Y={class:"container is-fluid"},B={class:"column is-5"},K=["onClick"],O={class:"image is-3by2 is-rounded"},W=["src"],E={class:"column"},V={key:0,class:"notification is-info is-light"},R=["onClick"],G={class:"title is-4"},J={class:"subtitle is-6"},Q=n((()=>(0,s._)("br",null,null,-1))),X={class:"content"},ii=n((()=>(0,s._)("b",null,"Type of Facility:",-1))),ti={key:0},ei={class:"subtitle is-6"},si=n((()=>(0,s._)("b",null,"Contacts:",-1))),ai=n((()=>(0,s._)("hr",null,null,-1))),oi={key:0,class:"column notification is-danger is-light has-text-centered"},ni={key:1,class:"column notification is-danger is-light has-text-centered"},li={class:"column is-5"},ri=["src"];function ci(i,t,e,n,r,c){const y=(0,s.up)("NavigationTab");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(y),(0,s._)("div",{class:(0,a.C_)(["modal",{"is-active":r.isHospitalLoading}])},d,2),p,""!=r.citiesOrMunicipalities?((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",v,[(0,s._)("div",h,[(0,s._)("div",g,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[0]||(t[0]=i=>r.city=i)},[m,f,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.citiesOrMunicipalities.citiesOrMunicipalities.sort(((i,t)=>i.name>t.name?1:-1)),((i,t)=>((0,s.wg)(),(0,s.iD)("option",{key:t},(0,a.zw)(i.name),1)))),128))],512),[[o.bM,r.city]])])]),(0,s._)("div",w,[(0,s._)("div",_,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[1]||(t[1]=i=>r.typeFilter=i)},b,512),[[o.bM,r.typeFilter]])])]),(0,s._)("div",k,[(0,s._)("button",{class:"button is-rounded",onClick:t[2]||(t[2]=(...i)=>c.filterDistanceToggle&&c.filterDistanceToggle(...i))},[D,(0,s._)("span",C,[r.distanceFilter?((0,s.wg)(),(0,s.iD)("i",$)):((0,s.wg)(),(0,s.iD)("i",A))])])]),(0,s._)("div",N,[(0,s._)("div",F,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[3]||(t[3]=i=>r.filterSpecialist=i),onChange:t[4]||(t[4]=(...i)=>c.filterBySpecialization&&c.filterBySpecialization(...i))},[H,L,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.specializations,(i=>((0,s.wg)(),(0,s.iD)("option",{key:i,value:i},(0,a.zw)(i),9,U)))),128))],544),[[o.bM,r.filterSpecialist]])])]),(0,s._)("div",S,[(0,s._)("div",z,[(0,s._)("div",M,[(0,s._)("div",P,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[5]||(t[5]=i=>r.province=i),style:{width:"300px"},placeholder:"What region are you located?",list:"provinces"},null,512),[[o.nr,r.province]]),I]),(0,s._)("datalist",x,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.geolocationIndexed,(i=>((0,s.wg)(),(0,s.iD)("option",{key:i._id},(0,a.zw)(i.province),1)))),128))]),(0,s._)("div",q,[(0,s._)("button",{class:"button is-info is-rounded",onClick:t[6]||(t[6]=i=>c.loadProvider()),disabled:""==r.province},"Search",8,Z)])])])])]),(0,s._)("div",T,[0!==r.geoHospitalNearestUser.length?((0,s.wg)(),(0,s.iD)("div",j,[(0,s._)("div",Y,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.geoHospitalNearestUserIndexed,((i,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"columns has-text-left",id:"hospital",style:{"margin-bottom":"5%"},key:t},[(0,s._)("div",B,[(0,s._)("a",{onClick:t=>c.bookAppointment(i)},[(0,s._)("figure",O,[(0,s._)("img",{loading:"lazy",style:{"border-radius":"10px"},src:`https://res.cloudinary.com/leindfraust/image/upload/v${(new Date).getMonth()}${(new Date).getDate()}/assets/managers/${i.hospital}.jpg`},null,8,W)])],8,K)]),(0,s._)("div",E,[r.filterSpecialist&&0!==i?.specialistArrFilter?((0,s.wg)(),(0,s.iD)("div",V,(0,a.zw)(i?.specialistArrFilter)+" available "+(0,a.zw)(r.filterSpecialist),1)):(0,s.kq)("",!0),(0,s._)("a",{onClick:t=>c.bookAppointment(i)},[(0,s._)("h1",G,(0,a.zw)(i.hospital),1),(0,s._)("p",J,(0,a.zw)(i.barangayORStreet)+", "+(0,a.zw)(i.city)+", "+(0,a.zw)(i.province),1)],8,R),Q,(0,s._)("div",X,[ii,(0,s.Uk)(" "+(0,a.zw)(i.type)+" ",1),"undefined"!==typeof i.details[0].contacts?((0,s.wg)(),(0,s.iD)("span",ti,[(0,s._)("p",ei,[si,(0,s.Uk)(),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.details[0].contacts,((i,t)=>((0,s.wg)(),(0,s.iD)("span",{key:t},(0,a.zw)(i.contact+" "),1)))),128))])])):(0,s.kq)("",!0)])]),ai])))),128))]),0==c.geoHospitalNearestUserIndexed.length?((0,s.wg)(),(0,s.iD)("div",oi," Sorry, no Hospitals/Clinics has been found. ")):(0,s.kq)("",!0)])):r.isHospitalLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ni," Hospitals/Clinics not found, please try again or search another region. ")),(0,s._)("div",li,[(0,s._)("iframe",{loading:"lazy",id:"geoIframe",src:`https://maps.google.com/maps?q=${r.userLatitude},${r.userLongitude}&hl=es;z=14&output=embed`},null,8,ri)])])])):(0,s.kq)("",!0)])}var di=e(9669),pi=e.n(di),ui=e(1199),vi={name:"HospitalFinder",computed:{geolocationIndexed(){return this.geolocation.filter((i=>i.province.toLowerCase().includes(this.province.toLowerCase())))},geoHospitalNearestUserIndexed(){return this.geoHospitalNearestUser&&this.filterSpecialist?this.geoHospitalNearestUser.filter((i=>i.hospital.toLowerCase().includes(this.hospital.toLowerCase()))).filter((i=>i?.specialistArrFilter>0)).filter((i=>""==this.typeFilter?"Private"==i.type||"Public"==i.type||"Clinic"==i.type:i.type==this.typeFilter)).filter((i=>i.city.includes(this.city))).slice().sort(((i,t)=>t.specialistArrFilter-i.specialistArrFilter)):!!this.geoHospitalNearestUser&&this.geoHospitalNearestUser.filter((i=>i.hospital.toLowerCase().includes(this.hospital.toLowerCase()))).filter((i=>""==this.typeFilter?"Private"==i.type||"Public"==i.type||"Clinic"==i.type:i.type==this.typeFilter)).filter((i=>i.city.includes(this.city))).slice().sort(((i,t)=>t.specialistArrFilter-i.specialistArrFilter))}},async mounted(){await pi().get("/api/geolocation").then((i=>this.geolocation=i.data)),await this.loadProvider()},data(){return{city:"",isHospitalLoading:!1,checkUser:"",hospital:"",geolocation:[],typeFilter:"",citiesOrMunicipalities:[],province:this.$route.query.name,userLatitude:this.$route.query.userLat,userLongitude:this.$route.query.userLong,geoHospitalNearestUser:"",specializations:this.$store.getters.getSpecializationList,filterSpecialist:this.$route.query.symptom,distanceFilter:!1,doctorSpecialistFilter:[],provincePrompt:!1}},methods:{async bookAppointment(i){this.$store.commit("hospitalDetails",i),await pi().put(`/api/manager/${i._id}`,{engagements:i.engagements+1}),await this.$router.push(`/${i._id}/doctors`)},filterDistanceToggle(){this.isHospitalLoading=!0,this.geoHospitalNearestUser.sort(((i,t)=>this.distanceFilter?t.distance-i.distance:i.distance-t.distance)),this.distanceFilter=!this.distanceFilter,this.isHospitalLoading=!1},async loadProvider(){this.isHospitalLoading=!0,await this.geolocation.find((i=>i.province===this.province))&&(this.$router.push({path:"/provider",query:{name:this.province,symptom:this.filterSpecialist,userLat:this.userLatitude,userLong:this.userLongitude}}),this.citiesOrMunicipalities=this.geolocation.find((i=>i.province===this.province)),await pi().post("/api/geoFindHospitalNearestUser",{province:this.province,latitude:parseFloat(this.userLatitude),longitude:parseFloat(this.userLongitude)}).then((i=>this.geoHospitalNearestUser=i.data)),document.getElementById("background").style.background="none",this.filterSpecialist&&await this.filterBySpecialization()),this.isHospitalLoading=!1},async filterBySpecialization(){this.isHospitalLoading=!0,this.doctorSpecialistFilter=[],this.$router.push({path:"/provider",query:{name:this.province,symptom:this.filterSpecialist,userLat:this.userLatitude,userLong:this.userLongitude}}),this.geoHospitalNearestUser.forEach((async i=>{await pi().post("/api/doctor/filteration",{hospital:i.hospital,filterSpecialist:this.filterSpecialist}).then((async t=>{this.doctorSpecialistFilter.push(t.data.filter((()=>i.specializations.find((i=>i.specialist===this.filterSpecialist)))).length),await this.geoHospitalNearestUser.forEach(((i,t)=>i["specialistArrFilter"]=this.doctorSpecialistFilter[t]))}))})),this.isHospitalLoading=!1}},components:{NavigationTab:ui.Z}},hi=e(3744);const gi=(0,hi.Z)(vi,[["render",ci],["__scopeId","data-v-48ef4017"]]);var mi=gi},475:function(i,t,e){i.exports=e.p+"img/medi-search-horizontal.d15d9e4c.png"}}]);
//# sourceMappingURL=220.15f7deaa.js.map