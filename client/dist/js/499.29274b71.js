"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[499],{9499:function(e,s,a){a.r(s),a.d(s,{default:function(){return Qe}});var i=a(6252),l=a(9963),t=a(3577);const n=e=>((0,i.dD)("data-v-baef62b8"),e=e(),(0,i.Cn)(),e),o={class:"section"},r=n((()=>(0,i._)("i",{class:"fa-solid fa-arrow-left"},null,-1))),d=(0,i.Uk)(" Back to Login"),c={class:"container",style:{width:"50%",margin:"auto"}},u={key:0,class:"notification is-danger"},p=(0,i.Uk)(" Oops, something went wrong. Try again later or "),m=(0,i.Uk)("contact us"),h={class:"box"},w={class:"field is-horizontal"},g={class:"field-body"},_={class:"field"},v={class:"control"},y=n((()=>(0,i._)("label",{class:"label"},"First name:",-1))),b={class:"field"},f={class:"control"},k=n((()=>(0,i._)("label",{class:"label"},"Last name:",-1))),D={class:"field is-horizontal"},C={class:"field-body"},A={class:"field"},F={class:"control"},U=n((()=>(0,i._)("label",{class:"label"},"Age:",-1))),x=n((()=>(0,i._)("br",null,null,-1))),T={class:"field"},q={class:"control"},M=n((()=>(0,i._)("label",{class:"label"},"Gender:",-1))),N={class:"radio"},z=(0,i.Uk)(" Male "),P={class:"radio"},V=(0,i.Uk)(" Female "),R={class:"field is-horizontal"},E=n((()=>(0,i._)("br",null,null,-1))),I={class:"field-body"},L={class:"field"},O={class:"control"},S=n((()=>(0,i._)("label",{class:"label"},"Contact Number:",-1))),G={class:"field"},H={class:"control"},K=n((()=>(0,i._)("label",{class:"label"},"Gmail(Optional):",-1))),W={key:0},Y={key:0,class:"help is-danger"},$=(0,i.Uk)("Unavailable"),B={key:0,class:"fas fa-spinner fa-spin"},Z={key:1,class:"help is-success"},j=(0,i.Uk)("Available"),J={key:0,class:"fas fa-spinner fa-spin"},Q={class:"field is-horizontal"},X={class:"field-body"},ee={class:"field"},se={class:"control"},ae=n((()=>(0,i._)("label",{class:"label"},"Province:",-1))),ie={class:"dropdown-trigger"},le={key:0},te={key:1},ne={class:"dropdown-menu"},oe=["onClick"],re={class:"field"},de={class:"control"},ce=n((()=>(0,i._)("div",{class:"label"},"City/Municipality:",-1))),ue={class:"dropdown-trigger"},pe=["disabled"],me={key:0},he={key:1},we={key:0,class:"dropdown-menu"},ge=["onClick"],_e={class:"field"},ve={class:"control"},ye=n((()=>(0,i._)("label",{class:"label"},"Current Address",-1))),be={class:"field"},fe={class:"control"},ke=n((()=>(0,i._)("label",{class:"label"},"Username:",-1))),De={key:0},Ce={key:0,class:"help is-danger"},Ae=(0,i.Uk)("Unavailable"),Fe={key:0,class:"fas fa-spinner fa-spin"},Ue={key:1,class:"help is-success"},xe=(0,i.Uk)("Available"),Te={key:0,class:"fas fa-spinner fa-spin"},qe={class:"field is-horizontal"},Me={class:"field-body"},Ne={class:"field"},ze={class:"control"},Pe=n((()=>(0,i._)("label",{class:"label"},"Password:",-1))),Ve={class:"subtitle has-text-danger"},Re={class:"field"},Ee={class:"control"},Ie=n((()=>(0,i._)("label",{class:"label"},"Repeat Password:",-1))),Le={class:"subtitle has-text-danger"},Oe={class:"checkbox"},Se=(0,i.Uk)(" I agree to the "),Ge=n((()=>(0,i._)("a",{href:"#"},"terms and conditions",-1))),He=n((()=>(0,i._)("br",null,null,-1))),Ke={class:"has-text-right"},We=["disabled"];function Ye(e,s,a,n,Ye,$e){const Be=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("section",o,[(0,i.Wm)(Be,{to:"/user/login"},{default:(0,i.w5)((()=>[r,d])),_:1}),(0,i._)("div",c,[Ye.errMsg?((0,i.wg)(),(0,i.iD)("div",u,[p,(0,i.Wm)(Be,{to:"/contactus"},{default:(0,i.w5)((()=>[m])),_:1})])):(0,i.kq)("",!0),(0,i._)("div",h,[(0,i._)("div",w,[(0,i._)("div",g,[(0,i._)("div",_,[(0,i._)("p",v,[y,(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"First name","onUpdate:modelValue":s[0]||(s[0]=e=>Ye.firstName=e),required:""},null,512),[[l.nr,Ye.firstName]])])]),(0,i._)("div",b,[(0,i._)("p",f,[k,(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"Last name","onUpdate:modelValue":s[1]||(s[1]=e=>Ye.lastName=e),required:""},null,512),[[l.nr,Ye.lastName]])])])])]),(0,i._)("div",D,[(0,i._)("div",C,[(0,i._)("div",A,[(0,i._)("p",F,[U,(0,i.wy)((0,i._)("input",{class:"input",type:"number",placeholder:"age","onUpdate:modelValue":s[2]||(s[2]=e=>Ye.age=e),required:""},null,512),[[l.nr,Ye.age]])])]),x,(0,i._)("div",T,[(0,i._)("p",q,[M,(0,i._)("label",N,[(0,i._)("input",{type:"radio",name:"sex",onClick:s[3]||(s[3]=(...e)=>$e.sexMale&&$e.sexMale(...e))}),z]),(0,i._)("label",P,[(0,i._)("input",{type:"radio",name:"sex",onClick:s[4]||(s[4]=(...e)=>$e.sexFemale&&$e.sexFemale(...e))}),V])])])])]),(0,i._)("div",R,[E,(0,i._)("div",I,[(0,i._)("div",L,[(0,i._)("div",O,[S,(0,i.wy)((0,i._)("input",{class:"input",type:"number",placeholder:"contact number","onUpdate:modelValue":s[5]||(s[5]=e=>Ye.contactNum=e),required:""},null,512),[[l.nr,Ye.contactNum]])])]),(0,i._)("div",G,[(0,i._)("div",H,[K,""!==Ye.emailFound?((0,i.wg)(),(0,i.iD)("div",W,[Ye.emailFound?((0,i.wg)(),(0,i.iD)("p",Y,[$,Ye.loadingEmail?((0,i.wg)(),(0,i.iD)("i",B)):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.iD)("p",Z,[j,Ye.loadingEmail?((0,i.wg)(),(0,i.iD)("i",J)):(0,i.kq)("",!0)]))])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{class:"input",type:"email",placeholder:"gmail","onUpdate:modelValue":s[6]||(s[6]=e=>Ye.gmail=e),onInput:s[7]||(s[7]=(...e)=>$e.emailFindTimeout&&$e.emailFindTimeout(...e)),required:""},null,544),[[l.nr,Ye.gmail]])])])])]),(0,i._)("div",Q,[(0,i._)("div",X,[(0,i._)("div",ee,[(0,i._)("div",se,[ae,(0,i._)("div",{class:(0,t.C_)(["dropdown",{"is-active":Ye.isActiveDropdownProvince}])},[(0,i._)("div",ie,[(0,i._)("button",{class:"button","aria-haspopup":"true",onClick:s[8]||(s[8]=(...e)=>$e.provinceDropdown&&$e.provinceDropdown(...e))},[""==Ye.province?((0,i.wg)(),(0,i.iD)("span",le,"Select")):((0,i.wg)(),(0,i.iD)("span",te,(0,t.zw)(Ye.province),1))])]),(0,i._)("div",ne,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Ye.geolocationData,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"dropdown-content",key:e._id},[(0,i._)("a",{class:"dropdown-item",onClick:s=>$e.selectProvince(e.province)},(0,t.zw)(e.province),9,oe)])))),128))])],2)])]),(0,i._)("div",re,[(0,i._)("div",de,[ce,(0,i._)("div",{class:(0,t.C_)(["dropdown",{"is-active":Ye.isActiveDropdownCity}])},[(0,i._)("div",ue,[(0,i._)("button",{class:"button","aria-haspopup":"true",onClick:s[9]||(s[9]=(...e)=>$e.cityDropdown&&$e.cityDropdown(...e)),disabled:""==Ye.province},[""==Ye.city?((0,i.wg)(),(0,i.iD)("span",me,"Select")):((0,i.wg)(),(0,i.iD)("span",he,(0,t.zw)(Ye.city),1))],8,pe)]),Ye.province?((0,i.wg)(),(0,i.iD)("div",we,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Ye.citiesData,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"dropdown-content",key:e.name},[(0,i._)("a",{class:"dropdown-item",onClick:s=>$e.selectCity(e.name)},(0,t.zw)(e.name),9,ge)])))),128))])):(0,i.kq)("",!0)],2)])])])]),(0,i._)("div",_e,[(0,i._)("p",ve,[ye,(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"your current address","onUpdate:modelValue":s[10]||(s[10]=e=>Ye.currentAddress=e),required:""},null,512),[[l.nr,Ye.currentAddress]])])]),(0,i._)("div",be,[(0,i._)("div",fe,[ke,""!==Ye.usernameFound?((0,i.wg)(),(0,i.iD)("div",De,[Ye.usernameFound?((0,i.wg)(),(0,i.iD)("p",Ce,[Ae,Ye.loadingUsername?((0,i.wg)(),(0,i.iD)("i",Fe)):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.iD)("p",Ue,[xe,Ye.loadingUsername?((0,i.wg)(),(0,i.iD)("i",Te)):(0,i.kq)("",!0)]))])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"username","onUpdate:modelValue":s[11]||(s[11]=e=>Ye.username=e),onInput:s[12]||(s[12]=(...e)=>$e.usernameFindTimeout&&$e.usernameFindTimeout(...e)),required:""},null,544),[[l.nr,Ye.username]])])]),(0,i._)("div",qe,[(0,i._)("div",Me,[(0,i._)("div",Ne,[(0,i._)("p",ze,[Pe,(0,i.wy)((0,i._)("input",{class:"input",type:"password",placeholder:"password","onUpdate:modelValue":s[13]||(s[13]=e=>Ye.password=e),required:""},null,512),[[l.nr,Ye.password]])]),(0,i._)("p",Ve,(0,t.zw)(Ye.passwordMatch),1)]),(0,i._)("div",Re,[(0,i._)("p",Ee,[Ie,(0,i.wy)((0,i._)("input",{class:"input",type:"password",placeholder:"repeat password","onUpdate:modelValue":s[14]||(s[14]=e=>Ye.passwordRepeat=e),required:""},null,512),[[l.nr,Ye.passwordRepeat]])]),(0,i._)("p",Le,(0,t.zw)(Ye.passwordMatch),1)])])]),(0,i._)("label",Oe,[(0,i._)("input",{type:"checkbox",onClick:s[15]||(s[15]=(...e)=>$e.agreeTermsAndConditions&&$e.agreeTermsAndConditions(...e))}),Se,Ge]),He,(0,i._)("div",Ke,[(0,i._)("button",{class:"button is-primary",onClick:s[16]||(s[16]=e=>$e.signup(e)),disabled:null==Ye.firstName||null==Ye.lastName||null==Ye.age||null==Ye.sex||null==Ye.contactNum||null==Ye.province||null==Ye.city||null==Ye.currentAddress||null==Ye.username||null==Ye.password||0==Ye.termsAndConditionsAgreed},"Confirm",8,We)])])])])}var $e=a(9669),Be=a.n($e),Ze={username:"UserSignUp",data(){return{firstName:"",lastName:"",age:"",contactNum:"",gmail:"",currentAddress:"",username:"",password:"",passwordRepeat:"",sex:null,passwordMatch:"",geolocationData:[],isActiveDropdownProvince:!1,isActiveDropdownCity:!1,city:"",province:"",citiesData:[],termsAndConditionsAgreed:!1,errMsg:"",usernameFound:"",loadingUsername:!1,emailFound:"",loadingEmail:!1,searchTimeout:null,randomChar:""}},async mounted(){await Be().get("/api/geolocation").then((e=>this.geolocationData=e.data))},methods:{async usernameFindTimeout(){this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.searchTimeout=setTimeout(this.usernameFinder,500)},async usernameFinder(){this.loadingUsername=!0,await Be().post("/api/user/check_username",{username:this.username}).then((e=>{this.usernameFound=e.data})),""==await this.username&&(this.usernameFound=""),this.loadingUsername=!1},async emailFindTimeout(){this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.searchTimeout=setTimeout(this.emailFinder,500)},async emailFinder(){this.loadingEmail=!0,await Be().post("/api/user/check_email",{email:this.gmail}).then((e=>{this.emailFound=e.data})),""==await this.gmail&&(this.emailFound=""),this.loadingEmail=!1},agreeTermsAndConditions(){this.termsAndConditionsAgreed=!0},sexMale(){this.sex="Male"},sexFemale(){this.sex="Female"},async selectProvince(e){this.city="",this.province=e,this.isActiveDropdownProvince=!1,await Be().get("/api/geolocation").then((s=>this.citiesData=s.data.find((s=>s.province===e)))),this.citiesData=await this.citiesData.citiesOrMunicipalities.sort(((e,s)=>e.name>s.name?1:-1))},selectCity(e){this.city=e,this.isActiveDropdownCity=!1},provinceDropdown(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},cityDropdown(){this.isActiveDropdownCity=!this.isActiveDropdownCity},generateRandomChar(){let e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=s.length;for(let i=0;i<12;i++)e+=s.charAt(Math.floor(Math.random()*a));this.randomChar=e},async signup(){if(this.password!==this.passwordRepeat?this.passwordMatch="password do not match":this.passwordMatch=null,this.password===this.passwordRepeat&&!this.usernameFound&&!this.emailFound)try{""==this.gmail&&this.generateRandomChar(),await Be().post("/api/user",{username:this.username,password:this.password,name:[this.firstName,this.lastName],age:this.age,sex:this.sex,contactNum:this.contactNum,gmail:""==this.gmail?`${this.randomChar}dummyemail@email.com`:this.gmail,province:this.province,city:this.city,currentAddress:this.currentAddress}),await this.$store.commit("accountCreated",!0),await this.$router.push("/user/login")}catch(e){this.errMsg=e}}}},je=a(3744);const Je=(0,je.Z)(Ze,[["render",Ye],["__scopeId","data-v-baef62b8"]]);var Qe=Je}}]);
//# sourceMappingURL=499.29274b71.js.map