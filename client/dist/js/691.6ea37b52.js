"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[691],{8691:function(e,s,a){a.r(s),a.d(s,{default:function(){return Se}});var i=a(6252),l=a(9963),t=a(3577);const n=e=>((0,i.dD)("data-v-71e0ddcc"),e=e(),(0,i.Cn)(),e),o={class:"hero is-fullheight"},r={class:"hero-body"},d={class:"container"},c=n((()=>(0,i._)("i",{class:"fa-solid fa-arrow-left"},null,-1))),u={class:"container",style:{width:"50%",margin:"auto"}},p={key:0,class:"notification is-danger"},m={class:"box"},h={class:"field is-horizontal"},w={class:"field-body"},_={class:"field"},g={class:"control"},v=n((()=>(0,i._)("label",{class:"label"},"First name:",-1))),y={class:"field"},b={class:"control"},f=n((()=>(0,i._)("label",{class:"label"},"Last name:",-1))),k={class:"field is-horizontal"},D={class:"field-body"},C={class:"field"},A={class:"control"},U=n((()=>(0,i._)("label",{class:"label"},"Age:",-1))),F=n((()=>(0,i._)("br",null,null,-1))),x={class:"field"},T={class:"control"},q=n((()=>(0,i._)("label",{class:"label"},"Gender:",-1))),M={class:"radio"},N={class:"radio"},z={class:"field is-horizontal"},P=n((()=>(0,i._)("br",null,null,-1))),V={class:"field-body"},R={class:"field"},E={class:"control"},Z=n((()=>(0,i._)("label",{class:"label"},"Contact Number:",-1))),I={class:"field"},L={class:"control"},O=n((()=>(0,i._)("label",{class:"label"},"Email(Optional):",-1))),S={key:0},W={key:0,class:"help is-danger"},H={key:0,class:"fas fa-spinner fa-spin"},K={key:1,class:"help is-success"},Y={key:0,class:"fas fa-spinner fa-spin"},$={class:"field is-horizontal"},B={class:"field-body"},G={class:"field"},j={class:"control"},J=n((()=>(0,i._)("label",{class:"label"},"Province:",-1))),Q={class:"dropdown-trigger"},X={key:0},ee={key:1},se={class:"dropdown-menu"},ae=["onClick"],ie={class:"field"},le={class:"control"},te=n((()=>(0,i._)("div",{class:"label"},"City/Municipality:",-1))),ne={class:"dropdown-trigger"},oe=["disabled"],re={key:0},de={key:1},ce={key:0,class:"dropdown-menu"},ue=["onClick"],pe={class:"field"},me={class:"control"},he=n((()=>(0,i._)("label",{class:"label"},"Current Address",-1))),we={class:"field"},_e={class:"control"},ge=n((()=>(0,i._)("label",{class:"label"},"Username:",-1))),ve={key:0},ye={key:0,class:"help is-danger"},be={key:0,class:"fas fa-spinner fa-spin"},fe={key:1,class:"help is-success"},ke={key:0,class:"fas fa-spinner fa-spin"},De={class:"field is-horizontal"},Ce={class:"field-body"},Ae={class:"field"},Ue={class:"control"},Fe=n((()=>(0,i._)("label",{class:"label"},"Password:",-1))),xe={class:"subtitle has-text-danger"},Te={class:"field"},qe={class:"control"},Me=n((()=>(0,i._)("label",{class:"label"},"Repeat Password:",-1))),Ne={class:"subtitle has-text-danger"},ze={class:"checkbox"},Pe=n((()=>(0,i._)("br",null,null,-1))),Ve={class:"has-text-right"},Re=["disabled"];function Ee(e,s,a,n,Ee,Ze){const Ie=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("section",o,[(0,i._)("div",r,[(0,i._)("div",d,[(0,i.Wm)(Ie,{to:"/user/login"},{default:(0,i.w5)((()=>[c,(0,i.Uk)(" Back to Login")])),_:1}),(0,i._)("div",u,[Ee.errMsg?((0,i.wg)(),(0,i.iD)("div",p,[(0,i.Uk)(" Oops, something went wrong. Try again later or "),(0,i.Wm)(Ie,{to:"/contactus"},{default:(0,i.w5)((()=>[(0,i.Uk)("contact us")])),_:1})])):(0,i.kq)("",!0),(0,i._)("div",m,[(0,i._)("div",h,[(0,i._)("div",w,[(0,i._)("div",_,[(0,i._)("p",g,[v,(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"First name","onUpdate:modelValue":s[0]||(s[0]=e=>Ee.firstName=e),required:""},null,512),[[l.nr,Ee.firstName]])])]),(0,i._)("div",y,[(0,i._)("p",b,[f,(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"Last name","onUpdate:modelValue":s[1]||(s[1]=e=>Ee.lastName=e),required:""},null,512),[[l.nr,Ee.lastName]])])])])]),(0,i._)("div",k,[(0,i._)("div",D,[(0,i._)("div",C,[(0,i._)("p",A,[U,(0,i.wy)((0,i._)("input",{class:"input",type:"number",placeholder:"age","onUpdate:modelValue":s[2]||(s[2]=e=>Ee.age=e),required:""},null,512),[[l.nr,Ee.age]])])]),F,(0,i._)("div",x,[(0,i._)("p",T,[q,(0,i._)("label",M,[(0,i._)("input",{type:"radio",name:"sex",onClick:s[3]||(s[3]=(...e)=>Ze.sexMale&&Ze.sexMale(...e))}),(0,i.Uk)(" Male ")]),(0,i._)("label",N,[(0,i._)("input",{type:"radio",name:"sex",onClick:s[4]||(s[4]=(...e)=>Ze.sexFemale&&Ze.sexFemale(...e))}),(0,i.Uk)(" Female ")])])])])]),(0,i._)("div",z,[P,(0,i._)("div",V,[(0,i._)("div",R,[(0,i._)("div",E,[Z,(0,i.wy)((0,i._)("input",{class:"input",type:"number",placeholder:"contact number","onUpdate:modelValue":s[5]||(s[5]=e=>Ee.contactNum=e),required:""},null,512),[[l.nr,Ee.contactNum]])])]),(0,i._)("div",I,[(0,i._)("div",L,[O,""!==Ee.emailFound?((0,i.wg)(),(0,i.iD)("div",S,[Ee.emailFound?((0,i.wg)(),(0,i.iD)("p",W,[(0,i.Uk)("Unavailable"),Ee.loadingEmail?((0,i.wg)(),(0,i.iD)("i",H)):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.iD)("p",K,[(0,i.Uk)("Available"),Ee.loadingEmail?((0,i.wg)(),(0,i.iD)("i",Y)):(0,i.kq)("",!0)]))])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{class:"input",type:"email",placeholder:"gmail","onUpdate:modelValue":s[6]||(s[6]=e=>Ee.gmail=e),onInput:s[7]||(s[7]=(...e)=>Ze.emailFindTimeout&&Ze.emailFindTimeout(...e)),required:""},null,544),[[l.nr,Ee.gmail]])])])])]),(0,i._)("div",$,[(0,i._)("div",B,[(0,i._)("div",G,[(0,i._)("div",j,[J,(0,i._)("div",{class:(0,t.C_)(["dropdown",{"is-active":Ee.isActiveDropdownProvince}])},[(0,i._)("div",Q,[(0,i._)("button",{class:"button","aria-haspopup":"true",onClick:s[8]||(s[8]=(...e)=>Ze.provinceDropdown&&Ze.provinceDropdown(...e))},[""==Ee.province?((0,i.wg)(),(0,i.iD)("span",X,"Select")):((0,i.wg)(),(0,i.iD)("span",ee,(0,t.zw)(Ee.province),1))])]),(0,i._)("div",se,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Ee.geolocationData,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"dropdown-content",key:e._id},[(0,i._)("a",{class:"dropdown-item",onClick:s=>Ze.selectProvince(e.province)},(0,t.zw)(e.province),9,ae)])))),128))])],2)])]),(0,i._)("div",ie,[(0,i._)("div",le,[te,(0,i._)("div",{class:(0,t.C_)(["dropdown",{"is-active":Ee.isActiveDropdownCity}])},[(0,i._)("div",ne,[(0,i._)("button",{class:"button","aria-haspopup":"true",onClick:s[9]||(s[9]=(...e)=>Ze.cityDropdown&&Ze.cityDropdown(...e)),disabled:""==Ee.province},[""==Ee.city?((0,i.wg)(),(0,i.iD)("span",re,"Select")):((0,i.wg)(),(0,i.iD)("span",de,(0,t.zw)(Ee.city),1))],8,oe)]),Ee.province?((0,i.wg)(),(0,i.iD)("div",ce,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Ee.citiesData,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"dropdown-content",key:e.name},[(0,i._)("a",{class:"dropdown-item",onClick:s=>Ze.selectCity(e.name)},(0,t.zw)(e.name),9,ue)])))),128))])):(0,i.kq)("",!0)],2)])])])]),(0,i._)("div",pe,[(0,i._)("p",me,[he,(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"your current address","onUpdate:modelValue":s[10]||(s[10]=e=>Ee.currentAddress=e),required:""},null,512),[[l.nr,Ee.currentAddress]])])]),(0,i._)("div",we,[(0,i._)("div",_e,[ge,""!==Ee.usernameFound?((0,i.wg)(),(0,i.iD)("div",ve,[Ee.usernameFound?((0,i.wg)(),(0,i.iD)("p",ye,[(0,i.Uk)("Unavailable"),Ee.loadingUsername?((0,i.wg)(),(0,i.iD)("i",be)):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.iD)("p",fe,[(0,i.Uk)("Available"),Ee.loadingUsername?((0,i.wg)(),(0,i.iD)("i",ke)):(0,i.kq)("",!0)]))])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"username","onUpdate:modelValue":s[11]||(s[11]=e=>Ee.username=e),onInput:s[12]||(s[12]=(...e)=>Ze.usernameFindTimeout&&Ze.usernameFindTimeout(...e)),required:""},null,544),[[l.nr,Ee.username]])])]),(0,i._)("div",De,[(0,i._)("div",Ce,[(0,i._)("div",Ae,[(0,i._)("p",Ue,[Fe,(0,i.wy)((0,i._)("input",{class:"input",type:"password",placeholder:"password","onUpdate:modelValue":s[13]||(s[13]=e=>Ee.password=e),required:""},null,512),[[l.nr,Ee.password]])]),(0,i._)("p",xe,(0,t.zw)(Ee.passwordMatch),1)]),(0,i._)("div",Te,[(0,i._)("p",qe,[Me,(0,i.wy)((0,i._)("input",{class:"input",type:"password",placeholder:"repeat password","onUpdate:modelValue":s[14]||(s[14]=e=>Ee.passwordRepeat=e),required:""},null,512),[[l.nr,Ee.passwordRepeat]])]),(0,i._)("p",Ne,(0,t.zw)(Ee.passwordMatch),1)])])]),(0,i._)("label",ze,[(0,i._)("input",{type:"checkbox",onClick:s[15]||(s[15]=(...e)=>Ze.agreeTermsAndConditions&&Ze.agreeTermsAndConditions(...e))}),(0,i.Uk)(" I agree to the "),(0,i.Wm)(Ie,{to:"/terms-and-conditions"},{default:(0,i.w5)((()=>[(0,i.Uk)("terms and conditions")])),_:1})]),Pe,(0,i._)("div",Ve,[(0,i._)("button",{class:"button is-primary",onClick:s[16]||(s[16]=e=>Ze.signup(e)),disabled:null==Ee.firstName||null==Ee.lastName||null==Ee.age||null==Ee.sex||null==Ee.contactNum||null==Ee.province||null==Ee.city||null==Ee.currentAddress||null==Ee.username||null==Ee.password||0==Ee.termsAndConditionsAgreed},"Confirm",8,Re)])])])])])])}var Ze=a(594),Ie={username:"UserSignUp",data(){return{firstName:"",lastName:"",age:"",contactNum:"",gmail:"",currentAddress:"",username:"",password:"",passwordRepeat:"",sex:null,passwordMatch:"",geolocationData:[],isActiveDropdownProvince:!1,isActiveDropdownCity:!1,city:"",province:"",citiesData:[],termsAndConditionsAgreed:!1,errMsg:"",usernameFound:"",loadingUsername:!1,emailFound:"",loadingEmail:!1,searchTimeout:null,randomChar:""}},async mounted(){await Ze.Z.get("/api/geolocation").then((e=>this.geolocationData=e.data))},methods:{async usernameFindTimeout(){this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.searchTimeout=setTimeout(this.usernameFinder,500)},async usernameFinder(){this.loadingUsername=!0,await Ze.Z.post("/api/user/check_username",{username:this.username}).then((e=>{this.usernameFound=e.data})),""==this.username&&(this.usernameFound=""),this.loadingUsername=!1},async emailFindTimeout(){this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.searchTimeout=setTimeout(this.emailFinder,500)},async emailFinder(){this.loadingEmail=!0,await Ze.Z.post("/api/user/check_email",{email:this.gmail}).then((e=>{this.emailFound=e.data})),""==this.gmail&&(this.emailFound=""),this.loadingEmail=!1},agreeTermsAndConditions(){this.termsAndConditionsAgreed=!0},sexMale(){this.sex="Male"},sexFemale(){this.sex="Female"},async selectProvince(e){this.city="",this.province=e,this.isActiveDropdownProvince=!1,await Ze.Z.get("/api/geolocation").then((s=>this.citiesData=s.data.find((s=>s.province===e)))),this.citiesData=await this.citiesData.citiesOrMunicipalities.sort(((e,s)=>e.name>s.name?1:-1))},selectCity(e){this.city=e,this.isActiveDropdownCity=!1},provinceDropdown(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},cityDropdown(){this.isActiveDropdownCity=!this.isActiveDropdownCity},generateRandomChar(){let e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=s.length;for(let i=0;i<12;i++)e+=s.charAt(Math.floor(Math.random()*a));this.randomChar=e},async signup(){if(this.password!==this.passwordRepeat?this.passwordMatch="password do not match":this.passwordMatch=null,this.password===this.passwordRepeat&&!this.usernameFound&&!this.emailFound)try{""==this.gmail&&this.generateRandomChar(),await Ze.Z.post("/api/user",{username:this.username,password:this.password,name:[this.firstName,this.lastName],age:this.age,sex:this.sex,contactNum:this.contactNum,gmail:""==this.gmail?`${this.randomChar}dummyemail@email.com`:this.gmail,province:this.province,city:this.city,currentAddress:this.currentAddress}),await this.$store.commit("accountCreated",!0),await this.$router.push("/user/login")}catch(e){this.errMsg=e}}}},Le=a(3744);const Oe=(0,Le.Z)(Ie,[["render",Ee],["__scopeId","data-v-71e0ddcc"]]);var Se=Oe}}]);
//# sourceMappingURL=691.6ea37b52.js.map