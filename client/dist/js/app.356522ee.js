(function(){"use strict";var e={2368:function(e,t,a){var s=a(9963),i=a(405),l=a(6252);function o(e,t,a,s,i,o){const n=(0,l.up)("router-view");return(0,l.wg)(),(0,l.j4)(n)}var n={name:"App"},c=a(3744);const r=(0,c.Z)(n,[["render",o]]);var d=r,u=a(8637),p=a(4702);const h=(0,u.MT)({plugins:[(0,p.Z)()],state:{notificationClicked:!1,accountCreated:!1,userAuth:!1,superUserAuth:!1,statusAvailability:!1,alias:"",doctorDetails:[],patientUsername:"",patientID:null,doctorID:null,specialistList:[],patientDetails:[],profileImg:null,imgSuccess:!1,imgSuccessManager:!1,managerHospital:"",hospitalDetails:"",hospitalName:"",specializationList:["Allergists","Anesthesiologists","Cardiologists","Colon and Rectal Surgeons","Critical Care Medicine Specialists"," Dermatologists","Endocrinologists","Emergency Medicine Specialists","Family Physicians","Gastroenterologists","Geriatric Medicine Specialists","Hematologists","Hospice and Palliative Medicine Specialists","Infectious Disease Specialists","Internists","Medical Geneticists","Nephrologists","Neurologists","Obstetricians and Gynecologists","Oncologists","Ophthalmologists","Osteopaths","Otolaryngologists","Pathologists","Pediatricians","Physiatrists","Plastic Surgeons","Podiatrists","Preventive Medicine Specialists","Psychiatrists","Pulmonologists","Radiologists","Rheumatologists","Sleep Medicine Specialists","Sports Medicine Specialists","General Surgeons","Urologists"]},getters:{getStatusAvail:e=>e.statusAvailability,getSpecializationList:e=>e.specializationList},mutations:{notificationClicked(e,t){e.notificationClicked=t},accountCreated(e,t){e.accountCreated=t},alias(e,t){e.alias=t},doctorDetails(e,t){e.doctorDetails=t},patientUsername(e,t){e.patientUsername=t},patientID(e,t){e.patientID=t},doctorID(e,t){e.doctorID=t},statusTrue(e){e.statusAvailability=!0},specialistList(e,t){e.specialistList=t},patientDetails(e,t){e.patientDetails=t},profileImg(e,t){e.profileImg=t},imgSuccess(e,t){e.imgSuccess=t},imgSuccessManager(e,t){e.imgSuccessManager=t},userType(e,t){e.userType=t},superUserAuth(e,t){e.superUserAuth=t},managerHospital(e,t){e.managerHospital=t},hospitalDetails(e,t){e.hospitalDetails=t},hospitalName(e,t){e.hospitalName=t},statusAvailability(e,t){e.statusAvailability=t}}});var m=h,g=a(2119),v=a(3577);const w=e=>((0,l.dD)("data-v-221b70ff"),e=e(),(0,l.Cn)(),e),_={class:"hero is-fullheight"},b={class:"hero-body"},y={class:"container has-text-centered"},k={class:"container box",id:"covidAPI",style:{width:"70%"}},f=w((()=>(0,l._)("h1",{class:"title has-text-left"},"Latest COVID-19 Data",-1))),D=w((()=>(0,l._)("hr",null,null,-1))),C={class:"columns"},x={class:"column"},U=w((()=>(0,l._)("h4",{class:"title is-2"},"Worldwide 🌎",-1))),S={class:"container is-fluid has-text-left"},A={class:"subtitle"},P=w((()=>(0,l._)("b",null,"Total Active Cases:",-1))),M={class:"subtitle"},z=w((()=>(0,l._)("b",null,"Total Deaths:",-1))),N={class:"subtitle"},I=w((()=>(0,l._)("b",null,"Total Recoveries:",-1))),T={class:"column"},q=w((()=>(0,l._)("h4",{class:"title is-2"},"Philippines 🇵🇭",-1))),H={class:"container is-fluid has-text-left"},L={class:"subtitle"},V=w((()=>(0,l._)("b",null,"Total Active Cases:",-1))),O={class:"subtitle"},E=w((()=>(0,l._)("b",null,"Total Deaths:",-1))),F={class:"subtitle"},$=w((()=>(0,l._)("b",null,"Total Recoveries:",-1)));function R(e,t,a,s,i,o){const n=(0,l.up)("NavigationTabVue"),c=(0,l.up)("HospitalFinderVue");return(0,l.wg)(),(0,l.iD)("section",_,[(0,l.Wm)(n),(0,l._)("div",b,[(0,l._)("div",y,[(0,l.Wm)(c),(0,l._)("div",k,[f,D,(0,l._)("div",C,[(0,l._)("div",x,[U,(0,l._)("div",S,[(0,l._)("p",A,[P,(0,l.Uk)(" "+(0,v.zw)(i.covidAPIWorldWide.active)+"+ ",1)]),(0,l._)("p",M,[z,(0,l.Uk)(" "+(0,v.zw)(i.covidAPIWorldWide.deaths)+"+ ",1)]),(0,l._)("p",N,[I,(0,l.Uk)(" "+(0,v.zw)(i.covidAPIWorldWide.recovered)+"+ ",1)])])]),(0,l._)("div",T,[q,(0,l._)("div",H,[(0,l._)("p",L,[V,(0,l.Uk)(" "+(0,v.zw)(i.covidAPIPh.active)+"+ ",1)]),(0,l._)("p",O,[E,(0,l.Uk)(" "+(0,v.zw)(i.covidAPIPh.deaths)+"+ ",1)]),(0,l._)("p",F,[$,(0,l.Uk)(" "+(0,v.zw)(i.covidAPIPh.recovered)+"+ ",1)])])])])])])])])}a(6699);const Y=e=>((0,l.dD)("data-v-7a389cdf"),e=e(),(0,l.Cn)(),e),B=Y((()=>(0,l._)("h1",{class:"title"},"Find and make an appointment on hospitals or clinics near you.",-1))),K=Y((()=>(0,l._)("div",{class:"modal-background"},null,-1))),j=Y((()=>(0,l._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,l._)("div",{class:"loader",style:{margin:"auto"}})],-1))),W=[K,j],G={class:"container"},Z={class:"dropdown-trigger"},Q={class:"field"},X={class:"control"},J=["disabled"],ee={key:0,class:"notification is-light is-danger"},te=(0,l.Uk)(" location to start booking an "),ae=Y((()=>(0,l._)("b",null,"appointment",-1))),se=(0,l.Uk)(". "),ie={class:"dropdown-menu"},le={key:0,class:"dropdown-content has-text-left"},oe=["onClick"],ne={key:1,class:"dropdown-content has-text-left"},ce=Y((()=>(0,l._)("p",{class:"dropdown-item has-text-danger"}," Region not found or supported, please try again. ",-1))),re=[ce],de={key:0,class:"container block"},ue=Y((()=>(0,l._)("br",null,null,-1))),pe={key:0,class:"block"},he=Y((()=>(0,l._)("div",{class:"notification box",id:"notification",style:{width:"50%",margin:"auto","background-color":"white"}},[(0,l.Uk)(" You must "),(0,l._)("a",{class:"has-text-success",href:"/user/login"},"login"),(0,l.Uk)(". or "),(0,l._)("a",{class:"has-text-danger",href:"/user/signup"},"create an account"),(0,l.Uk)(". to make an appointment. ")],-1))),me=[he],ge={class:"columns"},ve={class:"column is-2 has-text-left"},we={class:"box"},_e=Y((()=>(0,l._)("p",{class:"title is-5"},"Filter",-1))),be={class:"field has-text-left"},ye={class:"control"},ke={class:"select"},fe=Y((()=>(0,l._)("option",{value:""},"Any",-1))),De=["value"],Ce=Y((()=>(0,l._)("hr",null,null,-1))),xe=Y((()=>(0,l._)("span",{style:{color:"#b5b5b5"}},"·",-1))),Ue=(0,l.Uk)("   All "),Se=[xe,Ue],Ae=Y((()=>(0,l._)("span",{style:{color:"#b5b5b5"}},"·",-1))),Pe=(0,l.Uk)("   Public "),Me=[Ae,Pe],ze=Y((()=>(0,l._)("span",{style:{color:"#b5b5b5"}},"·",-1))),Ne=(0,l.Uk)("   Private "),Ie=[ze,Ne],Te=Y((()=>(0,l._)("hr",null,null,-1))),qe={class:"breadcrumb has-dot-separator","aria-label":"breadcrumbs"},He=Y((()=>(0,l._)("span",{style:{color:"#b5b5b5"}},"·",-1))),Le=["onClick"],Ve={key:0,class:"column"},Oe={class:"column is-5"},Ee={class:"image is-square"},Fe=["src"],$e={class:"column"},Re={class:"title"},Ye={class:"subtitle"},Be=["src"],Ke=Y((()=>(0,l._)("br",null,null,-1))),je=Y((()=>(0,l._)("br",null,null,-1))),We=Y((()=>(0,l._)("p",{class:"subtitle"},"Contacts:",-1))),Ge={key:0,class:"block"},Ze={class:"subtitle"},Qe=["onClick"],Xe={key:1,class:"container box notification is-danger has-text-centered"};function Je(e,t,a,i,o,n){return(0,l.wg)(),(0,l.iD)(l.HY,null,[B,(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isHospitalLoading}])},W,2),(0,l._)("div",G,[(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdown}])},[(0,l._)("div",Z,[(0,l._)("div",Q,[(0,l._)("div",X,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.province=e),style:{width:"300px"},placeholder:"What region are you located?",onClick:t[1]||(t[1]=(...e)=>n.regionSelect&&n.regionSelect(...e)),disabled:o.locationPermissionDenied},null,8,J),[[s.nr,o.province]])]),o.locationPermissionDenied?((0,l.wg)(),(0,l.iD)("div",ee,[(0,l._)("a",{class:"has-text-success",onClick:t[2]||(t[2]=(...e)=>n.getUserLocation&&n.getUserLocation(...e))},"Enable"),te,ae,se])):(0,l.kq)("",!0)]),(0,l._)("div",ie,[0!==Object.keys(n.geolocationIndexed).length?((0,l.wg)(),(0,l.iD)("div",le,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.geolocationIndexed,(e=>((0,l.wg)(),(0,l.iD)("a",{class:"dropdown-item",key:e._id,onClick:t=>n.selectRegion(e.province)},(0,v.zw)(e.province),9,oe)))),128))])):((0,l.wg)(),(0,l.iD)("div",ne,re))])])],2)]),""!=o.citiesOrMunicipalities?((0,l.wg)(),(0,l.iD)("div",de,[ue,0==this.checkUser?((0,l.wg)(),(0,l.iD)("div",pe,me)):(0,l.kq)("",!0),(0,l._)("div",ge,[(0,l._)("div",ve,[(0,l._)("ul",we,[_e,(0,l._)("div",be,[(0,l._)("div",ye,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>o.hospital=e),style:{width:"300px"},placeholder:"Search Hospital..."},null,512),[[s.nr,o.hospital]])])]),(0,l._)("div",ke,[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.filterSpecialist=e)},[fe,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specializations,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e,value:e},(0,v.zw)(e),9,De)))),128))],512),[[s.bM,o.filterSpecialist]])]),Ce,(0,l._)("li",null,[(0,l._)("a",{onClick:t[5]||(t[5]=(...e)=>n.filterAll&&n.filterAll(...e))},Se)]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[6]||(t[6]=(...e)=>n.filterPublic&&n.filterPublic(...e))},Me)]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[7]||(t[7]=(...e)=>n.filterPrivate&&n.filterPrivate(...e))},Ie)]),Te,(0,l._)("nav",qe,[(0,l._)("ul",null,[He,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.citiesOrMunicipalities.citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1)),((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},[(0,l._)("a",{onClick:t=>n.filterByCity(e.name)},(0,v.zw)(e.name),9,Le)])))),128))])])])]),0!==o.geoHospitalNearestUser.length?((0,l.wg)(),(0,l.iD)("div",Ve,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.geoHospitalNearestUserIndexed.filter((e=>e.type==this.filter1||e.type==this.filter2)).filter((e=>e.city.includes(this.city))),(e=>((0,l.wg)(),(0,l.iD)("div",{class:"columns has-text-left box",id:"hospital",style:{"margin-bottom":"5%"},key:e._id},[(0,l._)("div",Oe,[(0,l._)("figure",Ee,[(0,l._)("img",{loading:"lazy",src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/managers/${e.hospital}.jpg`},null,8,Fe)])]),(0,l._)("div",$e,[(0,l._)("h1",Re,(0,v.zw)(e.hospital),1),(0,l._)("p",Ye,"📌 "+(0,v.zw)(e.barangayORStreet)+", "+(0,v.zw)(e.city)+", "+(0,v.zw)(e.province),1),(0,l._)("iframe",{loading:"lazy",width:"500",height:"300",id:"geoIframe",src:`https://maps.google.com/maps?q=${e.location.coordinates[1]},${e.location.coordinates[0]}&hl=es;z=14&output=embed`},null,8,Be),Ke,je,We,"undefined"!==typeof e.details[0].contacts?((0,l.wg)(),(0,l.iD)("ul",Ge,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.details[0].contacts,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},(0,v.zw)(e.contact),1)))),128))])):(0,l.kq)("",!0),(0,l._)("p",Ze,(0,v.zw)(parseInt(e.distance)/1e3)+" km away from you.",1),o.checkUser?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"button is-link",onClick:t=>n.bookAppointment(e)},"Book an Appointment",8,Qe)):(0,l.kq)("",!0)])])))),128))])):o.isHospitalLoading?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Xe,"Hospitals/Clinics unavailable. Coming soon... "))])])):(0,l.kq)("",!0)],64)}var et=a(9669),tt=a.n(et),at={name:"HospitalFinder",computed:{geolocationIndexed(){return this.geolocation.filter((e=>e.province.toLowerCase().includes(this.province.toLowerCase())))},geoHospitalNearestUserIndexed(){return!!this.geoHospitalNearestUser&&this.geoHospitalNearestUser.filter((e=>e.hospital.toLowerCase().includes(this.hospital.toLowerCase())))}},async created(){await tt().get("/api/geolocation").then((e=>this.geolocation=e.data)),this.getUserLocation()},async mounted(){null!==this.$store.state.patientID?this.checkUser=!0:this.checkUser=!1},data(){return{locationPermissionDenied:!1,city:"",isHospitalLoading:!1,checkUser:"",hospital:"",geolocation:[],filter1:"Private",filter2:"Public",citiesOrMunicipalities:[],province:"",userLatitude:"",userLongitude:"",isActiveDropdown:!1,geoHospitalNearestUser:"",specializations:this.$store.getters.getSpecializationList,filterSpecialist:""}},methods:{async bookAppointment(e){await this.$store.commit("hospitalDetails",e),await this.$router.push(`/user/${this.$store.state.patientUsername}/doctors`)},filterByCity(e){this.city=e,this.filter1="Private",this.filter2="Public"},filterAll(){this.city="",this.filter1="Private",this.filter2="Public"},filterPrivate(){this.city="",this.filter1="Private",this.filter2="Private"},filterPublic(){this.city="",this.filter1="Public",this.filter2="Public"},regionSelect(){this.locationPermissionDenied||(this.isActiveDropdown=!0)},async selectRegion(e){this.isHospitalLoading=!0,this.province=e,this.citiesOrMunicipalities=this.geolocation.find((t=>t.province===e)),this.isActiveDropdown=!1,await tt().post("/api/geoFindHospitalNearestUser",{province:this.province,latitude:this.userLatitude,longitude:this.userLongitude}).then((e=>this.geoHospitalNearestUser=e.data)),this.isHospitalLoading=!1},getUserLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.geoUserPosition,this.geoUserPositionError):alert("Geolocation is not supported by this browser")},geoUserPosition(e){this.userLatitude=e.coords.latitude,this.userLongitude=e.coords.longitude},geoUserPositionError(e){switch(e.code){case e.PERMISSION_DENIED:this.locationPermissionDenied=!0;break;case e.POSITION_UNAVAILABLE:alert("Unable to obtain Geolocation information.");break;case e.TIMEOUT:alert("Request timed out.");break;case e.UNKNOWN_ERROR:alert("An unknown error occured, please try again.");break}}}};const st=(0,c.Z)(at,[["render",Je],["__scopeId","data-v-7a389cdf"]]);var it=st;const lt=e=>((0,l.dD)("data-v-0b046bae"),e=e(),(0,l.Cn)(),e),ot={class:"navbar",role:"navigation","aria-label":"main navigation"},nt={class:"navbar-brand"},ct=lt((()=>(0,l._)("a",{class:"navbar-item",href:"/"},[(0,l._)("img",{src:"https://bulma.io/images/bulma-logo.png",width:"112"})],-1))),rt=lt((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),dt=lt((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),ut=lt((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),pt=[rt,dt,ut],ht={class:"navbar-start"},mt=lt((()=>(0,l._)("a",{class:"navbar-item"},"About",-1))),gt={key:0,class:"navbar-end"},vt={key:0,class:"has-text-danger"},wt={class:"fa-solid fa-bell animate__animated animate__heartBeat animate__infinite"},_t={class:"is-size-7"},bt={key:1,class:"has-text-info"},yt=lt((()=>(0,l._)("i",{class:"fa-solid fa-bell"},null,-1))),kt=[yt],ft={key:0,class:"navbar-dropdown is-right notif-list"},Dt=["onClick"],Ct=["onClick"],xt={key:1,class:"navbar-dropdown is-right"},Ut=lt((()=>(0,l._)("div",{class:"navbar-item"},"No new notifications.",-1))),St=[Ut],At={class:"navbar-link"},Pt=["src"],Mt={class:"navbar-dropdown"},zt=(0,l.Uk)("Profile"),Nt=(0,l.Uk)("Security"),It=lt((()=>(0,l._)("hr",{class:"navbar-divider"},null,-1))),Tt=lt((()=>(0,l._)("strong",null,"Logout",-1))),qt=[Tt],Ht={key:1,class:"navbar-end"},Lt={class:"navbar-item"},Vt={class:"buttons"},Ot=(0,l.Uk)("Log in"),Et=lt((()=>(0,l._)("strong",null,"Sign up",-1))),Ft=lt((()=>(0,l._)("div",{class:"modal-background"},null,-1))),$t={class:"modal-content box"},Rt={class:"section"},Yt={class:"title"},Bt={class:"subtitle"},Kt={class:"subtitle"};function jt(e,t,a,s,i,o){const n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("nav",ot,[(0,l._)("div",nt,[ct,(0,l._)("a",{role:"button",class:(0,v.C_)(["navbar-burger",{"is-active":i.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:t[0]||(t[0]=(...e)=>o.navbar&&o.navbar(...e))},pt,2)]),(0,l._)("div",{id:"navbar",class:(0,v.C_)(["navbar-menu",{"is-active":i.isActive}])},[(0,l._)("div",ht,[mt,(0,l._)("a",{class:"navbar-item",onClick:t[1]||(t[1]=e=>this.$router.push("/contactus"))},"Contact Us")]),""!=i.patient?((0,l.wg)(),(0,l.iD)("div",gt,[(0,l._)("div",{class:(0,v.C_)(["navbar-item has-dropdown",{"is-active":i.isActiveNotifications}])},[(0,l._)("a",{class:"navbar-link",onClick:t[2]||(t[2]=(...e)=>o.notification&&o.notification(...e))},[i.notifications.find((e=>!0===e.new))?((0,l.wg)(),(0,l.iD)("span",vt,[(0,l._)("i",wt,[(0,l._)("span",_t,(0,v.zw)(i.notifications.filter((e=>e.new)).length),1)])])):((0,l.wg)(),(0,l.iD)("span",bt,kt))]),0!==i.notifications.length?((0,l.wg)(),(0,l.iD)("div",ft,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.notifications.sort(((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())),((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"navbar-item",key:t},[(0,l._)("div",{class:(0,v.C_)(["notification is-info",{"is-light":!e.new}])},[(0,l._)("a",{style:{"text-decoration":"none"},onClick:a=>o.openNotif(e,t)},"From Dr. "+(0,v.zw)(e.from),9,Dt),(0,l._)("button",{class:"delete",onClick:t=>o.deleteNotif(e)},null,8,Ct)],2)])))),128))])):((0,l.wg)(),(0,l.iD)("div",xt,St))],2),(0,l._)("div",{class:(0,v.C_)(["navbar-item has-dropdown",{"is-active":i.isActiveMenuDropdown}]),onClick:t[4]||(t[4]=e=>i.isActiveMenuDropdown=!i.isActiveMenuDropdown)},[(0,l._)("a",At,[(0,l._)("img",{src:i.imgPreUrl+i.patient+i.svgExtUrl},null,8,Pt),(0,l.Uk)(" "+(0,v.zw)(i.patient),1)]),(0,l._)("div",Mt,[(0,l.Wm)(n,{to:`/user/${i.patient}/profile`,class:"navbar-item"},{default:(0,l.w5)((()=>[zt])),_:1},8,["to"]),(0,l.Wm)(n,{to:`/user/${i.patient}/security`,class:"navbar-item"},{default:(0,l.w5)((()=>[Nt])),_:1},8,["to"]),It,(0,l._)("a",{class:"navbar-item has-text-danger",onClick:t[3]||(t[3]=(...e)=>o.logout&&o.logout(...e))},qt)])],2)])):((0,l.wg)(),(0,l.iD)("div",Ht,[(0,l._)("div",Lt,[(0,l._)("div",Vt,[(0,l.Wm)(n,{to:"/user/login",class:"button is-light"},{default:(0,l.w5)((()=>[Ot])),_:1}),(0,l.Wm)(n,{to:"/user/signup",class:"button is-primary"},{default:(0,l.w5)((()=>[Et])),_:1})])])]))],2)]),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":i.isActiveModal}])},[Ft,(0,l._)("div",$t,[(0,l._)("section",Rt,[(0,l._)("p",Yt,"From Dr. "+(0,v.zw)(i.viewNotif.from),1),(0,l._)("p",Bt,(0,v.zw)(new Date(i.viewNotif.date).toDateString()),1),(0,l._)("p",Kt,(0,v.zw)(i.viewNotif.message),1)])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[5]||(t[5]=(...e)=>o.closeNotificationModal&&o.closeNotificationModal(...e))})],2)],64)}var Wt=a(9367);const Gt=(0,Wt.io)({autoConnect:!1});var Zt=Gt,Qt={name:"NavigationTab",mounted(){this.$store.state.patientID&&(Zt.connect(),Zt.emit("join room",this.$store.state.patientID),Zt.on("send messages",(e=>{this.notifications=e})),Zt.on("delete messages",(e=>{this.notifications=e})),Zt.on("messages",(e=>{this.notifications=e})))},data(){return{isActiveNotifications:!1,isActiveModal:!1,isActiveMenuDropdown:!1,isActive:!1,patient:this.$store.state.patientUsername,imgPreUrl:"https://avatars.dicebear.com/api/micah/",svgExtUrl:".svg",notifications:[],viewNotif:[]}},methods:{navbar(){this.isActive=!this.isActive},async logout(){await this.$store.commit("patientID",null),await this.$store.commit("patientUsername",""),await tt()["delete"]("/session/patient"),await this.$router.push("/user/login"),Zt.disconnect()},notification(){this.isActiveNotifications=!this.isActiveNotifications},deleteNotif(e){Zt.emit("delete message",this.$store.state.patientID,e)},openNotif(e,t){this.viewNotif=e,this.isActiveModal=!0,this.viewNotif.new&&(this.notifications[t].new=!1,Zt.emit("update message",this.notifications))},closeNotificationModal(){this.isActiveModal=!1}}};const Xt=(0,c.Z)(Qt,[["render",jt],["__scopeId","data-v-0b046bae"]]);var Jt=Xt,ea={name:"HomePage",components:{NavigationTabVue:Jt,HospitalFinderVue:it},data(){return{userPatient:null,covidAPIPh:[],covidAPIWorldWide:[]}},async mounted(){await tt().get("/session/patient").then((e=>this.userPatient=e.data)),await this.userPatient.username&&(this.$store.commit("patientUsername",this.userPatient.username),this.$store.commit("patientID",this.userPatient._id),await this.$router.push(`/user/${this.userPatient.username}`)),await tt().get("https://disease.sh/v3/covid-19/countries/philippines").then((e=>this.covidAPIPh=e.data)),await tt().get("https://disease.sh/v3/covid-19/all").then((e=>this.covidAPIWorldWide=e.data))}};const ta=(0,c.Z)(ea,[["render",R],["__scopeId","data-v-221b70ff"]]);var aa=ta;const sa=e=>((0,l.dD)("data-v-57860386"),e=e(),(0,l.Cn)(),e),ia=sa((()=>(0,l._)("div",{class:"modal-background"},null,-1))),la=sa((()=>(0,l._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,l._)("div",{class:"loader",style:{margin:"auto"}})],-1))),oa=[ia,la],na={class:"section"},ca={class:"columns"},ra={class:"column"},da={key:0,class:"container box"},ua={class:"title"},pa={class:"subtitle"},ha={class:"subtitle is-6"},ma={class:"image is-16by9"},ga=["src"],va=sa((()=>(0,l._)("br",null,null,-1))),wa={class:"columns"},_a={class:"column"},ba=["src"],ya={class:"column"},ka=sa((()=>(0,l._)("p",{class:"subtitle"},"Contacts:",-1))),fa={key:0,class:"block"},Da={class:"column"},Ca={class:"box container"},xa={class:"block"},Ua=sa((()=>(0,l._)("h1",{class:"title"},"Pick a specialist.",-1))),Sa={key:0,class:"subtitle"},Aa=(0,l.Uk)(" Having trouble picking a specialist? Get appointed to a "),Pa=(0,l.Uk)(". "),Ma={key:1,class:"columns is-multiline is-mobile"},za=["onClick"],Na={key:0,class:"image is-4by3"},Ia=["src"],Ta={key:1,class:"subtitle has-text-centered"},qa={key:2,class:"container"},Ha={key:0},La=sa((()=>(0,l._)("br",null,null,-1))),Va=sa((()=>(0,l._)("p",{class:"subtitle has-text-centered"},"No doctors are currently available in this specialization.",-1))),Oa=[La,Va],Ea={key:1},Fa=sa((()=>(0,l._)("br",null,null,-1))),$a=sa((()=>(0,l._)("h1",{class:"title is-3"},"Choose a doctor:",-1))),Ra={class:"field"},Ya={class:"control"},Ba={key:2},Ka={key:0},ja={class:"media"},Wa={class:"media-left"},Ga={class:"image is-64x64"},Za=["src"],Qa={class:"media-content"},Xa={class:"title is-4"},Ja={class:"subtitle is-6"},es=["onClick"],ts={key:1},as={key:0,class:"notification is-info"};function ss(e,t,a,i,o,n){const c=(0,l.up)("NavigationTab");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isDoctorLoading}])},oa,2),(0,l._)("section",na,[(0,l._)("div",ca,[(0,l._)("div",ra,[o.hospitalDetails?((0,l.wg)(),(0,l.iD)("div",da,[(0,l._)("h1",ua,(0,v.zw)(o.hospitalDetails.hospital),1),(0,l._)("p",pa,"📌 "+(0,v.zw)(o.hospitalDetails.barangayORStreet)+", "+(0,v.zw)(o.hospitalDetails.city)+", "+(0,v.zw)(o.hospitalDetails.province),1),(0,l._)("p",ha,(0,v.zw)(o.hospitalDetails.details[0].description),1),(0,l._)("figure",ma,[(0,l._)("img",{src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/managers/${o.hospitalDetails.hospital}.jpg`},null,8,ga)]),va,(0,l._)("div",wa,[(0,l._)("div",_a,[(0,l._)("iframe",{src:`https://maps.google.com/maps?q=${o.hospitalDetails.location.coordinates[1]},${o.hospitalDetails.location.coordinates[0]}&hl=es;z=14&output=embed`},null,8,ba)]),(0,l._)("div",ya,[ka,"undefined"!==typeof o.hospitalDetails.details[0].contacts?((0,l.wg)(),(0,l.iD)("ul",fa,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.hospitalDetails.details[0].contacts,(e=>((0,l.wg)(),(0,l.iD)("li",{key:e.contact},(0,v.zw)(e.contact),1)))),128))])):(0,l.kq)("",!0)])])])):(0,l.kq)("",!0)]),(0,l._)("div",Da,[(0,l._)("div",Ca,[(0,l._)("div",xa,[Ua,o.specializationClicked?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("p",Sa,[Aa,(0,l._)("a",{class:"has-text-link",onClick:t[0]||(t[0]=e=>n.getDoctors("General Practitioner"))},"General Practitioner"),Pa])),o.specializationClicked?((0,l.wg)(),(0,l.iD)("div",qa,[(0,l._)("button",{class:"button",onClick:t[1]||(t[1]=(...e)=>n.viewSpecializations&&n.viewSpecializations(...e))},"⬅️ Specializations"),""==o.doctorList?((0,l.wg)(),(0,l.iD)("div",Ha,Oa)):((0,l.wg)(),(0,l.iD)("div",Ea,[Fa,$a,(0,l._)("div",Ra,[(0,l._)("div",Ya,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>o.doctorSearchBar=e),placeholder:"Search..."},null,512),[[s.nr,o.doctorSearchBar]])])])])),o.specializationClicked?((0,l.wg)(),(0,l.iD)("div",Ba,[0!==Object.keys(n.doctorSearch).length?((0,l.wg)(),(0,l.iD)("div",Ka,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.doctorSearch,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"card-content",key:e._id},[(0,l._)("div",ja,[(0,l._)("figure",Wa,[(0,l._)("p",Ga,[(0,l._)("img",{src:`http://res.cloudinary.com/leindfraust/image/upload/v1/assets/doctors/${e.alias}.jpg`},null,8,Za)])]),(0,l._)("div",Qa,[(0,l._)("p",Xa,(0,v.zw)(e.name),1),(0,l._)("p",Ja,(0,v.zw)(o.pickedSpecialist),1),(0,l._)("button",{class:"button",onClick:t=>n.pickDoctor(e)},"Appoint",8,es)])])])))),128))])):((0,l.wg)(),(0,l.iD)("div",ts,[""!=o.doctorList?((0,l.wg)(),(0,l.iD)("div",as,"No such doctor is available right now.")):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("div",Ma,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specialistList,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"column is-4",key:t},[(0,l._)("a",{onClick:t=>n.getDoctors(e.specialist)},["General Practitioner"!==e.specialist?((0,l.wg)(),(0,l.iD)("figure",Na,[(0,l._)("img",{src:`https://ui-avatars.com/api/?name=${e.specialist}`},null,8,Ia)])):(0,l.kq)("",!0),"General Practitioner"!==e.specialist?((0,l.wg)(),(0,l.iD)("p",Ta,(0,v.zw)(e.specialist),1)):(0,l.kq)("",!0)],8,za)])))),128))]))])])])])])],64)}var is={name:"DoctorList",components:{NavigationTab:Jt},data(){return{hospitalDetails:this.$store.state.hospitalDetails,patientDetails:null,doctorList:null,specialistList:this.$store.state.hospitalDetails.specializations.sort(),pickedSpecialist:null,specializationClicked:!1,doctorSearchBar:"",isDoctorLoading:!1}},async mounted(){await tt().get("/session/patient").then((e=>this.patientDetails=e.data))},computed:{doctorSearch(){return!!this.doctorList&&this.doctorList.filter((e=>e.name.toLowerCase().includes(this.doctorSearchBar.toLowerCase())))}},methods:{async getDoctors(e){this.doctorSearchBar="",this.isDoctorLoading=!0,this.specializationClicked=!0,this.pickedSpecialist=e,await tt().post("/api/checkDoctorAvailability",{hospital:this.hospitalDetails.hospital,specialist:e}).then((e=>this.doctorList=e?e.data.filter((e=>e.schedule.find((e=>new Date(e.date).getTime()>(new Date).getTime()&&e.hospital===this.hospitalDetails.hospital)))):"")).catch((e=>console.log(e))),this.isDoctorLoading=!1},viewSpecializations(){this.specializationClicked=!1},async pickDoctor(e){m.commit("doctorDetails",e),m.commit("statusAvailability",!0),m.commit("hospitalName",this.hospitalDetails.hospital),await this.$router.push(`/user/${this.patientDetails.username}/registration`)}}};const ls=(0,c.Z)(is,[["render",ss],["__scopeId","data-v-57860386"]]);var os=ls;const ns=e=>((0,l.dD)("data-v-6f753a45"),e=e(),(0,l.Cn)(),e),cs={class:"section",style:{"background-color":"whitesmoke"}},rs=ns((()=>(0,l._)("div",{class:"modal-background"},null,-1))),ds=ns((()=>(0,l._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,l._)("div",{class:"loader",style:{margin:"auto"}})],-1))),us=[rs,ds],ps={key:0,class:"notification is-danger"},hs=(0,l.Uk)("Something went wrong, please try again later or "),ms=ns((()=>(0,l._)("a",{href:"/contactus"},"Contact us",-1))),gs=[hs,ms],vs={class:"container"},ws={class:"tabs is-centered"},_s=ns((()=>(0,l._)("a",{style:{"pointer-events":"none"}},"Basic Details",-1))),bs=[_s],ys=ns((()=>(0,l._)("a",{style:{"pointer-events":"none"}},"Schedules",-1))),ks=[ys],fs={class:"section animate__animated animate__fadeInLeft",style:{width:"40%",margin:"auto","background-color":"white","border-radius":"5px","box-shadow":"5px 10px rgb(221, 221, 221)"}},Ds={class:"field"},Cs={key:0},xs=ns((()=>(0,l._)("div",{class:"has-text-danger"},"All fields are required.*",-1))),Us=ns((()=>(0,l._)("label",{class:"label"},"First name",-1))),Ss={class:"control"},As=["value"],Ps=ns((()=>(0,l._)("label",{class:"label"},"Last Name",-1))),Ms={class:"control"},zs=ns((()=>(0,l._)("label",{class:"label"},"Contact Number:",-1))),Ns={class:"block control"},Is=ns((()=>(0,l._)("label",{class:"label"},"What are you feeling?",-1))),Ts=ns((()=>(0,l._)("label",{class:"label"},"Birthday",-1))),qs={class:"control"},Hs={class:"is-block"},Ls=["onClick"],Vs=["value"],Os={class:"block control"},Es=ns((()=>(0,l._)("label",{class:"label"},"Current Address",-1))),Fs=["value"],$s=ns((()=>(0,l._)("br",null,null,-1))),Rs={class:"block has-text-centered"},Ys=["disabled"],Bs=ns((()=>(0,l._)("br",null,null,-1))),Ks={key:0},js={class:"field"},Ws=ns((()=>(0,l._)("h1",{class:"subtitle has-text-black has-text-weight-bold"},"Pick your preferred schedule: ",-1))),Gs=ns((()=>(0,l._)("hr",null,null,-1))),Zs={class:"controls"},Qs={class:"radio"},Xs=["onClick"],Js={class:"subtitle has-text-black"},ei=ns((()=>(0,l._)("br",null,null,-1))),ti={class:"has-text-black"},ai={style:{"pointer-events":"none"},class:"button statusSched"},si={key:0,class:"has-text-success"},ii={key:1,class:"has-text-danger"},li=ns((()=>(0,l._)("br",null,null,-1))),oi=ns((()=>(0,l._)("br",null,null,-1))),ni=ns((()=>(0,l._)("br",null,null,-1))),ci={class:"block has-text-centered"},ri=["disabled"];function di(e,t,a,i,o,n){const c=(0,l.up)("NavigationTab"),r=(0,l.up)("v-date-picker");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c),(0,l._)("section",cs,[(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isLoading}])},us,2),o.errMsg?((0,l.wg)(),(0,l.iD)("div",ps,gs)):(0,l.kq)("",!0),(0,l._)("div",vs,[(0,l._)("div",ws,[(0,l._)("ul",null,[(0,l._)("li",{class:(0,v.C_)({"is-active":o.isActiveTabOne})},bs,2),(0,l._)("li",{class:(0,v.C_)({"is-active":o.isActiveTabTwo})},ks,2)])]),(0,l._)("section",fs,[(0,l._)("form",Ds,[o.basicDetailsDone?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Cs,[xs,Us,(0,l._)("div",Ss,[(0,l._)("input",{class:"input",type:"text",value:o.firstName,placeholder:"First Name",required:""},null,8,As)]),Ps,(0,l._)("div",Ms,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.lastName=e),placeholder:"Last Name",required:""},null,512),[[s.nr,o.lastName]])]),zs,(0,l._)("div",Ns,[(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>o.contactNum=e),placeholder:"Contact Number",required:""},null,512),[[s.nr,o.contactNum]])]),Is,(0,l.wy)((0,l._)("textarea",{class:"textarea","onUpdate:modelValue":t[2]||(t[2]=e=>o.comments=e),placeholder:"Your symptoms, general well being etc...",required:""},null,512),[[s.nr,o.comments]]),Ts,(0,l._)("div",qs,[(0,l.Wm)(r,{class:"block",modelValue:o.birthDay,"onUpdate:modelValue":t[3]||(t[3]=e=>o.birthDay=e)},{default:(0,l.w5)((({inputValue:e,togglePopover:t})=>[(0,l._)("div",Hs,[(0,l._)("a",{style:{margin:"auto"},onClick:e=>t()},[(0,l._)("input",{style:{cursor:"pointer"},value:e,class:"input",readonly:""},null,8,Vs)],8,Ls)])])),_:1},8,["modelValue"])]),(0,l._)("div",Os,[Es,(0,l._)("input",{class:"input",type:"text",value:o.currentAddress},null,8,Fs)]),$s,(0,l._)("div",Rs,[(0,l._)("button",{type:"button",class:"button is-success",disabled:""==o.firstName||""==o.lastName||null==o.birthDay||""==o.contactNum||""==o.comments||""==o.currentAddress,onClick:t[4]||(t[4]=(...e)=>n.proceedSched&&n.proceedSched(...e))},"Proceed",8,Ys)])]))]),Bs,o.basicDetailsDone?((0,l.wg)(),(0,l.iD)("div",Ks,[(0,l._)("form",js,[Ws,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.doctorSched.filter((e=>new Date(e.date).getTime()>(new Date).getTime()&&e.hospital===o.hospital)).sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())),((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,style:{width:"75%",margin:"auto"}},[Gs,(0,l._)("div",Zs,[(0,l._)("label",Qs,[(0,l._)("input",{type:"radio",class:"radioSched",name:"schedule",onClick:a=>n.pickSched(t,e,e.prefix)},null,8,Xs),(0,l._)("span",Js,(0,v.zw)(new Date(e.date).toDateString()),1),ei,(0,l._)("span",ti,(0,v.zw)(e.timeStart)+" - "+(0,v.zw)(e.timeEnd),1)]),(0,l._)("a",ai,[o.schedAvailability?((0,l.wg)(),(0,l.iD)("span",si,"Available")):((0,l.wg)(),(0,l.iD)("span",ii,"Unavailable"))])]),li])))),128)),oi,ni,(0,l._)("div",ci,[(0,l._)("span",null,[(0,l._)("button",{class:"button is-danger",type:"button",style:{"margin-right":"5%"},onClick:t[5]||(t[5]=(...e)=>n.goBack&&n.goBack(...e))},"Go Back"),(0,l._)("button",{type:"button",class:"button is-primary",disabled:null==o.schedule,onClick:t[6]||(t[6]=(...e)=>n.appoint&&n.appoint(...e))},"Submit appointment",8,ri)])])])])):(0,l.kq)("",!0)])])])],64)}var ui={name:"RegForm",components:{NavigationTab:Jt},data(){return{checkPatientRecord:null,patient:null,doctorSched:m.state.doctorDetails.schedule,firstName:null,lastName:null,birthDay:null,comments:null,contactNum:null,schedule:null,currentAddress:null,priorityNum:null,patientsAppointed:null,doctorDetails:m.state.doctorDetails,basicDetailsDone:!1,isActiveTabOne:!0,isActiveTabTwo:!1,isLoading:!1,schedAvailability:!1,radioIndex:null,prefix:null,hospital:m.state.hospitalName,refID:null,errMsg:!1}},async mounted(){await tt().get("/session/patient").then((e=>this.patient=e.data)),this.firstName=await this.patient.name[0],this.lastName=await this.patient.name[1],this.checkPatientRecord=await this.doctorDetails.patients.find((e=>e.patient===this.patient._id)),this.currentAddress=await this.patient.currentAddress},methods:{async appoint(){this.isLoading=!0;let e=document.getElementsByClassName("radioSched"),t=document.getElementsByClassName("statusSched");if(await tt().get("/api/appointmentList").then((e=>this.patientsAppointed=e.data.filter((e=>e.schedule[0].date===this.schedule.date&&e.doctorID==this.doctorDetails._id)).length)),await this.patientsAppointed<this.schedule.appointmentLimit)if(await tt().get("/api/appointmentList").then((e=>this.priorityNum=e.data.filter((e=>e.schedule[0].date===this.schedule.date&&e.doctorID==this.doctorDetails._id)).length+1)),"undefined"!==typeof this.checkPatientRecord&&this.checkPatientRecord)try{this.generateRefID(),await tt().post("/api/appointmentList",{referenceID:this.refID,hospital:this.hospital,doctorID:this.doctorDetails._id,doctorName:this.doctorDetails.name,patientID:this.patient._id,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum});let e={referenceID:this.refID,hospital:this.hospital,doctor:this.doctorDetails.name,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum};this.isLoading=!1,m.commit("patientDetails",e),await this.$router.push("/success")}catch(a){this.errMsg=a}else try{this.generateRefID(),await tt().post("/api/patientUpdate",{doctorID:this.doctorDetails._id,patientID:this.patient._id,patientFullName:this.firstName+" "+this.lastName}),await tt().post("/api/appointmentList",{referenceID:this.refID,hospital:this.hospital,doctorID:this.doctorDetails._id,doctorName:this.doctorDetails.name,patientID:this.patient._id,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum});let e={referenceID:this.refID,hospital:this.hospital,doctor:this.doctorDetails.name,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum};m.commit("patientDetails",e),await this.$router.push("/success")}catch(a){this.errMsg=a}else this.isLoading=!1,this.schedAvailability=!1,this.schedule=null,e[this.radioIndex].checked=!1,e[this.radioIndex].disabled=!0,t[this.radioIndex].style.display="block"},proceedSched(){this.isActiveTabOne=!1,this.isActiveTabTwo=!0,this.basicDetailsDone=!0},goBack(){this.isActiveTabOne=!0,this.isActiveTabTwo=!1,this.basicDetailsDone=!1},async pickSched(e,t,a){this.radioIndex=e,this.isLoading=!0;let s=document.getElementsByClassName("radioSched"),i=document.getElementsByClassName("statusSched");for(let l=0;l<i.length;l++)i[l].style.display="none";this.schedule=await t,await tt().get("/api/appointmentList").then((e=>this.patientsAppointed=e.data.filter((e=>e.schedule[0].date===this.schedule.date&&e.doctorID==this.doctorDetails._id)).length)),await this.patientsAppointed<this.schedule.appointmentLimit?(this.isLoading=!1,this.schedAvailability=!0,this.prefix=a,i[e].style.display="block"):(this.isLoading=!1,this.schedAvailability=!1,this.schedule=null,s[e].checked=!1,s[e].disabled=!0,i[e].style.display="block")},generateRefID(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=t.length;for(let s=0;s<12;s++)e+=t.charAt(Math.floor(Math.random()*a));this.refID=e.toUpperCase()}}};const pi=(0,c.Z)(ui,[["render",di],["__scopeId","data-v-6f753a45"]]);var hi=pi;const mi=e=>((0,l.dD)("data-v-f1cfcfc4"),e=e(),(0,l.Cn)(),e),gi={class:"hero is-fullheight"},vi={class:"hero-body animate__animated animate__fadeInLeft"},wi={class:"box has-text-centered",style:{margin:"auto"}},_i={class:"container is-fluid",style:{width:"100%",margin:"auto"}},bi={class:"field",style:{"margin-top":"5%"}},yi=mi((()=>(0,l._)("h1",{class:"title has-text-link has-text-left"},"Nice to see you Doc.",-1))),ki={class:"control"},fi={class:"control",style:{"margin-top":"2%"}},Di={key:0,class:"has-text-danger",style:{"margin-top":"5%"}},Ci={key:1,class:"has-text-danger",style:{"margin-top":"5%"}},xi=mi((()=>(0,l._)("hr",null,null,-1))),Ui=mi((()=>(0,l._)("h1",{class:"title"},"Or",-1)));function Si(e,t,a,i,o,n){const c=(0,l.up)("ForgotPassword");return(0,l.wg)(),(0,l.iD)("section",gi,[(0,l._)("div",vi,[(0,l._)("div",wi,[(0,l._)("div",_i,[(0,l._)("form",bi,[yi,(0,l._)("div",ki,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),placeholder:"username",onKeyup:t[1]||(t[1]=(0,s.D2)(((...e)=>n.login&&n.login(...e)),["enter"])),required:""},null,544),[[s.nr,o.username]])]),(0,l._)("div",fi,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>o.password=e),placeholder:"password",onKeyup:t[3]||(t[3]=(0,s.D2)(((...e)=>n.login&&n.login(...e)),["enter"])),required:""},null,544),[[s.nr,o.password]])]),o.incorrectUserPass?((0,l.wg)(),(0,l.iD)("p",Di,(0,v.zw)(o.validateMessage),1)):0==o.incorrectUserPass?((0,l.wg)(),(0,l.iD)("p",Ci,(0,v.zw)(o.validateMessage),1)):(0,l.kq)("",!0),(0,l._)("button",{type:"button",class:"button is-primary",onClick:t[4]||(t[4]=(...e)=>n.login&&n.login(...e))},"Login"),xi,Ui,(0,l._)("a",{onClick:t[5]||(t[5]=(...e)=>n.signup&&n.signup(...e)),class:"is-danger"},"Create an account")])]),(0,l.Wm)(c,{userType:"doctor"})])])])}var Ai=a(4934);const Pi=new Ai.Cloudinary({cloud_name:"leindfraust"});var Mi=Pi,zi=a(9615),Ni={name:"LoginDoctor",component:zi["default"],data(){return{username:null,password:null,userDoctor:null,incorrectUserPass:Boolean,validateMessage:"",specializations:null,profileImg:null}},async mounted(){await tt().get("/session/doctor").then((e=>this.userDoctor=e.data)),"undefined"!==typeof this.userDoctor.alias?(m.commit("alias",this.userDoctor.alias),m.commit("doctorID",this.userDoctor._id),m.commit("profileImg",Mi.imageTag(`assets/doctors/${this.userDoctor.alias}.jpg`).toHtml()),await this.$router.push(`/doctor/user/${this.userDoctor.alias}`)):await tt()["delete"]("/session/doctor")},methods:{async login(){null==await this.username||null==this.password?(this.incorrectUserPass=!1,this.validateMessage="empty username or password",this.username=null,this.password=null):(await tt().post("/api/auth/doctor",{username:this.username,password:this.password}).then((e=>this.userDoctor=e.data)),await this.userDoctor?(m.commit("alias",this.userDoctor.alias),m.commit("doctorID",this.userDoctor._id),await tt().post("/session/doctor",{verified:this.userDoctor.verified,_id:this.userDoctor._id,licenseNo:this.userDoctor.licenseNo,alias:this.userDoctor.alias,fullname:this.userDoctor.name,specialist:this.userDoctor.specialist,gmail:this.userDoctor.gmail,hospitalOrigin:this.userDoctor.hospitalOrigin,schedule:this.userDoctor.schedule,username:this.userDoctor.username,messageHistory:this.userDoctor.messageHistory}),m.commit("profileImg",Mi.imageTag(`assets/doctors/${this.userDoctor.alias}.jpg`).toHtml()),await this.$router.push(`/doctor/user/${this.userDoctor.alias}`)):(this.validateMessage="Incorrect username or password",this.incorrectUserPass=!0,this.username=null,this.password=null))},async signup(){await this.$router.push("/doctor/signup")}},components:{ForgotPassword:zi["default"]}};const Ii=(0,c.Z)(Ni,[["render",Si],["__scopeId","data-v-f1cfcfc4"]]);var Ti=Ii;const qi=e=>((0,l.dD)("data-v-7ca83518"),e=e(),(0,l.Cn)(),e),Hi={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Li={class:"columns"},Vi={class:"column is-2"},Oi={class:"column",style:{"background-color":"whitesmoke"}},Ei={class:"section",style:{"background-color":"whitesmoke"}},Fi=qi((()=>(0,l._)("h1",{class:"title"},"APPOINTMENTS",-1))),$i={class:"field"},Ri={class:"control"},Yi={key:0,class:"container is-widescreen is-fullhd"},Bi={key:0,class:"subtitle"},Ki=qi((()=>(0,l._)("b",null,"TODAY",-1))),ji=[Ki],Wi={class:"subtitle has-text-black"},Gi={class:"table-container"},Zi={class:"table is-striped is-narrow is-fullwidth is-bordered"},Qi=qi((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Reference ID"),(0,l._)("th",{class:"has-text-black-ter"},"Priority No."),(0,l._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,l._)("th",{class:"has-text-black-ter"},"Birthday"),(0,l._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1))),Xi=["onClick"],Ji=qi((()=>(0,l._)("br",null,null,-1))),el=qi((()=>(0,l._)("div",{class:"modal-background"},null,-1))),tl={class:"modal-content animate__animated animate__fadeInLeft"},al={class:"field customField has-text-centered"},sl=qi((()=>(0,l._)("label",{class:"label"},"First Name",-1))),il={class:"control"},ll=qi((()=>(0,l._)("label",{class:"label"},"Last Name",-1))),ol={class:"control"},nl=qi((()=>(0,l._)("label",{class:"label"},"Contact Number",-1))),cl={class:"control"},rl=qi((()=>(0,l._)("label",{class:"label"},"Birthday",-1))),dl={class:"control"},ul={class:"has-text-black-ter"},pl={class:"has-text-black-ter"},hl={class:"has-text-black-ter"},ml={class:"has-text-black-ter"},gl={class:"has-text-black-ter"},vl={class:"has-text-black-ter"},wl={class:"has-text-black-ter"},_l={class:"has-text-black-ter"},bl={key:1,class:"section"},yl=qi((()=>(0,l._)("div",{class:"notification is-info"},[(0,l._)("h1",{class:"title is-5"},"No upcoming appointments.")],-1))),kl=[yl];function fl(e,t,a,i,o,n){const c=(0,l.up)("DoctorMenu");return(0,l.wg)(),(0,l.iD)("div",Hi,[(0,l._)("div",Li,[(0,l._)("div",Vi,[(0,l.Wm)(c)]),(0,l._)("div",Oi,[(0,l._)("section",Ei,[Fi,(0,l._)("div",$i,[(0,l._)("div",Ri,[(0,l.wy)((0,l._)("input",{class:"input",type:"text",style:{width:"50% !important"},"onUpdate:modelValue":t[0]||(t[0]=e=>o.searchBar=e),placeholder:"Search..."},null,512),[[s.nr,o.searchBar]])])]),0!==Object.keys(n.appointmentSchedules).length?((0,l.wg)(),(0,l.iD)("div",Yi,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.appointmentSchedules,((e,a)=>((0,l.wg)(),(0,l.iD)("div",{class:"box",key:a,style:(0,v.j5)(new Date(a).toDateString()==(new Date).toDateString()?"box-shadow: rgb(10 10 10 / 10%) 0px 0.5em 1em -0.125em, #485fc7 0px 0px 0px 1px !important;":"")},[new Date(a).toDateString()==(new Date).toDateString()?((0,l.wg)(),(0,l.iD)("h1",Bi,ji)):(0,l.kq)("",!0),(0,l._)("h1",Wi,"Schedule: "+(0,v.zw)(new Date(a).toDateString()),1),(0,l._)("div",Gi,[(0,l._)("table",Zi,[Qi,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,(e=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:t=>n.toggleModal(e.firstName,e.lastName,e.emailAdd,e.contactNum,e.birthDay,e._id)},"Edit",8,Xi),Ji,(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isActiveModal}])},[el,(0,l._)("div",tl,[(0,l._)("form",al,[sl,(0,l._)("div",il,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.firstName=e),placeholder:"First Name",required:""},null,512),[[s.nr,o.firstName]])]),ll,(0,l._)("div",ol,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>o.lastName=e),placeholder:"Last Name",required:""},null,512),[[s.nr,o.lastName]])]),nl,(0,l._)("div",cl,[(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>o.contactNum=e),placeholder:"Contact Number",required:""},null,512),[[s.nr,o.contactNum]])]),rl,(0,l._)("div",dl,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>o.birthDay=e),placeholder:"Birthday",required:""},null,512),[[s.nr,o.birthDay]])]),(0,l._)("button",{class:"button is-primary",type:"button",onClick:t[5]||(t[5]=(...e)=>n.updateData&&n.updateData(...e))},"Submit")])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[6]||(t[6]=(...e)=>n.toggleModal&&n.toggleModal(...e))})],2),(0,l._)("th",ul,(0,v.zw)(e.referenceID),1),(0,l._)("th",pl,(0,v.zw)(e.priorityNum),1),(0,l._)("th",hl,(0,v.zw)(e.hospital),1),(0,l._)("td",ml,(0,v.zw)(e.firstName),1),(0,l._)("td",gl,(0,v.zw)(e.lastName),1),(0,l._)("td",vl,(0,v.zw)(e.contactNum),1),(0,l._)("td",wl,(0,v.zw)(e.birthDay),1),(0,l._)("td",_l,(0,v.zw)(e.comments),1)])])))),128))])])],4)))),128))])):((0,l.wg)(),(0,l.iD)("section",bl,kl))])])])])}var Dl=a(6486),Cl=a.n(Dl);const xl=e=>((0,l.dD)("data-v-68c92300"),e=e(),(0,l.Cn)(),e),Ul={class:"navbar is-hidden-desktop"},Sl={class:"navbar-brand"},Al={class:"navbar-item"},Pl={class:"label"},Ml=xl((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),zl=xl((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),Nl=xl((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),Il=[Ml,zl,Nl],Tl={class:"has-text-centered block",style:{padding:"5px"}},ql={class:"is-hidden-mobile is-hidden-touch image is-square",style:{margin:"auto"}},Hl=["innerHTML"],Ll={class:"is-hidden-desktop image is-128x128",style:{margin:"auto"}},Vl=["innerHTML"],Ol={key:0,class:"title is-5"},El={class:"menu-list block"},Fl=xl((()=>(0,l._)("p",{class:"menu-label"},"General",-1))),$l=xl((()=>(0,l._)("p",{class:"menu-label"},"Verification and Information",-1))),Rl=xl((()=>(0,l._)("p",{class:"menu-label"},"Support",-1))),Yl=xl((()=>(0,l._)("hr",null,null,-1)));function Bl(e,t,a,s,i,o){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("nav",Ul,[(0,l._)("div",Sl,[(0,l._)("a",Al,[(0,l._)("label",Pl,(0,v.zw)(i.alias),1)]),(0,l._)("a",{role:"button",class:(0,v.C_)(["navbar-burger",{"is-active":!i.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:t[0]||(t[0]=(...e)=>o.menuNav&&o.menuNav(...e))},Il,2)])]),(0,l._)("aside",{class:(0,v.C_)(["menu",{"is-hidden-mobile":i.isActive,fixedMenu:i.isActive}]),style:{"background-color":"white",padding:"20px","box-shadow":"5px 10px rgba(240, 240, 240, 0.966)"}},[(0,l._)("div",Tl,[(0,l._)("figure",ql,[(0,l._)("span",{innerHTML:i.profileImg},null,8,Hl)]),(0,l._)("figure",Ll,[(0,l._)("span",{innerHTML:i.profileImg},null,8,Vl)]),i.isActive?((0,l.wg)(),(0,l.iD)("h5",Ol,(0,v.zw)(i.alias),1)):(0,l.kq)("",!0)]),(0,l._)("ul",El,[Fl,(0,l._)("li",null,[(0,l._)("a",{onClick:t[1]||(t[1]=(...e)=>o.routeHome&&o.routeHome(...e))},"Appointments")]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[2]||(t[2]=(...e)=>o.patientLogs&&o.patientLogs(...e))},"Patient History")]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[3]||(t[3]=(...e)=>o.openSchedule&&o.openSchedule(...e))},"Schedule")]),$l,(0,l._)("li",null,[(0,l._)("a",{onClick:t[4]||(t[4]=(...e)=>o.profile&&o.profile(...e))},"Profile")]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[5]||(t[5]=(...e)=>o.openSecurity&&o.openSecurity(...e))},"Security")]),Rl,(0,l._)("li",null,[(0,l._)("a",{onClick:t[6]||(t[6]=(...t)=>e.openFAQs&&e.openFAQs(...t))},"FAQ")]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[7]||(t[7]=e=>this.$router.push("/contactus"))},"Contact Us")])]),Yl,(0,l._)("button",{onClick:t[8]||(t[8]=(...e)=>o.logout&&o.logout(...e)),class:"button is-danger",type:"button"},"Logout")],2)],64)}var Kl={name:"AdminMenu",data(){return{alias:m.state.alias,profileImg:m.state.profileImg,isActive:!0}},methods:{async logout(){m.commit("alias",null),await tt()["delete"]("/session/doctor"),await this.$router.push("/doctor/login")},async routeHome(){await this.$router.push(`/doctor/user/${this.alias}`)},async profile(){await this.$router.push(`/doctor/user/${this.alias}/profile`)},async patientLogs(){await this.$router.push(`/doctor/user/${this.alias}/patients`)},async openSecurity(){await this.$router.push(`/doctor/user/${this.alias}/security`)},async openSchedule(){await this.$router.push(`/doctor/user/${this.alias}/schedule`)},menuNav(){this.isActive=!this.isActive}}};const jl=(0,c.Z)(Kl,[["render",Bl],["__scopeId","data-v-68c92300"]]);var Wl=jl,Gl={name:"DoctorDashboard",components:{DoctorMenu:Wl},data(){return{alias:m.state.alias,profileImg:m.state.profileImg,isActiveModal:!1,id:null,firstName:null,lastName:null,birthDay:null,contactNum:null,searchBar:"",schedule:null,appointmentSched:[]}},computed:{appointmentSchedules(){return!!this.appointmentSched&&Cl().groupBy(this.appointmentSched.filter((e=>e.firstName.toLowerCase().includes(this.searchBar.toLowerCase())||e.lastName.toLowerCase().includes(this.searchBar.toLowerCase())||e.referenceID.toLowerCase().includes(this.searchBar.toLowerCase()))).sort(((e,t)=>new Date(e.schedule[0].date).getTime()-new Date(t.schedule[0].date).getTime())).filter((e=>new Date(e.schedule[0].date).getTime()>=(new Date).getTime()&&new Date(e.schedule[0].date).getMonth()>=(new Date).getMonth())),"schedule[0].date")}},async mounted(){await tt().post("/api/appointmentList/doctors",{id:m.state.doctorID}).then((e=>this.appointmentSched=e.data))},methods:{async updateData(){await tt().put(`/api/appointmentList/${this.id}`,{firstName:this.firstName,lastName:this.lastName,emailAdd:this.emailAddress,contactNum:this.contactNum,birthDay:this.birthDay}),await tt().get("/api/appointmentList").then((e=>this.appointmentSched=e.data.filter((e=>e.doctorID===m.state.doctorID)))),this.isActiveModal=!this.isActiveModal},async toggleModal(e,t,a,s,i,l){this.isActiveModal=!this.isActiveModal,this.firstName=e,this.lastName=t,this.emailAddress=a,this.contactNum=s,this.birthDay=i,this.id=l}}};const Zl=(0,c.Z)(Gl,[["render",fl],["__scopeId","data-v-7ca83518"]]);var Ql=Zl;const Xl=e=>((0,l.dD)("data-v-cf487660"),e=e(),(0,l.Cn)(),e),Jl={class:"section",style:{"background-color":"whitesmoke"}},eo={class:"container box animate__animated animate__fadeInLeft",style:{margin:"auto",width:"50%"}},to={key:0,class:"notification is-danger"},ao=(0,l.Uk)(" Oops, something went wrong. Try again later or "),so=(0,l.Uk)("contact us"),io={action:"/api/imgUploadDoctor",method:"post",enctype:"multipart/form-data"},lo={class:"field is-horizontal"},oo={class:"field-body"},no={class:"field"},co=Xl((()=>(0,l._)("label",{class:"label"},"License code:",-1))),ro={class:"control"},uo={class:"field"},po=Xl((()=>(0,l._)("label",{class:"label"},"Alias",-1))),ho={key:0},mo={key:0,class:"help is-danger"},go=(0,l.Uk)(" Unavailable "),vo={key:0,class:"fas fa-spinner fa-spin"},wo={key:1,class:"help is-success"},_o=(0,l.Uk)(" Available "),bo={key:0,class:"fas fa-spinner fa-spin"},yo={class:"control"},ko={class:"field"},fo={class:"field-body"},Do={class:"field"},Co=Xl((()=>(0,l._)("label",{class:"label"},"Full Name",-1))),xo={class:"control"},Uo=Xl((()=>(0,l._)("div",{class:"field"},[(0,l._)("label",{class:"label"},"Profile Picture"),(0,l._)("div",{class:"control"},[(0,l._)("input",{class:"input",type:"file",name:"imgFile",required:""})])],-1))),So={class:"field"},Ao=Xl((()=>(0,l._)("label",{class:"label"},"Registration Code",-1))),Po={key:0},Mo={key:0,class:"help is-success"},zo=(0,l.Uk)(" Registration code is correct. "),No={key:0,class:"fas fa-spinner fa-spin"},Io={key:1,class:"help is-danger"},To=(0,l.Uk)(" Incorrect registration code, please refer to your hospital for your registration code. "),qo={key:0,class:"fas fa-spinner fa-spin"},Ho={class:"control"},Lo={class:"field is-horizontal"},Vo={class:"field-body"},Oo={class:"field"},Eo=Xl((()=>(0,l._)("label",{class:"label"},"Username",-1))),Fo={key:0},$o={key:0,class:"help is-danger"},Ro=(0,l.Uk)(" Unavailable "),Yo={key:0,class:"fas fa-spinner fa-spin"},Bo={key:1,class:"help is-success"},Ko=(0,l.Uk)(" Available "),jo={key:0,class:"fas fa-spinner fa-spin"},Wo={class:"control"},Go={class:"field"},Zo=Xl((()=>(0,l._)("label",{class:"label"},"Gmail",-1))),Qo={class:"control"},Xo={class:"field is-horizontal"},Jo={class:"field-body"},en={class:"field"},tn=Xl((()=>(0,l._)("label",{class:"label"},"Password",-1))),an={class:"control"},sn={class:"subtitle has-text-danger"},ln={class:"field"},on=Xl((()=>(0,l._)("label",{class:"label"},"Repeat Password",-1))),nn={class:"control"},cn={class:"subtitle has-text-danger"},rn={class:"columns"},dn={class:"column"},un=Xl((()=>(0,l._)("label",{class:"label"},"Specializations you possess(Select all that applies)",-1))),pn={class:"panel"},hn={class:"panel-block"},mn={style:{"max-height":"20em",overflow:"auto"}},gn=["value"],vn=["onClick"],wn={class:"column"},_n=Xl((()=>(0,l._)("label",{class:"label"},"Selected",-1))),bn={class:"columns is-multiline"},yn={class:"column",id:"selectedSpecializations",style:{"max-height":"26em",overflow:"auto"}},kn=["onClick"],fn={class:"has-text-right"},Dn=["disabled"];function Cn(e,t,a,i,o,n){const c=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("section",Jl,[(0,l._)("div",eo,[o.errMsg?((0,l.wg)(),(0,l.iD)("div",to,[ao,(0,l.Wm)(c,{to:"/contactus"},{default:(0,l.w5)((()=>[so])),_:1})])):(0,l.kq)("",!0),(0,l._)("form",io,[(0,l._)("div",lo,[(0,l._)("div",oo,[(0,l._)("div",no,[co,(0,l._)("div",ro,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.licenseCode=e),placeholder:"license code",required:""},null,512),[[s.nr,o.licenseCode]])])]),(0,l._)("div",uo,[po,""!==o.aliasFound?((0,l.wg)(),(0,l.iD)("div",ho,[o.aliasFound?((0,l.wg)(),(0,l.iD)("p",mo,[go,o.loadingAlias?((0,l.wg)(),(0,l.iD)("i",vo)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("p",wo,[_o,o.loadingAlias?((0,l.wg)(),(0,l.iD)("i",bo)):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0),(0,l._)("div",yo,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.alias=e),placeholder:"alias",name:"alias",required:"",onInput:t[2]||(t[2]=(...e)=>n.aliasFindTimeout&&n.aliasFindTimeout(...e))},null,544),[[s.nr,o.alias]])])])])]),(0,l._)("div",ko,[(0,l._)("div",fo,[(0,l._)("div",Do,[Co,(0,l._)("div",xo,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>o.name=e),placeholder:"Last name, First name, Extension name, Middle name",required:""},null,512),[[s.nr,o.name]])])]),Uo])]),(0,l._)("div",So,[Ao,""!==o.registrationCodeFound?((0,l.wg)(),(0,l.iD)("div",Po,[o.registrationCodeFound?((0,l.wg)(),(0,l.iD)("p",Mo,[zo,o.loadingRegistrationCode?((0,l.wg)(),(0,l.iD)("i",No)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("p",Io,[To,o.loadingRegistrationCode?((0,l.wg)(),(0,l.iD)("i",qo)):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0),(0,l._)("div",Ho,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>o.registrationCode=e),onInput:t[5]||(t[5]=(...e)=>n.registrationCodeFindTimeout&&n.registrationCodeFindTimeout(...e)),placeholder:"registration code",required:""},null,544),[[s.nr,o.registrationCode]])])]),(0,l._)("div",Lo,[(0,l._)("div",Vo,[(0,l._)("div",Oo,[Eo,""!==o.usernameFound?((0,l.wg)(),(0,l.iD)("div",Fo,[o.usernameFound?((0,l.wg)(),(0,l.iD)("p",$o,[Ro,o.loadingUsername?((0,l.wg)(),(0,l.iD)("i",Yo)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("p",Bo,[Ko,o.loadingUsername?((0,l.wg)(),(0,l.iD)("i",jo)):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0),(0,l._)("div",Wo,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>o.username=e),onInput:t[7]||(t[7]=(...e)=>n.usernameFindTimeout&&n.usernameFindTimeout(...e)),placeholder:"username",required:""},null,544),[[s.nr,o.username]])])]),(0,l._)("div",Go,[Zo,(0,l._)("div",Qo,[(0,l.wy)((0,l._)("input",{class:"input",type:"email","onUpdate:modelValue":t[8]||(t[8]=e=>o.gmail=e),placeholder:"gmail",required:""},null,512),[[s.nr,o.gmail]])])])])]),(0,l._)("div",Xo,[(0,l._)("div",Jo,[(0,l._)("div",en,[tn,(0,l._)("div",an,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":t[9]||(t[9]=e=>o.password=e),placeholder:"password",required:""},null,512),[[s.nr,o.password]])]),(0,l._)("p",sn,(0,v.zw)(o.passwordMatch),1)]),(0,l._)("div",ln,[on,(0,l._)("div",nn,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":t[10]||(t[10]=e=>o.passwordRepeat=e),placeholder:"repeat password",required:""},null,512),[[s.nr,o.passwordRepeat]])]),(0,l._)("p",cn,(0,v.zw)(o.passwordMatch),1)])])]),(0,l._)("div",rn,[(0,l._)("div",dn,[un,(0,l._)("nav",pn,[(0,l._)("div",hn,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[11]||(t[11]=e=>o.searchBarSpecialization=e),placeholder:"Search"},null,512),[[s.nr,o.searchBarSpecialization]])]),(0,l._)("div",mn,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.specializationListIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"panel-block",key:t,value:e},[(0,l._)("a",{onClick:t=>n.selectSpecialization(e)},(0,v.zw)(e),9,vn)],8,gn)))),128))])])]),(0,l._)("div",wn,[_n,(0,l._)("div",bn,[(0,l._)("div",yn,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specializationsSelected,((e,t)=>((0,l.wg)(),(0,l.iD)("button",{type:"button",key:t,class:"button is-light",style:{margin:"5px"}},[(0,l.Uk)((0,v.zw)(e)+"  ",1),(0,l._)("span",{class:"has-text-danger",onClick:t=>n.undoSpecialization(e)},"X",8,kn)])))),128))])])])]),(0,l._)("div",fn,[(0,l._)("button",{type:"submit",value:"Submit",class:"button is-primary",onClick:t[12]||(t[12]=e=>n.create(e)),disabled:""==o.specializationsSelected},"Create account",8,Dn)])])])])}var xn={name:"SignUp",computed:{specializationListIndexed(){return this.specializationList.filter((e=>e.toLowerCase().includes(this.searchBarSpecialization.toLowerCase())))}},data(){return{licenseCode:"",alias:"",name:"",registrationCode:"",username:"",password:"",passwordRepeat:"",gmail:"",passwordMatch:null,aliasFound:"",usernameFound:"",registrationCodeFound:"",loadingUsername:!1,loadingAlias:!1,loadingRegistrationCode:!1,specializationsSelected:[],specializationList:this.$store.getters.getSpecializationList,searchBarSpecialization:"",errMsg:"",searchTimeoutUsername:null,searchTimeoutAlias:null,searchTimeoutRegistrationCode:null}},methods:{async registrationCodeFindTimeout(){this.searchTimeoutRegistrationCode&&(clearTimeout(this.searchTimeoutRegistrationCode),this.searchTimeoutRegistrationCode=null),this.searchTimeoutRegistrationCode=setTimeout(this.registrationCodeFinder,500)},async usernameFindTimeout(){this.searchTimeoutUsername&&(clearTimeout(this.searchTimeoutUsername),this.searchTimeoutUsername=null),this.searchTimeoutUsername=setTimeout(this.usernameFinder,500)},async aliasFindTimeout(){this.searchTimeoutAlias&&(clearTimeout(this.searchTimeoutAlias),this.searchTimeoutAlias=null),this.searchTimeoutAlias=setTimeout(this.aliasFinder,500)},async registrationCodeFinder(){this.loadingRegistrationCode=!0,await tt().post("/api/doctor/check_registrationCode",{registrationCode:this.registrationCode}).then((e=>{this.registrationCodeFound=e.data})),""==this.registrationCode&&(this.registrationCodeFound=""),this.loadingRegistrationCode=!1},async usernameFinder(){this.loadingUsername=!0,await tt().post("/api/doctor/check_username",{username:this.username}).then((e=>{this.usernameFound=e.data})),""==this.username&&(this.usernameFound=""),this.loadingUsername=!1},async aliasFinder(){this.loadingAlias=!0,await tt().post("/api/doctor/check_alias",{alias:this.alias}).then((e=>{this.aliasFound=e.data})),""==this.alias&&(this.aliasFound=""),this.loadingAlias=!1},async create(e){this.password!==this.passwordRepeat?(this.passwordMatch="password do not match",await e.preventDefault(),this.registrationCode&&(null==this.registrationCodeFound&&this.registrationCodeFound||await e.preventDefault()),this.alias&&(null==this.aliasFound||this.aliasFound)&&await e.preventDefault(),this.username&&(null==this.usernameFound||this.usernameFound)&&await e.preventDefault()):(this.passwordMatch=null,this.registrationCode&&(null!=this.registrationCodeFound&&this.registrationCodeFound||await e.preventDefault()),this.alias&&(null==this.aliasFound||this.aliasFound)&&await e.preventDefault(),this.username&&(null==this.usernameFound||this.usernameFound)&&await e.preventDefault()),this.password!==this.passwordRepeat||this.aliasFound||this.usernameFound||!this.registrationCodeFound||(await tt().post("/api/doctor",{alias:this.alias,licenseNo:this.licenseCode,name:this.name,gmail:this.gmail,specialist:this.specializationsSelected,username:this.username,password:this.password}).catch((e=>this.errMsg=e)),await this.$store.commit("imgSuccess",!0))},selectSpecialization(e){this.specializationsSelected.find((t=>t===e))||this.specializationsSelected.push(e)},undoSpecialization(e){this.specializationsSelected=this.specializationsSelected.filter((t=>t!==e))}}};const Un=(0,c.Z)(xn,[["render",Cn],["__scopeId","data-v-cf487660"]]);var Sn=Un;const An=e=>((0,l.dD)("data-v-6679bf40"),e=e(),(0,l.Cn)(),e),Pn={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Mn={class:"columns"},zn={class:"column is-2"},Nn={class:"column",style:{"background-color":"whitesmoke"}},In={class:"section"},Tn=An((()=>(0,l._)("h1",{class:"title"},"SETUP SCHEDULES",-1))),qn=An((()=>(0,l._)("div",{class:"modal-background"},null,-1))),Hn={class:"modal-content"},Ln={class:"card"},Vn={class:"card-content"},On={class:"content has-text-centered"},En={class:"control block"},Fn=An((()=>(0,l._)("label",{class:"label"},"Prefix:",-1))),$n={class:"select block"},Rn=["value"],Yn=An((()=>(0,l._)("label",{class:"label"},"Time start:",-1))),Bn=An((()=>(0,l._)("br",null,null,-1))),Kn=An((()=>(0,l._)("label",{class:"label"},"Time end:",-1))),jn={class:"control block"},Wn=An((()=>(0,l._)("label",{class:"label"},"Appointment limit:",-1))),Gn={class:"block"},Zn=["disabled"],Qn=An((()=>(0,l._)("div",{class:"modal-background"},null,-1))),Xn=An((()=>(0,l._)("div",{class:"modal-content loader"},null,-1))),Jn=[Qn,Xn],ec={class:"columns"},tc={class:"column"},ac={key:0,class:"notification is-success has-text-centered"},sc={class:"column"},ic={class:"container"},lc=An((()=>(0,l._)("h1",{class:"subtitle has-text-weight-bold"},"Ongoing Schedules:",-1))),oc={key:0,class:"columns is-multiline",style:{overflow:"scroll","max-height":"30em"}},nc={class:"block card"},cc={class:"card-content"},rc={class:"content"},dc={class:"title is-5 has-text-black has-text-left"},uc={class:"icon-text"},pc={class:"icon"},hc=["onClick"],mc=An((()=>(0,l._)("i",{class:"fa-solid fa-trash-can"},null,-1))),gc=[mc],vc={class:"has-text-black"},wc={class:"has-text-black"},_c={class:"has-text-black"},bc={class:"has-text-black"},yc={key:1,class:"notification is-warning"},kc=An((()=>(0,l._)("h1",{class:"title is-5"},"No ongoing schedules.",-1))),fc=[kc];function Dc(e,t,a,i,o,n){const c=(0,l.up)("DoctorMenu"),r=(0,l.up)("v-date-picker"),d=(0,l.up)("v-calendar");return(0,l.wg)(),(0,l.iD)("div",Pn,[(0,l._)("div",Mn,[(0,l._)("div",zn,[(0,l.Wm)(c)]),(0,l._)("div",Nn,[(0,l._)("section",In,[Tn,(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isActive}])},[qn,(0,l._)("div",Hn,[(0,l._)("div",Ln,[(0,l._)("div",Vn,[(0,l._)("div",On,[(0,l._)("div",En,[Fn,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.prefix=e),style:{width:"33%"},placeholder:"e.g. ROOM305"},null,512),[[s.nr,o.prefix]])]),(0,l._)("div",$n,[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.selectedHospital=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.hospitalList,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e,value:e.hospital},(0,v.zw)(e.hospital),9,Rn)))),128))],512),[[s.bM,o.selectedHospital]])]),Yn,(0,l.Wm)(r,{modelValue:o.timeStart,"onUpdate:modelValue":t[2]||(t[2]=e=>o.timeStart=e),mode:"time",timezone:o.timezone,class:"block"},null,8,["modelValue","timezone"]),Bn,Kn,(0,l.Wm)(r,{modelValue:o.timeEnd,"onUpdate:modelValue":t[3]||(t[3]=e=>o.timeEnd=e),mode:"time",timezone:o.timezone,class:"block"},null,8,["modelValue","timezone"]),(0,l._)("div",jn,[Wn,(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>o.appointmentLimits=e),style:{width:"33%"}},null,512),[[s.nr,o.appointmentLimits]])]),(0,l._)("div",Gn,[(0,l._)("button",{class:"button is-primary",type:"button",onClick:t[5]||(t[5]=(...e)=>n.addSched&&n.addSched(...e)),disabled:""==o.prefix},"Confirm",8,Zn)])])])])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[6]||(t[6]=(...e)=>n.modalClose&&n.modalClose(...e))})],2),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.loading}])},Jn,2),(0,l._)("div",ec,[(0,l._)("div",tc,[o.uploadSchedSuccess?((0,l.wg)(),(0,l.iD)("div",ac,"Schedules Added/Updated! ")):(0,l.kq)("",!0),(0,l.Wm)(d,{columns:e.$screens({default:1,lg:2}),rows:e.$screens({default:1,lg:2}),"is-expanded":e.$screens({default:!0,lg:!1}),modelValue:o.date,"onUpdate:modelValue":t[7]||(t[7]=e=>o.date=e),"min-date":new Date,"disabled-dates":[{start:new Date,end:new Date}],attributes:n.attributes,onDayclick:n.modalUp,timezone:o.timezone},null,8,["columns","rows","is-expanded","modelValue","min-date","disabled-dates","attributes","onDayclick","timezone"])]),(0,l._)("div",sc,[(0,l._)("div",ic,[lc,0!==Object.keys(n.daysIndexed).length?((0,l.wg)(),(0,l.iD)("div",oc,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.daysIndexed,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"column is-6",key:e.id},[(0,l._)("div",nc,[(0,l._)("div",cc,[(0,l._)("div",rc,[(0,l._)("p",dc,[(0,l.Uk)((0,v.zw)(new Date(e.date).toDateString())+"  ",1),(0,l._)("span",uc,[(0,l._)("span",pc,[(0,l._)("a",{class:"has-text-black-ter",onClick:t=>n.modalUp(e.dayDetail)},gc,8,hc)])])]),(0,l._)("p",vc,"Prefix: "+(0,v.zw)(e.prefix),1),(0,l._)("p",wc,"Hospital: "+(0,v.zw)(e.hospital),1),(0,l._)("p",_c,(0,v.zw)(e.timeStart)+" - "+(0,v.zw)(e.timeEnd),1),(0,l._)("p",bc,"Appointment limit: "+(0,v.zw)(e.appointmentLimit),1)])])])])))),128))])):((0,l.wg)(),(0,l.iD)("div",yc,fc))])])])])])])])}var Cc={name:"SchedulerPage",components:{DoctorMenu:Wl},data(){return{alias:m.state.alias,profileImg:m.state.profileImg,userID:"",date:new Date,timeStart:"",timeEnd:"",timezone:"Asia/Hong_Kong",prefix:"",days:[],appointmentLimits:10,checkServer:null,isActive:!1,uploadSchedSuccess:!1,loading:!1,hospitalList:[],selectedHospital:""}},async mounted(){await tt().get("/session/doctor").then((e=>this.days=e.data.schedule)),await tt().get("/session/doctor").then((e=>this.userID=e.data._id)),await tt().get("/session/doctor").then((e=>this.hospitalList=e.data.hospitalOrigin)),this.selectedHospital=await this.hospitalList[0].hospital},computed:{dates(){return this.days.map((e=>new Date(e.date).toDateString()))},attributes(){return this.dates.map((e=>({highlight:!0,dates:e})))},daysIndexed(){return""!==this.days&&this.sortDate()}},methods:{sortDate(){return this.days.sort(((e,t)=>{new Date(e.date).getTime(),new Date(t.date).getTime()})).filter((e=>new Date(e.date).getTime()>(new Date).getTime()))},async onDayClick(e){this.loading=!0,this.days.push({dayDetail:e,id:e.id,date:e.date,timeStart:this.timeStart.toLocaleTimeString(),timeEnd:this.timeEnd.toLocaleTimeString(),appointmentLimit:this.appointmentLimits,prefix:this.prefix,hospital:this.selectedHospital}),await tt().put(`/api/doctor/${this.userID}`,{schedule:this.days}),await tt().put("/session/doctor",{schedule:this.days}),await tt().get("/session/doctor").then((e=>this.days=e.data.schedule)),this.uploadSchedSuccess=!0,this.loading=!1},async modalUp(e){if(!e?.isDisabled){this.isActive=!0;const t=this.days.findIndex((t=>t.id===e.id));t>=0&&(this.loading=!0,this.days.splice(t,1),this.isActive=!1,await tt().put(`/api/doctor/${this.userID}`,{schedule:this.days}),await tt().put("/session/doctor",{schedule:this.days}),await tt().get("/session/doctor").then((e=>this.days=e.data.schedule)),this.uploadSchedSuccess=!0,this.loading=!1),this.day=e,this.timeStart=e.date,this.timeEnd=e.date}},addSched(e){e=this.day,this.onDayClick(e),this.isActive=!this.isActive},modalClose(){this.isActive=!this.isActive}}};const xc=(0,c.Z)(Cc,[["render",Dc],["__scopeId","data-v-6679bf40"]]);var Uc=xc;const Sc=e=>((0,l.dD)("data-v-23e6c0e9"),e=e(),(0,l.Cn)(),e),Ac={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Pc={class:"columns"},Mc={class:"column is-2"},zc={class:"column",style:{"background-color":"whitesmoke"}},Nc={class:"section",style:{"background-color":"whitesmoke"}},Ic=Sc((()=>(0,l._)("h1",{class:"title"},"PROFILE",-1))),Tc={class:"container box is-fluid"},qc={key:0,class:"message is-danger"},Hc=Sc((()=>(0,l._)("div",{class:"message-header"},[(0,l._)("p",null,"YOU ARE NOT VERIFIED ❌")],-1))),Lc=Sc((()=>(0,l._)("div",{class:"message-body"},[(0,l.Uk)(" To get started, please visit "),(0,l._)("b",null,"Security"),(0,l.Uk)(" tab under "),(0,l._)("b",null,"VERIFICATION AND INFORMATION.")],-1))),Vc=[Hc,Lc],Oc={key:1,class:"message is-success"},Ec=Sc((()=>(0,l._)("div",{class:"message-header"},[(0,l._)("p",null,"YOU ARE VERIFIED ✓")],-1))),Fc=Sc((()=>(0,l._)("div",{class:"message-body"},[(0,l.Uk)(" Your basic information is "),(0,l._)("b",null,"locked"),(0,l.Uk)(". To edit, please go to the "),(0,l._)("b",null,"Security"),(0,l.Uk)(" tab. ")],-1))),$c=[Ec,Fc],Rc={class:"columns is-gapless"},Yc={class:"column is-6"},Bc=["innerHTML"],Kc={id:"formUpload",action:"/api/imgUpload",method:"post",enctype:"multipart/form-data",style:{margin:"auto",width:"50%"},class:"field"},jc={class:"control"},Wc=["value"],Gc=Sc((()=>(0,l._)("div",{class:"has-text-centered"},[(0,l._)("button",{type:"submit",value:"Upload",class:"button is-primary"},"Change profile picture")],-1))),Zc=Sc((()=>(0,l._)("br",null,null,-1))),Qc={class:"column"},Xc={class:"field"},Jc={class:"control"},er=Sc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"License No.")],-1))),tr=["disabled"],ar={class:"field is-horizontal"},sr={class:"field-body"},ir={class:"field"},lr={class:"control"},or=Sc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Full Name:")],-1))),nr=["disabled"],cr={class:"field"},rr={class:"control"},dr=Sc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Gmail:")],-1))),ur=["disabled"],pr={class:"field"},hr={class:"control"},mr={key:1,class:"notification is-success is-light"},gr={class:"field"},vr={class:"control"},wr=Sc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Managed Hospitals:")],-1))),_r=["onClick"],br=(0,l.Uk)("  "),yr={class:"dropdown-trigger"},kr={class:"dropdown-menu"},fr=["onClick"],Dr={class:"field"},Cr={class:"control"},xr=Sc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Specializations:")],-1))),Ur=["onClick"],Sr=(0,l.Uk)("  "),Ar={class:"dropdown-trigger"},Pr={class:"dropdown-menu"},Mr=["onClick"],zr=Sc((()=>(0,l._)("div",{class:"modal-background"},null,-1))),Nr={class:"modal-content"},Ir={key:0,class:"field box"},Tr=Sc((()=>(0,l._)("label",{class:"label"},"Please check your email for the verification code.",-1))),qr={class:"control"},Hr=Sc((()=>(0,l._)("br",null,null,-1))),Lr={class:"has-text-centered"},Vr=["disabled"],Or={key:0,class:"notification is-danger"},Er={key:1,class:"notification is-danger"};function Fr(e,t,a,i,o,n){const c=(0,l.up)("DoctorMenu");return(0,l.wg)(),(0,l.iD)("div",Ac,[(0,l._)("div",Pc,[(0,l._)("div",Mc,[(0,l.Wm)(c)]),(0,l._)("div",zc,[(0,l._)("section",Nc,[Ic,(0,l._)("div",Tc,[o.verified?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("article",qc,Vc)),o.verified?((0,l.wg)(),(0,l.iD)("article",Oc,$c)):(0,l.kq)("",!0),(0,l._)("div",Rc,[(0,l._)("div",Yc,[(0,l._)("span",{id:"profile-img",innerHTML:o.profileImg},null,8,Bc),(0,l._)("form",Kc,[(0,l._)("div",jc,[(0,l._)("input",{type:"hidden",name:"alias",value:o.alias},null,8,Wc),(0,l._)("input",{class:"input",type:"file",name:"imgFile",onClick:t[0]||(t[0]=(...e)=>n.imgSuccess&&n.imgSuccess(...e)),required:""}),Gc])])]),Zc,(0,l._)("div",Qc,[(0,l._)("div",Xc,[(0,l._)("div",Jc,[er,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.licenseNo=e),style:{width:"33%"},disabled:1==o.verified},null,8,tr),[[s.nr,o.licenseNo]])])]),(0,l._)("div",ar,[(0,l._)("div",sr,[(0,l._)("div",ir,[(0,l._)("div",lr,[or,(0,l.wy)((0,l._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>o.fullname=e),disabled:1==o.verified},null,8,nr),[[s.nr,o.fullname]])])]),(0,l._)("div",cr,[(0,l._)("div",rr,[dr,(0,l.wy)((0,l._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>o.gmail=e),disabled:1==o.verified},null,8,ur),[[s.nr,o.gmail]])])])])]),(0,l._)("div",pr,[(0,l._)("div",hr,[o.verified?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,class:"button is-link",type:"button",onClick:t[4]||(t[4]=(...e)=>n.updateInfo&&n.updateInfo(...e))},"Save changes")),o.infoValidate?((0,l.wg)(),(0,l.iD)("div",mr,(0,v.zw)(o.infoValidateMessage),1)):(0,l.kq)("",!0)])]),(0,l._)("div",gr,[(0,l._)("div",vr,[wr,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.hospitalOrigin,(e=>((0,l.wg)(),(0,l.iD)("button",{class:"button",key:e.hospital},[(0,l.Uk)((0,v.zw)(e.hospital)+"  ",1),(0,l._)("span",{class:"has-text-danger",onClick:t=>n.pullHospital(e.hospital)},"x",8,_r)])))),128)),br,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownHospital}])},[(0,l._)("div",yr,[(0,l._)("button",{onClick:t[5]||(t[5]=(...e)=>n.dropdownHospital&&n.dropdownHospital(...e)),class:"button"},"+")]),(0,l._)("div",kr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.hospitalList,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:t},[(0,l._)("a",{class:"dropdown-item",onClick:t=>n.promptVerificationHospital(e.hospital)},(0,v.zw)(e.hospital),9,fr)])))),128))])],2)])]),(0,l._)("div",Dr,[(0,l._)("div",Cr,[xr,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specialist,((e,t)=>((0,l.wg)(),(0,l.iD)("button",{class:"button",style:{margin:"5px"},key:t},[(0,l.Uk)((0,v.zw)(e)+"  ",1),(0,l._)("span",{class:"has-text-danger",onClick:t=>n.pullSpecialization(e)},"x",8,Ur)])))),128)),Sr,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownSpecialist}])},[(0,l._)("div",Ar,[(0,l._)("button",{onClick:t[6]||(t[6]=(...e)=>n.dropdownSpecialist&&n.dropdownSpecialist(...e)),class:"button"},"+")]),(0,l._)("div",Pr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specializationList,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:t},[(0,l._)("a",{class:"dropdown-item",onClick:t=>n.addSpecialization(e)},(0,v.zw)(e),9,Mr)])))),128))])],2)])])])])]),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.modalActive}])},[zr,(0,l._)("div",Nr,[o.codeSent?((0,l.wg)(),(0,l.iD)("div",Er,"You can only request a verification code once, please try again in 10 minutes.")):((0,l.wg)(),(0,l.iD)("div",Ir,[Tr,(0,l._)("div",qr,[(0,l.wy)((0,l._)("input",{class:"input","onUpdate:modelValue":t[7]||(t[7]=e=>o.verificationCode=e),type:"text",placeholder:"code"},null,512),[[s.nr,o.verificationCode]])]),Hr,(0,l._)("div",Lr,[(0,l._)("button",{class:"button is-primary",onClick:t[8]||(t[8]=(...e)=>n.addHospital&&n.addHospital(...e)),disabled:""==o.verificationCode},"Confirm",8,Vr)]),o.errorCode?((0,l.wg)(),(0,l.iD)("div",Or,"Invalid login code, please check your email thoroughly.")):(0,l.kq)("",!0)]))]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[9]||(t[9]=(...e)=>n.modalClose&&n.modalClose(...e))})],2)])])])])}var $r={name:"DoctorProfile",data(){return{alias:m.state.alias,fullname:null,password:null,passwordRepeat:null,infoValidate:null,infoValidateMessage:null,doctorDetails:null,id:null,profileImg:m.state.profileImg,hospitalOrigin:null,specialist:null,hospital:null,gmail:null,specializationList:this.$store.getters.getSpecializationList,hospitalList:[],isActiveDropdownSpecialist:!1,isActiveDropdownHospital:!1,licenseNo:null,verified:null,modalActive:!1,verificationCode:"",errorCode:!1,codeSent:!1,selectedHospital:""}},components:{DoctorMenu:Wl},async mounted(){await tt().get("/session/doctor").then((e=>this.doctorDetails=e.data)),this.verified=await this.doctorDetails.verified,this.licenseNo=await this.doctorDetails.licenseNo,this.fullname=await this.doctorDetails.fullname,this.id=await this.doctorDetails._id,this.specialist=await this.doctorDetails.specialist,this.gmail=await this.doctorDetails.gmail,this.hospitalOrigin=await this.doctorDetails.hospitalOrigin,await tt().get("/api/manager").then((e=>this.hospitalList=e.data))},methods:{async updateInfo(){this.verified||(await tt().put(`/api/doctor/${this.id}`,{licenseNo:this.licenseNo,name:this.fullname,gmail:this.gmail}),await tt().put("/session/doctor",{licenseNo:this.licenseNo,name:this.fullname,gmail:this.gmail}),await tt().get("/session/doctor").then((e=>this.fullname=e.data.fullname)),this.infoValidate=!0,this.infoValidateMessage="changes saved successfully")},imgSuccess(){m.commit("imgSuccess",!0)},showPass(){let e=document.getElementsByClassName("password");for(let t=0;t<e.length;t++)"password"===e[t].type?e[t].type="text":e[t].type="password"},dropdownSpecialist(){this.isActiveDropdownSpecialist=!this.isActiveDropdownSpecialist},dropdownHospital(){this.isActiveDropdownHospital=!this.isActiveDropdownHospital},async addSpecialization(e){this.specialist.find((t=>t===e))||(this.specialist.push(e),this.isActiveDropdownSpecialist=!1,await tt().put(`/api/doctor/${this.id}`,{specialist:this.specialist}),await tt().put("/session/doctor",{specialist:this.specialist}),await tt().get("/session/doctor").then((e=>this.specialist=e.data.specialist)))},async promptVerificationHospital(e){if(!this.hospitalOrigin.find((t=>t.hospital===e))){this.selectedHospital=e,this.modalActive=!0;let t=Math.floor(1e3+9e3*Math.random());await tt().post("/api/code/email",{email:this.gmail}).then((async e=>{e.data?this.codeSent=!0:(await tt().post("/api/code",{email:this.gmail,code:t}),await tt().post("/api/OTPMail",{email:this.gmail,code:t}))}))}},async addHospital(){await tt().post("/api/code/verify",{code:this.verificationCode}).then((async e=>{e.data?this.errorCode?this.errorCode=!0:(this.hospitalOrigin.push({hospital:this.selectedHospital}),await tt().put(`/api/doctor/${this.id}`,{hospitalOrigin:this.hospitalOrigin}),await tt().put("/session/doctor",{hospitalOrigin:this.hospitalOrigin}),await tt().get("/session/doctor").then((e=>this.hospitalOrigin=e.data.hospitalOrigin)),this.selectedHospital="",this.modalActive=!1):this.errorCode=!0}))},async pullSpecialization(e){this.specialist=this.specialist.filter((t=>t!==e)),await tt().put(`/api/doctor/${this.id}`,{specialist:this.specialist}),await tt().put("/session/doctor",{specialist:this.specialist}),await tt().get("/session/doctor").then((e=>this.specialist=e.data.specialist))},async pullHospital(e){this.hospitalOrigin=this.hospitalOrigin.filter((t=>t.hospital!==e)),await tt().put(`/api/doctor/${this.id}`,{hospitalOrigin:this.hospitalOrigin}),await tt().put("/session/doctor",{hospitalOrigin:this.hospitalOrigin}),await tt().get("/session/doctor").then((e=>this.hospitalOrigin=e.data.hospitalOrigin))},modalClose(){this.modalActive=!1}}};const Rr=(0,c.Z)($r,[["render",Fr],["__scopeId","data-v-23e6c0e9"]]);var Yr=Rr;const Br={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Kr={class:"columns"},jr={class:"column is-2"},Wr={class:"column",style:{"background-color":"whitesmoke"}},Gr=(0,l._)("div",{class:"modal-background"},null,-1),Zr={class:"modal-content"},Qr={class:"section box"},Xr={class:"field is-horizontal"},Jr={class:"field-body"},ed={class:"field"},td={class:"control"},ad=(0,l._)("label",{class:"label"},"From:",-1),sd=["value"],id={class:"field"},ld={class:"control"},od=(0,l._)("div",{class:"label"},"To(Patient):",-1),nd={class:"dropdown-trigger"},cd={key:0},rd={key:1},dd={class:"dropdown-menu"},ud=["onClick"],pd={class:"field"},hd={class:"control"},md=(0,l._)("label",{class:"label"},"Message:",-1),gd={class:"field"},vd={class:"control has-text-right"},wd=["disabled"],_d={key:0,class:"has-text-success"},bd=(0,l.Uk)(" A message has been sent to "),yd=(0,l.Uk)(". "),kd=(0,l._)("p",{class:"subtitle"},"Messaging History",-1),fd={key:1,class:"container"},Dd=(0,l._)("p",{class:"subtitle is-size-6 has-text-right"},"Are you sure you want to delete all messages?",-1),Cd={class:"buttons is-right"},xd={key:2},Ud={class:"notification",style:{margin:"5%"}},Sd={class:"content"},Ad=["onClick"],Pd={key:3},Md=(0,l._)("p",null,"No past messages yet.",-1),zd=[Md],Nd={class:"section",style:{"background-color":"whitesmoke"}},Id={class:"container is-widescreen is-fullhd",style:{padding:"15"}},Td={class:"title"},qd=(0,l.Uk)(" APPOINTMENT HISTORY "),Hd={class:"field"},Ld={class:"control"},Vd={key:0,class:"container"},Od={class:"subtitle has-text-black"},Ed={class:"table-container"},Fd={class:"table is-striped is-narrow is-fullwidth is-bordered"},$d=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Reference ID"),(0,l._)("th",{class:"has-text-black-ter"},"Priority No."),(0,l._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,l._)("th",{class:"has-text-black-ter"},"Birthday"),(0,l._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1),Rd={class:"has-text-black-ter"},Yd={class:"has-text-black-ter"},Bd={class:"has-text-black-ter"},Kd={class:"has-text-black-ter"},jd={class:"has-text-black-ter"},Wd={class:"has-text-black-ter"},Gd={class:"has-text-black-ter"},Zd={class:"has-text-black-ter"},Qd={key:1,class:"notification is-info"};function Xd(e,t,a,i,o,n){const c=(0,l.up)("DoctorMenu");return(0,l.wg)(),(0,l.iD)("div",Br,[(0,l._)("div",Kr,[(0,l._)("div",jr,[(0,l.Wm)(c)]),(0,l._)("div",Wr,[(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isActiveModal}])},[Gr,(0,l._)("div",Zr,[(0,l._)("div",Qr,[(0,l._)("div",Xr,[(0,l._)("div",Jr,[(0,l._)("div",ed,[(0,l._)("div",td,[ad,(0,l._)("input",{class:"input",type:"text",value:"Dr. "+o.doctorName,disabled:""},null,8,sd)])]),(0,l._)("div",id,[(0,l._)("div",ld,[od,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdown}])},[(0,l._)("div",nd,[(0,l._)("button",{class:"button",onClick:t[0]||(t[0]=(...e)=>n.openPatients&&n.openPatients(...e))},[""==o.selectedPatient?((0,l.wg)(),(0,l.iD)("span",cd,"Select")):((0,l.wg)(),(0,l.iD)("span",rd,(0,v.zw)(o.selectedPatient),1))])]),(0,l._)("div",dd,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.patients.patients,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e._id},[(0,l._)("a",{class:"dropdown-item",onClick:t=>n.selectPatient(e.patient,e.patientName)},(0,v.zw)(e.patientName),9,ud)])))),128))])],2)])])])]),(0,l._)("div",pd,[(0,l._)("div",hd,[md,(0,l.wy)((0,l._)("textarea",{class:"textarea",placeholder:"Message","onUpdate:modelValue":t[1]||(t[1]=e=>o.noticeMsg=e)},null,512),[[s.nr,o.noticeMsg]])])]),(0,l._)("div",gd,[(0,l._)("div",vd,[(0,l._)("button",{class:"button is-primary",onClick:t[2]||(t[2]=(...e)=>n.sendNotif&&n.sendNotif(...e)),disabled:""==o.selectedPatient||""==o.noticeMsg},"Send",8,wd)])]),o.notificationSent?((0,l.wg)(),(0,l.iD)("p",_d,[bd,(0,l._)("b",null,(0,v.zw)(o.messageSuccessSelectedPatient),1),yd])):(0,l.kq)("",!0),(0,l._)("a",{class:"button is-size-6 has-text-danger is-pulled-right",onClick:t[3]||(t[3]=e=>o.clearMsgPrompt=!0)},"Clear message history"),kd,o.clearMsgPrompt?((0,l.wg)(),(0,l.iD)("div",fd,[Dd,(0,l._)("div",Cd,[(0,l._)("button",{class:"button",onClick:t[4]||(t[4]=(...e)=>n.clearNotif&&n.clearNotif(...e))},"Yes"),(0,l._)("button",{class:"button",onClick:t[5]||(t[5]=e=>o.clearMsgPrompt=!1)},"No")])])):(0,l.kq)("",!0),0!==Object.keys(o.messageHistory).length?((0,l.wg)(),(0,l.iD)("div",xd,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.messageHistory,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"container",key:t},[(0,l._)("div",Ud,[(0,l._)("div",Sd,[(0,l._)("p",null,"To: "+(0,v.zw)(e.to),1),(0,l._)("p",null,"Message: "+(0,v.zw)(e.message),1),(0,l._)("p",null,"Date: "+(0,v.zw)(new Date(e.date).toLocaleString()),1)]),(0,l._)("button",{class:"delete",onClick:t=>n.deleteNotif(e)},null,8,Ad)])])))),128))])):((0,l.wg)(),(0,l.iD)("div",Pd,zd))])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[6]||(t[6]=(...e)=>n.modalInactive&&n.modalInactive(...e))})],2),(0,l._)("section",Nd,[(0,l._)("div",Id,[(0,l._)("h1",Td,[qd,(0,l._)("button",{class:"button is-info",onClick:t[7]||(t[7]=(...e)=>n.modalActive&&n.modalActive(...e))},"Send a message to a patient")]),(0,l._)("div",Hd,[(0,l._)("div",Ld,[(0,l.wy)((0,l._)("input",{class:"input",type:"text",style:{width:"50% !important"},"onUpdate:modelValue":t[8]||(t[8]=e=>o.searchBar=e),placeholder:"Search..."},null,512),[[s.nr,o.searchBar]])])]),0!==Object.keys(n.appointmentSchedules).length?((0,l.wg)(),(0,l.iD)("div",Vd,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.appointmentSchedules,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,v.C_)(["box",{"is-hidden":new Date(t).toDateString()==(new Date).toDateString()}]),key:t},[(0,l._)("h1",Od,"Schedule: "+(0,v.zw)(new Date(t).toDateString()),1),(0,l._)("div",Ed,[(0,l._)("table",Fd,[$d,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,(e=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("th",Rd,(0,v.zw)(e.referenceID),1),(0,l._)("th",Yd,(0,v.zw)(e.priorityNum),1),(0,l._)("th",Bd,(0,v.zw)(e.hospital),1),(0,l._)("td",Kd,(0,v.zw)(e.firstName),1),(0,l._)("td",jd,(0,v.zw)(e.lastName),1),(0,l._)("td",Wd,(0,v.zw)(e.contactNum),1),(0,l._)("td",Gd,(0,v.zw)(e.birthDay),1),(0,l._)("td",Zd,(0,v.zw)(e.comments),1)])])))),128))])])],2)))),128))])):((0,l.wg)(),(0,l.iD)("div",Qd,"No previous appointments."))])])])])])}var Jd={name:"PatientLogs",components:{DoctorMenu:Wl},async mounted(){await tt().post("/api/appointmentList/doctors",{id:this.$store.state.doctorID}).then((e=>this.appointmentSched=e.data)),await tt().get("/api/doctor").then((e=>this.patients=e.data.find((e=>e.alias==this.alias)))),await tt().get("/session/doctor").then((e=>this.doctorName=e.data.fullname)),await tt().get("/session/doctor").then((e=>this.messageHistory=e.data.messageHistory.reverse()))},data(){return{clearMsgPrompt:!1,searchBar:"",appointmentSched:[],alias:this.$store.state.alias,patients:[],isActiveDropdown:!1,isActiveModal:!1,selectedPatient:"",messageSuccessSelectedPatient:"",doctorName:"",noticeMsg:"",notificationSent:!1,messageHistory:[]}},computed:{appointmentSchedules(){return!!this.appointmentSched&&Cl().groupBy(this.appointmentSched.filter((e=>e.firstName.toLowerCase().includes(this.searchBar.toLowerCase())||e.lastName.toLowerCase().includes(this.searchBar.toLowerCase())||e.referenceID.toLowerCase().includes(this.searchBar.toLowerCase()))).sort(((e,t)=>new Date(t.schedule[0].date).getTime()-new Date(e.schedule[0].date).getTime())).filter((e=>new Date(e.schedule[0].date).getTime()<(new Date).getTime())),"schedule[0].date")}},methods:{selectPatient(e,t){this.selectedPatient=t,this.isActiveDropdown=!1,Zt.emit("join room",e)},openPatients(){this.isActiveDropdown=!this.isActiveDropdown,this.notificationSent=!1},modalActive(){this.isActiveModal=!0,Zt.connect()},modalInactive(){this.isActiveModal=!1,this.selectedPatient="",Zt.disconnect()},async sendNotif(){let e;this.messageSuccessSelectedPatient=this.selectedPatient,Zt.emit("message",this.noticeMsg,this.doctorName,new Date),await tt().post("/api/pushMsg",{id:this.$store.state.doctorID,message:{to:this.selectedPatient,message:this.noticeMsg,date:new Date}}).then((t=>e=t.data)).catch((e=>{console.log(e)})),await tt().put("/session/doctor",{messageHistory:e}),this.messageHistory=e.reverse(),this.noticeMsg="",this.selectedPatient="",this.notificationSent=!0},async deleteNotif(e){let t;await tt().post("/api/pullMsg",{id:this.$store.state.doctorID,message:e}).then((e=>t=e.data)).catch((e=>{console.log(e)})),await tt().put("/session/doctor",{messageHistory:t}),this.messageHistory=t.reverse()},async clearNotif(){await tt().post("/api/clearMsg",{id:this.$store.state.doctorID}).then((e=>this.messageHistory=e.data)).catch((e=>console.log(e))),await tt().put("/session/doctor",{messageHistory:this.messageHistory}),this.clearMsgPrompt=!1}}};const eu=(0,c.Z)(Jd,[["render",Xd]]);var tu=eu;const au=e=>((0,l.dD)("data-v-5fba7b41"),e=e(),(0,l.Cn)(),e),su={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},iu={class:"columns"},lu={class:"column is-2"},ou={class:"column",style:{"background-color":"whitesmoke"}},nu={class:"section",style:{"background-color":"whitesmoke"}},cu=au((()=>(0,l._)("h1",{class:"title"},"SECURITY",-1))),ru={class:"container box"},du={key:0,class:"message is-danger"},uu=au((()=>(0,l._)("div",{class:"message-header"},[(0,l._)("p",null,"YOU ARE NOT VERIFIED ❌")],-1))),pu=au((()=>(0,l._)("div",{class:"message-body"},[(0,l.Uk)(" To get verified, link your "),(0,l._)("b",null,"email account"),(0,l.Uk)(". ")],-1))),hu=[uu,pu],mu={class:"columns"},gu={class:"column"},vu=au((()=>(0,l._)("h1",{class:"title"},"Change password:",-1))),wu=au((()=>(0,l._)("div",{class:"block"},null,-1))),_u={class:"field"},bu={class:"control"},yu=au((()=>(0,l._)("label",{class:"label"},"Current password",-1))),ku={key:0,class:"notification is-warning"},fu={class:"field"},Du={class:"control"},Cu=au((()=>(0,l._)("label",{class:"label"},"Create new password:",-1))),xu={key:0,class:"notification is-danger"},Uu={class:"field"},Su={class:"control"},Au=au((()=>(0,l._)("label",{class:"label"},"Repeat new password:",-1))),Pu={key:0,class:"notification is-danger"},Mu={class:"field"},zu={class:"control"},Nu={class:"checkbox"},Iu=(0,l.Uk)(" Show password "),Tu={class:"field"},qu={class:"control"},Hu=["disabled"],Lu={key:0,class:"notification is-success"},Vu={class:"column"},Ou=au((()=>(0,l._)("div",{class:"modal-background"},null,-1))),Eu={key:0,class:"modal-content box section",id:"OTPModal",style:{width:"33%"}},Fu={key:0,class:"notification is-info is-light"},$u={key:1,class:"notification is-danger"},Ru={key:2,class:"field"},Yu={class:"control has-text-centered"},Bu=["disabled"],Ku={key:3,class:"has-text-centered"},ju=["disabled"],Wu={key:0,class:"notification is-danger"},Gu={key:1,class:"modal-content box section",id:"OTPModal",style:{width:"33%"}},Zu={key:0,class:"field"},Qu=au((()=>(0,l._)("div",{class:"notification is-success is-light"},"Verify your email.",-1))),Xu={class:"control has-text-centered"},Ju={class:"has-text-centered"},ep=["disabled"],tp={key:1,class:"field"},ap={key:0,class:"notification is-info is-light"},sp={key:1,class:"notification is-danger is-light"},ip={key:0},lp={key:1},op={class:"control has-text-centered"},np=["disabled"],cp={key:2,class:"has-text-centered"},rp=["disabled"],dp={key:0,class:"notification is-danger"},up={class:"field"},pp={class:"control"},hp=au((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"License No.")],-1))),mp=["disabled"],gp={class:"field is-horizontal"},vp={class:"field-body"},wp={class:"field"},_p={class:"control"},bp=au((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Full Name:")],-1))),yp=["disabled"],kp={class:"field"},fp={class:"control"},Dp={class:"label"},Cp=(0,l.Uk)(" Email "),xp={key:0,class:"has-text-success"},Up=au((()=>(0,l._)("b",null,"Verified ✓",-1))),Sp=[Up],Ap={key:1,class:"has-text-danger"},Pp=au((()=>(0,l._)("b",null,"Requires verification ❌",-1))),Mp=[Pp],zp=["disabled"],Np={key:0,class:"notification is-success is-light"};function Ip(e,t,a,i,o,n){const c=(0,l.up)("DoctorMenu"),r=(0,l.up)("ForgotPassword");return(0,l.wg)(),(0,l.iD)("div",su,[(0,l._)("div",iu,[(0,l._)("div",lu,[(0,l.Wm)(c)]),(0,l._)("div",ou,[(0,l._)("section",nu,[cu,(0,l._)("div",ru,[o.verified?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("article",du,hu)),(0,l._)("div",mu,[(0,l._)("div",gu,[vu,null!=o.gmail?((0,l.wg)(),(0,l.j4)(r,{key:0,userType:"doctor",email:o.gmail},null,8,["email"])):(0,l.kq)("",!0),wu,(0,l._)("div",_u,[(0,l._)("div",bu,[yu,(0,l.wy)((0,l._)("input",{class:"input password",size:"5",type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>o.currentPassword=e),required:""},null,512),[[s.nr,o.currentPassword]])]),o.incorrectPasswordValidate?((0,l.wg)(),(0,l.iD)("div",ku,(0,v.zw)(o.currentPasswordValidateMessage),1)):(0,l.kq)("",!0)]),(0,l._)("div",fu,[(0,l._)("div",Du,[Cu,(0,l.wy)((0,l._)("input",{class:(0,v.C_)(["input password",{"is-danger":o.passwordValidate}]),size:"5",type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),required:""},null,2),[[s.nr,o.password]])]),o.passwordValidate?((0,l.wg)(),(0,l.iD)("div",xu,(0,v.zw)(o.passwordValidateMessage),1)):(0,l.kq)("",!0)]),(0,l._)("div",Uu,[(0,l._)("div",Su,[Au,(0,l.wy)((0,l._)("input",{class:(0,v.C_)(["input password",{"is-danger":o.passwordValidate}]),size:"5",type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>o.passwordRepeat=e),required:""},null,2),[[s.nr,o.passwordRepeat]])]),o.passwordValidate?((0,l.wg)(),(0,l.iD)("div",Pu,(0,v.zw)(o.passwordValidateMessage),1)):(0,l.kq)("",!0)]),(0,l._)("div",Mu,[(0,l._)("div",zu,[(0,l._)("label",Nu,[(0,l._)("input",{type:"checkbox",onClick:t[3]||(t[3]=(...e)=>n.showPass&&n.showPass(...e))}),Iu])])]),(0,l._)("div",Tu,[(0,l._)("div",qu,[(0,l._)("button",{class:"button is-danger",type:"submit",onClick:t[4]||(t[4]=(...e)=>n.updatePassword&&n.updatePassword(...e)),disabled:null==o.currentPassword||null==o.password||null==o.passwordRepeat},"Confirm",8,Hu),o.passwordSuccess?((0,l.wg)(),(0,l.iD)("div",Lu,"Password has been changed.")):(0,l.kq)("",!0)])])]),(0,l._)("div",Vu,[(0,l._)("p",null,[o.verified?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"has-text-info",onClick:t[5]||(t[5]=(...e)=>n.modalUpEditInfo&&n.modalUpEditInfo(...e))},"[Edit Information]")):((0,l.wg)(),(0,l.iD)("a",{key:1,class:"has-text-danger",onClick:t[6]||(t[6]=(...e)=>n.modalUpInfoVerify&&n.modalUpInfoVerify(...e))},"[Verify Now]"))]),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isActiveModal}])},[Ou,o.verified?((0,l.wg)(),(0,l.iD)("div",Eu,[o.codeError?((0,l.wg)(),(0,l.iD)("div",$u,"You can only request a verification code once, please try again in 10 minutes.")):((0,l.wg)(),(0,l.iD)("div",Fu,"We have sent you a verification code on your email.")),o.codeError?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Ru,[(0,l._)("div",Yu,[(0,l.wy)((0,l._)("input",{class:"input",type:"number",maxlength:"4",id:"OTP","onUpdate:modelValue":t[7]||(t[7]=e=>o.OTP=e),oninput:"this.value=this.value.slice(0,this.maxLength)",disabled:o.codeError},null,8,Bu),[[s.nr,o.OTP]])])])),o.codeError?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Ku,[(0,l._)("button",{class:"button is-info",disabled:""===o.OTP,onClick:t[8]||(t[8]=(...e)=>n.confirmOTPEditInfo&&n.confirmOTPEditInfo(...e))},"Confirm",8,ju),o.incorrectCode?((0,l.wg)(),(0,l.iD)("div",Wu,"Incorrect code, please check your email thoroughly.")):(0,l.kq)("",!0)])),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[9]||(t[9]=(...e)=>n.closeModal&&n.closeModal(...e))})])):((0,l.wg)(),(0,l.iD)("div",Gu,[o.verifyEmailSent?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Zu,[Qu,(0,l._)("div",Xu,[(0,l.wy)((0,l._)("input",{class:"input",type:"email","onUpdate:modelValue":t[10]||(t[10]=e=>o.gmail=e)},null,512),[[s.nr,o.gmail]])]),(0,l._)("div",Ju,[(0,l._)("button",{class:"button is-success",onClick:t[11]||(t[11]=(...e)=>n.sendVerificationEmail&&n.sendVerificationEmail(...e)),disabled:""===o.gmail},"Verify",8,ep)])])),o.verifyEmailSent?((0,l.wg)(),(0,l.iD)("div",tp,[o.codeError?((0,l.wg)(),(0,l.iD)("div",sp,[o.emailTaken?((0,l.wg)(),(0,l.iD)("span",ip,"Email address is already taken.")):((0,l.wg)(),(0,l.iD)("span",lp,"You can only request a verification code once, please try again in 10 minutes."))])):((0,l.wg)(),(0,l.iD)("div",ap,"We have sent you a verification code on your email.")),(0,l._)("div",op,[o.codeError?(0,l.kq)("",!0):(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:0,class:"input",type:"number",maxlength:"4",id:"OTP","onUpdate:modelValue":t[12]||(t[12]=e=>o.OTP=e),oninput:"this.value=this.value.slice(0,this.maxLength)",disabled:o.codeError||""==o.OTP},null,8,np)),[[s.nr,o.OTP]])]),o.codeError?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",cp,[(0,l._)("button",{class:"button is-info",disabled:""===o.OTP,onClick:t[13]||(t[13]=(...e)=>n.verifyEmail&&n.verifyEmail(...e))},"Confirm",8,rp),o.incorrectCode?((0,l.wg)(),(0,l.iD)("div",dp,"Incorrect code, please check your email thoroughly.")):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[14]||(t[14]=(...e)=>n.closeModal&&n.closeModal(...e))})]))],2),(0,l._)("div",up,[(0,l._)("div",pp,[hp,(0,l.wy)((0,l._)("input",{class:(0,v.C_)(["input",{"is-success":o.authorized}]),type:"text","onUpdate:modelValue":t[15]||(t[15]=e=>o.licenseNo=e),style:{width:"33%"},disabled:!o.authorized},null,10,mp),[[s.nr,o.licenseNo]])])]),(0,l._)("div",gp,[(0,l._)("div",vp,[(0,l._)("div",wp,[(0,l._)("div",_p,[bp,(0,l.wy)((0,l._)("input",{class:(0,v.C_)(["input",{"is-success":o.authorized}]),size:"5",type:"text","onUpdate:modelValue":t[16]||(t[16]=e=>o.fullname=e),disabled:!o.authorized},null,10,yp),[[s.nr,o.fullname]])])]),(0,l._)("div",kp,[(0,l._)("div",fp,[(0,l._)("label",Dp,[Cp,o.verified?((0,l.wg)(),(0,l.iD)("span",xp,Sp)):((0,l.wg)(),(0,l.iD)("span",Ap,Mp))]),(0,l.wy)((0,l._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":t[17]||(t[17]=e=>o.gmail=e),disabled:""},null,512),[[s.nr,o.gmail]])])])])]),(0,l._)("button",{class:"button is-link",disabled:!o.authorized,onClick:t[18]||(t[18]=(...e)=>n.updateInfo&&n.updateInfo(...e))},"Confirm",8,zp),o.updateInfoSuccess?((0,l.wg)(),(0,l.iD)("div",Np,"Changes have been updated successfully.")):(0,l.kq)("",!0)])])])])])])])}var Tp={name:"DoctorSecurity",components:{DoctorMenu:Wl,ForgotPassword:(0,l.RC)((()=>Promise.resolve().then(a.bind(a,9615))))},async mounted(){await tt().get("/session/doctor").then((e=>this.doctorDetails=e.data)),this.verified=await this.doctorDetails.verified,this.id=await this.doctorDetails._id,this.licenseNo=await this.doctorDetails.licenseNo,this.fullname=await this.doctorDetails.fullname,this.gmail=await this.doctorDetails.gmail},data(){return{doctorDetails:[],OTP:null,id:null,isActiveModal:!1,currentPassword:null,currentPasswordValidate:null,currentPasswordValidateMessage:null,currentValidateMessage:null,passwordValidateMessage:null,incorrectPasswordValidate:null,passwordValidate:null,password:null,passwordRepeat:null,passwordSuccess:!1,verified:null,licenseNo:null,fullname:null,gmail:null,authorized:!1,verifyEmailSent:!1,emailTaken:!1,codeError:!1,updateInfoSuccess:!1,incorrectCode:!1,errMsg:""}},methods:{async updatePassword(){if(""!==await this.currentPassword&&""!==this.password&&""!==this.passwordRepeat)if(this.password!==this.passwordRepeat)this.passwordValidate=!0,this.passwordValidateMessage="Passwords do not match",this.passwordSuccess=!1;else try{await tt().put("/api/updatePassword/doctor",{doctorID:this.id,currentPassword:this.currentPassword,newPassword:this.password}).then((e=>{e.data?(this.incorrectPasswordValidate=!1,this.passwordValidate=!1,this.passwordSuccess=!0,this.currentPassword=null,this.password=null,this.passwordRepeat=null):(this.passwordValidate=!1,this.passwordSuccess=!1,this.incorrectPasswordValidate=!0,this.currentPasswordValidateMessage="Incorrect current password")}))}catch(e){this.passwordValidate=!1,this.passwordSuccess=!1,this.incorrectPasswordValidate=!0,this.errMsg=e}},showPass(){let e=document.getElementsByClassName("password");for(let t=0;t<e.length;t++)"password"===e[t].type?e[t].type="text":e[t].type="password"},async modalUpEditInfo(){let e=Math.floor(1e3+9e3*Math.random());await tt().post("/api/code/email",{email:this.gmail}).then((async t=>{t.data?(this.isActiveModal=!0,this.codeError=!0):(this.isActiveModal=!0,await tt().post("/api/code",{email:this.gmail,code:e}),await tt().post("/api/OTPMail",{email:this.gmail,code:e}))}))},async modalUpInfoVerify(){this.isActiveModal=!0},async sendVerificationEmail(){let e=[],t=Math.floor(1e3+9e3*Math.random());await tt().get("/api/doctor").then((t=>e=t.data.find((e=>e.gmail===this.gmail)))),"undefined"!==typeof e?await tt().post("/api/code/email",{email:this.gmail}).then((async e=>{e.data?(this.verifyEmailSent=!0,this.codeError=!0):(await tt().post("/api/code",{email:this.gmail,code:t}),await tt().post("/api/OTPMail",{email:this.gmail,code:t}),this.verifyEmailSent=!0)})):(this.verifyEmailSent=!0,this.codeError=!0,this.emailTaken=!0)},async confirmOTPEditInfo(){await tt().post("/api/code/verify",{code:this.OTP}).then((e=>{e.data?this.codeError||(this.authorized=!0,this.isActiveModal=!1):this.incorrectCode=!0}))},async verifyEmail(){await tt().post("/api/code/verify",{code:this.OTP}).then((async e=>{await e.data?this.codeError?this.incorrectCode=!0:(await tt().put(`/api/doctor/${this.id}`,{gmail:this.gmail,verified:!0}),await tt().put("/session/doctor",{gmail:this.gmail,verified:!0}),this.verified=!0,this.isActiveModal=!1,this.isActiveModal||await tt().get("/session/doctor").then((e=>this.doctorDetails=e.data))):this.incorrectCode=!0}))},async updateInfo(){this.verified&&(await tt().put(`/api/doctor/${this.id}`,{licenseNo:this.licenseNo,name:this.fullname}),await tt().put("/session/doctor",{licenseNo:this.licenseNo,name:this.fullname}),await tt().get("/session/doctor").then((e=>this.fullname=e.data.fullname)),this.updateInfoSuccess=!0)},closeModal(){this.isActiveModal=!1}}};const qp=(0,c.Z)(Tp,[["render",Ip],["__scopeId","data-v-5fba7b41"]]);var Hp=qp;const Lp={class:"section is-medium"},Vp={class:"subtitle has-text-centered"},Op=(0,l.Uk)(" You have been successfuly appointed to "),Ep=(0,l.Uk)(" at "),Fp=(0,l.Uk)(", "),$p=(0,l.Uk)(" - "),Rp=(0,l.Uk)(" in "),Yp=(0,l.Uk)(". "),Bp={class:"subtitle has-text-centered"},Kp=(0,l.Uk)("Your "),jp=(0,l._)("b",null,"priority number",-1),Wp=(0,l.Uk)(" is "),Gp=(0,l._)("br",null,null,-1),Zp={class:"subtitle is-6 has-text-centered has-text-weight-bold"},Qp=(0,l._)("hr",null,null,-1),Xp=(0,l._)("h1",{class:"title"},"Patient Details ",-1),Jp=(0,l._)("br",null,null,-1),eh={class:"subtitle"},th=(0,l._)("b",null,"First Name:",-1),ah={class:"subtitle"},sh=(0,l._)("b",null,"Last Name:",-1),ih={class:"subtitle"},lh=(0,l._)("b",null,"Contact Number:",-1),oh={class:"subtitle"},nh=(0,l._)("b",null,"Birthday:",-1),ch={class:"subtitle"},rh=(0,l._)("b",null,"Symptoms/Comments:",-1);function dh(e,t,a,s,i,o){const n=(0,l.up)("NavigationTab");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(n),(0,l._)("section",Lp,[(0,l._)("h1",Vp,[Op,(0,l._)("b",null,(0,v.zw)(i.patient.doctor),1),Ep,(0,l._)("b",null,(0,v.zw)(new Date(i.patient.schedule.date).toDateString()),1),Fp,(0,l._)("b",null,(0,v.zw)(i.patient.schedule.timeStart),1),$p,(0,l._)("b",null,(0,v.zw)(i.patient.schedule.timeEnd),1),Rp,(0,l._)("b",null,(0,v.zw)(i.patient.hospital),1),Yp]),(0,l._)("h1",Bp,[Kp,jp,Wp,(0,l._)("b",null,(0,v.zw)(i.patient.priorityNum),1)]),Gp,(0,l._)("p",Zp,"Reference ID: "+(0,v.zw)(i.patient.referenceID),1),Qp,Xp,Jp,(0,l._)("h1",eh,[th,(0,l.Uk)(" "+(0,v.zw)(i.patient.firstName),1)]),(0,l._)("h1",ah,[sh,(0,l.Uk)(" "+(0,v.zw)(i.patient.lastName),1)]),(0,l._)("h1",ih,[lh,(0,l.Uk)(" "+(0,v.zw)(i.patient.contactNum),1)]),(0,l._)("h1",oh,[nh,(0,l.Uk)(" "+(0,v.zw)(i.patient.birthDay),1)]),(0,l._)("h1",ch,[rh,(0,l.Uk)(" "+(0,v.zw)(i.patient.comments),1)])])],64)}var uh={name:"pickDoctorSuccess",data(){return{patient:m.state.patientDetails}},mounted(){m.commit("statusAvailability",!1)},components:{NavigationTab:Jt}};const ph=(0,c.Z)(uh,[["render",dh]]);var hh=ph;const mh={class:"container",style:{"margin-top":"20%"}},gh=(0,l._)("h1",{class:"title has-text-centered"},"Profile image changed successfully, changes may take a few minutes to hours to take effect.",-1),vh=(0,l._)("br",null,null,-1),wh=(0,l._)("h1",{class:"subtitle has-text-centered"},"Redirecting browser in 15 seconds.",-1),_h=(0,l._)("h1",{class:"subtitle has-text-centered"},[(0,l.Uk)(" If the browser does not reload automatically, please click "),(0,l._)("a",{href:"/doctor/login"},"here")],-1),bh=[gh,vh,wh,_h];function yh(e,t,a,s,i,o){return(0,l.wg)(),(0,l.iD)("div",mh,bh)}var kh={name:"imgUploadSuccess",created(){setTimeout((()=>{window.location.href="/doctor/login",this.$store.commit("imgSuccess",!1)}),15e3)}};const fh=(0,c.Z)(kh,[["render",yh]]);var Dh=fh;const Ch={class:"container",style:{"margin-top":"20%"}},xh=(0,l._)("h1",{class:"title has-text-centered"},"Your account has been successfully created, please login onto your account and setup your schedule to start.",-1),Uh=(0,l._)("br",null,null,-1),Sh=(0,l._)("h1",{class:"subtitle has-text-centered"},"Redirecting browser in 15 seconds.",-1),Ah=(0,l._)("h1",{class:"subtitle has-text-centered"},[(0,l.Uk)(" If the browser does not reload automatically, please click "),(0,l._)("a",{href:"/admin/login"},"here")],-1),Ph=[xh,Uh,Sh,Ah];function Mh(e,t,a,s,i,o){return(0,l.wg)(),(0,l.iD)("div",Ch,Ph)}var zh={name:"imageUploadSuccessDoctor",created(){setTimeout((()=>{window.location.href="/doctor/login",this.$store.commit("imgSuccess",!1)}),15e3)}};const Nh=(0,c.Z)(zh,[["render",Mh]]);var Ih=Nh;const Th={class:"container",style:{"margin-top":"20%"}},qh=(0,l._)("h1",{class:"title has-text-centered"},"Hospital image changed successfully, changes may take a few minutes to hours to take effect.",-1),Hh=(0,l._)("br",null,null,-1),Lh=(0,l._)("h1",{class:"subtitle has-text-centered"},"Redirecting browser in 15 seconds.",-1),Vh=(0,l._)("h1",{class:"subtitle has-text-centered"},[(0,l.Uk)(" If the browser does not reload automatically, please click "),(0,l._)("a",{href:"/user/manager/login"},"here")],-1),Oh=[qh,Hh,Lh,Vh];function Eh(e,t,a,s,i,o){return(0,l.wg)(),(0,l.iD)("div",Th,Oh)}var Fh={name:"imgUploadSuccessManager",created(){setTimeout((()=>{window.location.href="/user/manager/login",this.$store.commit("imgSuccessManager",!1)}),15e3)}};const $h=(0,c.Z)(Fh,[["render",Eh]]);var Rh=$h;const Yh=e=>((0,l.dD)("data-v-0628a19e"),e=e(),(0,l.Cn)(),e),Bh={class:"section"},Kh=Yh((()=>(0,l._)("i",{class:"fa-solid fa-arrow-left"},null,-1))),jh=(0,l.Uk)(" Back to Login"),Wh={class:"container",style:{width:"50%",margin:"auto"}},Gh={key:0,class:"notification is-danger"},Zh=(0,l.Uk)(" Oops, something went wrong. Try again later or "),Qh=(0,l.Uk)("contact us"),Xh=Yh((()=>(0,l._)("h1",{class:"title has-text-primary"},"You're almost there...",-1))),Jh={class:"box"},em={class:"field is-horizontal"},tm={class:"field-body"},am={class:"field"},sm={class:"control"},im=Yh((()=>(0,l._)("label",{class:"label"},"First name:",-1))),lm={class:"field"},om={class:"control"},nm=Yh((()=>(0,l._)("label",{class:"label"},"Last name:",-1))),cm={class:"field is-horizontal"},rm={class:"field-body"},dm={class:"field"},um={class:"control"},pm=Yh((()=>(0,l._)("label",{class:"label"},"Age:",-1))),hm=Yh((()=>(0,l._)("br",null,null,-1))),mm={class:"field"},gm={class:"control"},vm=Yh((()=>(0,l._)("label",{class:"label"},"Gender:",-1))),wm={class:"radio"},_m=(0,l.Uk)(" Male "),bm={class:"radio"},ym=(0,l.Uk)(" Female "),km={class:"field is-horizontal"},fm=Yh((()=>(0,l._)("br",null,null,-1))),Dm={class:"field-body"},Cm={class:"field"},xm={class:"control"},Um=Yh((()=>(0,l._)("label",{class:"label"},"Contact Number:",-1))),Sm={class:"field"},Am={class:"control"},Pm=Yh((()=>(0,l._)("label",{class:"label"},"Gmail(Optional):",-1))),Mm={class:"field is-horizontal"},zm={class:"field-body"},Nm={class:"field"},Im={class:"control"},Tm=Yh((()=>(0,l._)("label",{class:"label"},"Province:",-1))),qm={class:"dropdown-trigger"},Hm={key:0},Lm={key:1},Vm={class:"dropdown-menu"},Om=["onClick"],Em={class:"field"},Fm={class:"control"},$m=Yh((()=>(0,l._)("div",{class:"label"},"City/Municipality:",-1))),Rm={class:"dropdown-trigger"},Ym=["disabled"],Bm={key:0},Km={key:1},jm={key:0,class:"dropdown-menu"},Wm=["onClick"],Gm={class:"field"},Zm={class:"control"},Qm=Yh((()=>(0,l._)("label",{class:"label"},"Current Address",-1))),Xm={class:"field"},Jm={class:"control"},eg=Yh((()=>(0,l._)("label",{class:"label"},"Username:",-1))),tg={key:0},ag={key:0,class:"help is-danger"},sg=(0,l.Uk)("Unavailable"),ig={key:0,class:"fas fa-spinner fa-spin"},lg={key:1,class:"help is-success"},og=(0,l.Uk)("Available"),ng={key:0,class:"fas fa-spinner fa-spin"},cg={class:"field is-horizontal"},rg={class:"field-body"},dg={class:"field"},ug={class:"control"},pg=Yh((()=>(0,l._)("label",{class:"label"},"Password:",-1))),hg={class:"subtitle has-text-danger"},mg={class:"field"},gg={class:"control"},vg=Yh((()=>(0,l._)("label",{class:"label"},"Repeat Password:",-1))),wg={class:"subtitle has-text-danger"},_g={class:"checkbox"},bg=(0,l.Uk)(" I agree to the "),yg=Yh((()=>(0,l._)("a",{href:"#"},"terms and conditions",-1))),kg=Yh((()=>(0,l._)("br",null,null,-1))),fg={class:"has-text-right"},Dg=["disabled"];function Cg(e,t,a,i,o,n){const c=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("section",Bh,[(0,l.Wm)(c,{to:"/user/login"},{default:(0,l.w5)((()=>[Kh,jh])),_:1}),(0,l._)("div",Wh,[o.errMsg?((0,l.wg)(),(0,l.iD)("div",Gh,[Zh,(0,l.Wm)(c,{to:"/contactus"},{default:(0,l.w5)((()=>[Qh])),_:1})])):(0,l.kq)("",!0),Xh,(0,l._)("div",Jh,[(0,l._)("div",em,[(0,l._)("div",tm,[(0,l._)("div",am,[(0,l._)("p",sm,[im,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"First name","onUpdate:modelValue":t[0]||(t[0]=e=>o.firstName=e),required:""},null,512),[[s.nr,o.firstName]])])]),(0,l._)("div",lm,[(0,l._)("p",om,[nm,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Last name","onUpdate:modelValue":t[1]||(t[1]=e=>o.lastName=e),required:""},null,512),[[s.nr,o.lastName]])])])])]),(0,l._)("div",cm,[(0,l._)("div",rm,[(0,l._)("div",dm,[(0,l._)("p",um,[pm,(0,l.wy)((0,l._)("input",{class:"input",type:"number",placeholder:"age","onUpdate:modelValue":t[2]||(t[2]=e=>o.age=e),required:""},null,512),[[s.nr,o.age]])])]),hm,(0,l._)("div",mm,[(0,l._)("p",gm,[vm,(0,l._)("label",wm,[(0,l._)("input",{type:"radio",name:"sex",onClick:t[3]||(t[3]=(...e)=>n.sexMale&&n.sexMale(...e))}),_m]),(0,l._)("label",bm,[(0,l._)("input",{type:"radio",name:"sex",onClick:t[4]||(t[4]=(...e)=>n.sexFemale&&n.sexFemale(...e))}),ym])])])])]),(0,l._)("div",km,[fm,(0,l._)("div",Dm,[(0,l._)("div",Cm,[(0,l._)("p",xm,[Um,(0,l.wy)((0,l._)("input",{class:"input",type:"number",placeholder:"contact number","onUpdate:modelValue":t[5]||(t[5]=e=>o.contactNum=e),required:""},null,512),[[s.nr,o.contactNum]])])]),(0,l._)("div",Sm,[(0,l._)("p",Am,[Pm,(0,l.wy)((0,l._)("input",{class:"input",type:"email",placeholder:"gmail","onUpdate:modelValue":t[6]||(t[6]=e=>o.gmail=e),required:""},null,512),[[s.nr,o.gmail]])])])])]),(0,l._)("div",Mm,[(0,l._)("div",zm,[(0,l._)("div",Nm,[(0,l._)("div",Im,[Tm,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownProvince}])},[(0,l._)("div",qm,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:t[7]||(t[7]=(...e)=>n.provinceDropdown&&n.provinceDropdown(...e))},[""==o.province?((0,l.wg)(),(0,l.iD)("span",Hm,"Select")):((0,l.wg)(),(0,l.iD)("span",Lm,(0,v.zw)(o.province),1))])]),(0,l._)("div",Vm,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.geolocationData,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e._id},[(0,l._)("a",{class:"dropdown-item",onClick:t=>n.selectProvince(e.province)},(0,v.zw)(e.province),9,Om)])))),128))])],2)])]),(0,l._)("div",Em,[(0,l._)("div",Fm,[$m,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownCity}])},[(0,l._)("div",Rm,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:t[8]||(t[8]=(...e)=>n.cityDropdown&&n.cityDropdown(...e)),disabled:""==o.province},[""==o.city?((0,l.wg)(),(0,l.iD)("span",Bm,"Select")):((0,l.wg)(),(0,l.iD)("span",Km,(0,v.zw)(o.city),1))],8,Ym)]),o.province?((0,l.wg)(),(0,l.iD)("div",jm,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.citiesData,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e.name},[(0,l._)("a",{class:"dropdown-item",onClick:t=>n.selectCity(e.name)},(0,v.zw)(e.name),9,Wm)])))),128))])):(0,l.kq)("",!0)],2)])])])]),(0,l._)("div",Gm,[(0,l._)("p",Zm,[Qm,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"your current address","onUpdate:modelValue":t[9]||(t[9]=e=>o.currentAddress=e),required:""},null,512),[[s.nr,o.currentAddress]])])]),(0,l._)("div",Xm,[(0,l._)("div",Jm,[eg,""!==o.usernameFound?((0,l.wg)(),(0,l.iD)("div",tg,[o.usernameFound?((0,l.wg)(),(0,l.iD)("p",ag,[sg,o.loadingUsername?((0,l.wg)(),(0,l.iD)("i",ig)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("p",lg,[og,o.loadingUsername?((0,l.wg)(),(0,l.iD)("i",ng)):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0),(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"username","onUpdate:modelValue":t[10]||(t[10]=e=>o.username=e),onInput:t[11]||(t[11]=(...e)=>n.usernameFindTimeout&&n.usernameFindTimeout(...e)),required:""},null,544),[[s.nr,o.username]])])]),(0,l._)("div",cg,[(0,l._)("div",rg,[(0,l._)("div",dg,[(0,l._)("p",ug,[pg,(0,l.wy)((0,l._)("input",{class:"input",type:"password",placeholder:"password","onUpdate:modelValue":t[12]||(t[12]=e=>o.password=e),required:""},null,512),[[s.nr,o.password]])]),(0,l._)("p",hg,(0,v.zw)(o.passwordMatch),1)]),(0,l._)("div",mg,[(0,l._)("p",gg,[vg,(0,l.wy)((0,l._)("input",{class:"input",type:"password",placeholder:"repeat password","onUpdate:modelValue":t[13]||(t[13]=e=>o.passwordRepeat=e),required:""},null,512),[[s.nr,o.passwordRepeat]])]),(0,l._)("p",wg,(0,v.zw)(o.passwordMatch),1)])])]),(0,l._)("label",_g,[(0,l._)("input",{type:"checkbox",onClick:t[14]||(t[14]=(...e)=>n.agreeTermsAndConditions&&n.agreeTermsAndConditions(...e))}),bg,yg]),kg,(0,l._)("div",fg,[(0,l._)("button",{class:"button is-primary",onClick:t[15]||(t[15]=e=>n.signup(e)),disabled:null==o.firstName||null==o.lastName||null==o.age||null==o.sex||null==o.contactNum||null==o.province||null==o.city||null==o.currentAddress||null==o.username||null==o.password||0==o.termsAndConditionsAgreed},"Confirm",8,Dg)])])])])}var xg={username:"UserSignUp",data(){return{firstName:"",lastName:"",age:"",contactNum:"",gmail:"",currentAddress:"",username:"",password:"",passwordRepeat:"",sex:null,passwordMatch:"",geolocationData:[],isActiveDropdownProvince:!1,isActiveDropdownCity:!1,city:"",province:"",citiesData:[],termsAndConditionsAgreed:!1,errMsg:"",usernameFound:"",loadingUsername:!1,searchTimeout:null}},async mounted(){await tt().get("/api/geolocation").then((e=>this.geolocationData=e.data))},methods:{async usernameFindTimeout(){this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.searchTimeout=setTimeout(this.usernameFinder,500)},async usernameFinder(){this.loadingUsername=!0,await tt().post("/api/user/check_username",{username:this.username}).then((e=>{this.usernameFound=e.data})),""==await this.username&&(this.usernameFound=""),this.loadingUsername=!1},agreeTermsAndConditions(){this.termsAndConditionsAgreed=!0},sexMale(){this.sex="Male"},sexFemale(){this.sex="Female"},async selectProvince(e){this.city="",this.province=e,this.isActiveDropdownProvince=!1,await tt().get("/api/geolocation").then((t=>this.citiesData=t.data.find((t=>t.province===e)))),this.citiesData=await this.citiesData.citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1))},selectCity(e){this.city=e,this.isActiveDropdownCity=!1},provinceDropdown(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},cityDropdown(){this.isActiveDropdownCity=!this.isActiveDropdownCity},async signup(){if(this.password!==this.passwordRepeat?this.passwordMatch="password do not match":this.passwordMatch=null,this.password===this.passwordRepeat&&!this.usernameFound)try{await tt().post("/api/user",{username:this.username,password:this.password,name:[this.firstName,this.lastName],age:this.age,sex:this.sex,contactNum:this.contactNum,gmail:this.gmail,province:this.province,city:this.city,currentAddress:this.currentAddress}),await this.$store.commit("accountCreated",!0),await this.$router.push("/user/login")}catch(e){this.errMsg=e}}}};const Ug=(0,c.Z)(xg,[["render",Cg],["__scopeId","data-v-0628a19e"]]);var Sg=Ug;const Ag=e=>((0,l.dD)("data-v-56ce118b"),e=e(),(0,l.Cn)(),e),Pg={class:"section",style:{height:"92vh"}},Mg={class:"container has-text-centered animate__animated animate__fadeInLeft"},zg={class:"box",style:{width:"40%",margin:"auto"}},Ng={key:0,class:"notification is-success"},Ig=Ag((()=>(0,l._)("div",{class:"notification is-info has-text-left"},[(0,l.Uk)(" Are you one of our doctors? Click "),(0,l._)("a",{href:"/doctor/login"},"here"),(0,l.Uk)(". ")],-1))),Tg=Ag((()=>(0,l._)("br",null,null,-1))),qg=Ag((()=>(0,l._)("p",{class:"subtitle has-text-info has-text-left"},"Login to make an appointment.",-1))),Hg={class:"field"},Lg={class:"control"},Vg={class:"control",style:{"margin-top":"2%"}},Og={key:0,class:"subtitle has-text-danger"},Eg={key:1,class:"subtitle has-text-danger"},Fg=Ag((()=>(0,l._)("br",null,null,-1))),$g=Ag((()=>(0,l._)("br",null,null,-1))),Rg=Ag((()=>(0,l._)("h1",{class:"subtitle"},"OR",-1))),Yg=Ag((()=>(0,l._)("a",{href:"/user/signup"},"Create an account",-1)));function Bg(e,t,a,i,o,n){const c=(0,l.up)("NavigationTabVue"),r=(0,l.up)("ForgotPassword");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c),(0,l._)("section",Pg,[(0,l._)("div",Mg,[(0,l._)("div",zg,[o.newAccount?((0,l.wg)(),(0,l.iD)("div",Ng,"Your account has been successfully created.")):(0,l.kq)("",!0),Ig,Tg,qg,(0,l._)("div",Hg,[(0,l._)("div",Lg,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),placeholder:"username",onKeyup:t[1]||(t[1]=(0,s.D2)(((...e)=>n.login&&n.login(...e)),["enter"])),required:""},null,544),[[s.nr,o.username]])]),(0,l._)("div",Vg,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>o.password=e),placeholder:"password",onKeyup:t[3]||(t[3]=(0,s.D2)(((...e)=>n.login&&n.login(...e)),["enter"])),required:""},null,544),[[s.nr,o.password]])]),o.incorrectUserPass?((0,l.wg)(),(0,l.iD)("h1",Og,(0,v.zw)(o.validateMessage),1)):0==o.incorrectUserPass?((0,l.wg)(),(0,l.iD)("h1",Eg,(0,v.zw)(o.validateMessage),1)):(0,l.kq)("",!0),(0,l._)("button",{type:"button",class:"button is-primary",onClick:t[4]||(t[4]=(...e)=>n.login&&n.login(...e))},"Login"),Fg,$g,Rg,Yg]),(0,l.Wm)(r,{userType:"patient"})])])])],64)}var Kg={username:"UserLogin",components:{NavigationTabVue:Jt,ForgotPassword:zi["default"]},data(){return{username:null,password:null,userPatient:null,validateMessage:null,incorrectUserPass:Boolean,newAccount:!1}},async mounted(){1==this.$store.state.accountCreated&&(this.newAccount=!0,await this.$store.commit("accountCreated",!1)),await tt().get("/session/patient").then((e=>this.userPatient=e.data)),"undefined"!==typeof this.userPatient.username?(this.$store.commit("patientUsername",this.userPatient.username),this.$store.commit("patientID",this.userPatient._id),await this.$router.push(`/user/${this.userPatient.username}`)):await tt()["delete"]("/session/patient")},methods:{async login(){null==this.username||null==this.password?(this.incorrectUserPass=!1,this.validateMessage="empty username or password",this.username=null,this.password=null):(await tt().post("/api/auth/patient",{username:this.username,password:this.password}).then((e=>this.userPatient=e.data)),await this.userPatient?(m.commit("patientUsername",this.userPatient.username),m.commit("patientID",this.userPatient._id),await this.$router.push(`/user/${this.userPatient.username}`),await tt().post("/session/patient",{_id:this.userPatient._id,name:this.userPatient.name,email:this.userPatient.gmail,username:this.username,province:this.userPatient.province,city:this.userPatient.city,currentAddress:this.userPatient.currentAddress})):(this.validateMessage="Incorrect username or password",this.incorrectUserPass=!0,this.username=null,this.password=null))}}};const jg=(0,c.Z)(Kg,[["render",Bg],["__scopeId","data-v-56ce118b"]]);var Wg=jg,Gg=a(2262),Zg={__name:"UserView",setup(e){return(e,t)=>((0,l.wg)(),(0,l.j4)((0,Gg.SU)(aa)))}};const Qg=Zg;var Xg=Qg;const Jg=e=>((0,l.dD)("data-v-1124607b"),e=e(),(0,l.Cn)(),e),ev={class:"section",style:{width:"75%",margin:"auto"}},tv={key:0,class:"container"},av=Jg((()=>(0,l._)("h1",{class:"title"},"Profile",-1))),sv={key:0,class:"notification is-danger"},iv=(0,l.Uk)(" Oops, something went wrong. Try again later or "),lv=(0,l.Uk)("contact us"),ov={key:1,class:"notification is-success"},nv={class:"field is-horizontal"},cv={class:"field-body"},rv={class:"field"},dv=Jg((()=>(0,l._)("label",{class:"label"},"Username:",-1))),uv={class:"controls"},pv={class:"field"},hv=Jg((()=>(0,l._)("label",{class:"label"},"Email:",-1))),mv={class:"controls"},gv={class:"field is-horizontal"},vv={class:"field-body"},wv={class:"field"},_v=Jg((()=>(0,l._)("label",{class:"label"},"First Name:",-1))),bv={class:"controls"},yv={class:"field"},kv=Jg((()=>(0,l._)("label",{class:"label"},"Last Name:",-1))),fv={class:"controls"},Dv={class:"field is-horizontal"},Cv={class:"field-body"},xv={class:"field"},Uv={class:"control"},Sv=Jg((()=>(0,l._)("label",{class:"label"},"Province:",-1))),Av={class:"dropdown-trigger"},Pv={key:0},Mv={key:1},zv={class:"dropdown-menu"},Nv=["onClick"],Iv={class:"field"},Tv={class:"control"},qv=Jg((()=>(0,l._)("div",{class:"label"},"City/Municipality:",-1))),Hv={class:"dropdown-trigger"},Lv=["disabled"],Vv={key:0},Ov={key:1},Ev={key:0,class:"dropdown-menu"},Fv=["onClick"],$v={class:"field"},Rv=Jg((()=>(0,l._)("label",{class:"label"},"Current Address:",-1))),Yv={class:"controls"},Bv=Jg((()=>(0,l._)("br",null,null,-1))),Kv={class:"breadcrumb","aria-label":"breadcrumbs"},jv={key:1,class:"container"},Wv={key:0,class:"table-container"},Gv={class:"table is-striped is-narrow is-fullwidth is-bordered"},Zv=Jg((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Schedule"),(0,l._)("th",{class:"has-text-black-ter"},"Priority No."),(0,l._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"Doctor Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,l._)("th",{class:"has-text-black-ter"},"Birthday"),(0,l._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1))),Qv=["onClick"],Xv=Jg((()=>(0,l._)("br",null,null,-1))),Jv={class:"has-text-black-ter"},ew={class:"has-text-black-ter"},tw={class:"has-text-black-ter"},aw={class:"has-text-black-ter"},sw={class:"has-text-black-ter"},iw={class:"has-text-black-ter"},lw={class:"has-text-black-ter"},ow={class:"has-text-black-ter"},nw={class:"has-text-black-ter"},cw={key:1,class:"container"},rw=Jg((()=>(0,l._)("div",{class:"notification is-info"},"You do not have any ongoing appointments.",-1))),dw=[rw],uw={key:2,class:"container"},pw={key:0,class:"table-container"},hw={class:"table is-striped is-narrow is-fullwidth is-bordered"},mw=Jg((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Schedule"),(0,l._)("th",{class:"has-text-black-ter"},"Priority No."),(0,l._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"Doctor Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,l._)("th",{class:"has-text-black-ter"},"Birthday"),(0,l._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1))),gw={class:"has-text-black-ter"},vw={class:"has-text-black-ter"},ww={class:"has-text-black-ter"},_w={class:"has-text-black-ter"},bw={class:"has-text-black-ter"},yw={class:"has-text-black-ter"},kw={class:"has-text-black-ter"},fw={class:"has-text-black-ter"},Dw={class:"has-text-black-ter"},Cw={key:1,class:"container"},xw=Jg((()=>(0,l._)("div",{class:"notification is-info"},"You do not have any past appointments.",-1))),Uw=[xw];var Sw={__name:"UserProfile",setup(e){const t=(0,u.oR)();let a=(0,Gg.iH)([]),i=(0,Gg.iH)([]),o=(0,Gg.iH)([]),n=(0,Gg.iH)([]),c=(0,Gg.iH)(""),r=(0,Gg.iH)(""),d=(0,Gg.iH)(!1),p=(0,Gg.iH)(!1),h=(0,Gg.iH)(""),m=(0,Gg.iH)(!1),g=(0,Gg.iH)(!0),w=(0,Gg.iH)(!1);(0,l.bv)((async()=>{await tt().post("/api/appointmentList/patients",{id:t.state.patientID}).then((e=>a.value=e.data)),await tt().get("/session/patient").then((e=>i.value=e.data)),await tt().get("/api/geolocation").then((e=>o.value=e.data)),c.value=await i.value.province,r.value=await i.value.city,await tt().get("/api/geolocation").then((e=>n.value=e.data.find((e=>e.province===c.value)))),n.value=await n.value.citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1))}));const _=(0,l.Fl)((()=>k())),b=(0,l.Fl)((()=>y()));function y(){return a.value.sort(((e,t)=>new Date(t.schedule[0].date).getTime()-new Date(e.schedule[0].date).getTime())).filter((e=>new Date(e.schedule[0].date).getTime()<(new Date).getTime()))}function k(){return a.value.sort(((e,t)=>{new Date(e.schedule[0].date).getTime(),new Date(t.schedule[0].date).getTime()})).filter((e=>new Date(e.schedule[0].date).getTime()>=(new Date).getTime()&&new Date(e.schedule[0].date).getMonth()>=(new Date).getMonth()))}async function f(e){d.value=!1,r.value="",c.value=e,await tt().get("/api/geolocation").then((t=>n.value=t.data.find((t=>t.province===e)))),n.value=await n.value.citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1))}function D(e){p.value=!1,r.value=e}async function C(){try{await tt().put("/session/patient/",{name:[i.value.name[0],i.value.name[1]],province:c.value,city:r.value,currentAddress:i.value.currentAddress}),await tt().put(`/api/user/${i.value._id}`,{name:[i.value.name[0],i.value.name[1]],province:c.value,city:r.value,currentAddress:i.value.currentAddress}),m.value=!0,h.value="",await tt().get("/session/patient").then((e=>i.value=e.data)),await tt().get("/api/geolocation").then((e=>o.value=e.data)),c.value=await i.value.province,r.value=await i.value.city,await tt().get("/api/geolocation").then((e=>n.value=e.data.find((e=>e.province===c.value)))),n.value=await n.value.citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1))}catch(e){h.value=e}}async function x(e){try{await tt()["delete"](`/api/appointmentList/${e}`),await tt().get("/api/appointmentList").then((e=>a.value=e.data.filter((e=>e.patientID===t.state.patientID))))}catch(s){h.value=s}}return(e,t)=>{const a=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(Jt),(0,l._)("section",ev,[0!==(0,Gg.SU)(i).length?((0,l.wg)(),(0,l.iD)("div",tv,[av,(0,Gg.SU)(h)?((0,l.wg)(),(0,l.iD)("div",sv,[iv,(0,l.Wm)(a,{to:"/contactus"},{default:(0,l.w5)((()=>[lv])),_:1})])):(0,l.kq)("",!0),(0,Gg.SU)(m)?((0,l.wg)(),(0,l.iD)("div",ov,"Changes have been pushed.")):(0,l.kq)("",!0),(0,l._)("div",nv,[(0,l._)("div",cv,[(0,l._)("div",rv,[dv,(0,l._)("div",uv,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>(0,Gg.SU)(i).username=e),disabled:""},null,512),[[s.nr,(0,Gg.SU)(i).username]])])]),(0,l._)("div",pv,[hv,(0,l._)("div",mv,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=e=>(0,Gg.SU)(i).email=e)},null,512),[[s.nr,(0,Gg.SU)(i).email]])])])])]),(0,l._)("div",gv,[(0,l._)("div",vv,[(0,l._)("div",wv,[_v,(0,l._)("div",bv,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":t[2]||(t[2]=e=>(0,Gg.SU)(i).name[0]=e)},null,512),[[s.nr,(0,Gg.SU)(i).name[0]]])])]),(0,l._)("div",yv,[kv,(0,l._)("div",fv,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":t[3]||(t[3]=e=>(0,Gg.SU)(i).name[1]=e)},null,512),[[s.nr,(0,Gg.SU)(i).name[1]]])])])])]),(0,l._)("div",Dv,[(0,l._)("div",Cv,[(0,l._)("div",xv,[(0,l._)("div",Uv,[Sv,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":(0,Gg.SU)(d)}])},[(0,l._)("div",Av,[(0,l._)("button",{class:"button",onClick:t[4]||(t[4]=e=>(0,Gg.dq)(d)?d.value=!(0,Gg.SU)(d):d=!(0,Gg.SU)(d))},[""==(0,Gg.SU)(c)?((0,l.wg)(),(0,l.iD)("span",Pv,"Select")):((0,l.wg)(),(0,l.iD)("span",Mv,(0,v.zw)((0,Gg.SU)(c)),1))])]),(0,l._)("div",zv,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,Gg.SU)(o),(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e._id},[(0,l._)("a",{class:"dropdown-item",onClick:t=>f(e.province)},(0,v.zw)(e.province),9,Nv)])))),128))])],2)])]),(0,l._)("div",Iv,[(0,l._)("div",Tv,[qv,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":(0,Gg.SU)(p)}])},[(0,l._)("div",Hv,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:t[5]||(t[5]=e=>(0,Gg.dq)(p)?p.value=!(0,Gg.SU)(p):p=!(0,Gg.SU)(p)),disabled:""==(0,Gg.SU)(c)},[""==(0,Gg.SU)(r)?((0,l.wg)(),(0,l.iD)("span",Vv,"Select")):((0,l.wg)(),(0,l.iD)("span",Ov,(0,v.zw)((0,Gg.SU)(r)),1))],8,Lv)]),(0,Gg.SU)(c)?((0,l.wg)(),(0,l.iD)("div",Ev,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,Gg.SU)(n),(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e.name},[(0,l._)("a",{class:"dropdown-item",onClick:t=>D(e.name)},(0,v.zw)(e.name),9,Fv)])))),128))])):(0,l.kq)("",!0)],2)])]),(0,l._)("div",$v,[Rv,(0,l._)("div",Yv,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":t[6]||(t[6]=e=>(0,Gg.SU)(i).currentAddress=e)},null,512),[[s.nr,(0,Gg.SU)(i).currentAddress]])])])])]),(0,l._)("div",{class:"field is-grouped is-grouped-right"},[(0,l._)("p",{class:"control"},[(0,l._)("a",{class:"button is-primary",onClick:C},"Save changes")])])])):(0,l.kq)("",!0),Bv,(0,l._)("nav",Kv,[(0,l._)("ul",null,[(0,l._)("li",{class:(0,v.C_)({"is-active":(0,Gg.SU)(g)})},[(0,l._)("a",{onClick:t[7]||(t[7]=e=>((0,Gg.dq)(g)?g.value=!0:g=!0,(0,Gg.dq)(w)?w.value=!1:w=!1))},"Ongoing Appointments")],2),(0,l._)("li",{class:(0,v.C_)({"is-active":(0,Gg.SU)(w)})},[(0,l._)("a",{onClick:t[8]||(t[8]=e=>((0,Gg.dq)(g)?g.value=!1:g=!1,(0,Gg.dq)(w)?w.value=!0:w=!0))},"Past Appointments")],2)])]),(0,Gg.SU)(g)?((0,l.wg)(),(0,l.iD)("div",jv,[0!==Object.keys((0,Gg.SU)(_)).length?((0,l.wg)(),(0,l.iD)("div",Wv,[(0,l._)("table",Gv,[Zv,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,Gg.SU)(_),(e=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-danger",type:"button",onClick:t=>x(e._id)},"Cancel",8,Qv),Xv,(0,l._)("th",Jv,(0,v.zw)(new Date(e.schedule[0].date).toDateString()),1),(0,l._)("th",ew,(0,v.zw)(e.priorityNum),1),(0,l._)("th",tw,(0,v.zw)(e.hospital),1),(0,l._)("th",aw,(0,v.zw)(e.doctorName),1),(0,l._)("td",sw,(0,v.zw)(e.firstName),1),(0,l._)("td",iw,(0,v.zw)(e.lastName),1),(0,l._)("td",lw,(0,v.zw)(e.contactNum),1),(0,l._)("td",ow,(0,v.zw)(e.birthDay),1),(0,l._)("td",nw,(0,v.zw)(e.comments),1)])])))),128))])])):((0,l.wg)(),(0,l.iD)("div",cw,dw))])):(0,l.kq)("",!0),(0,Gg.SU)(w)?((0,l.wg)(),(0,l.iD)("div",uw,[0!==Object.keys((0,Gg.SU)(b)).length?((0,l.wg)(),(0,l.iD)("div",pw,[(0,l._)("table",hw,[mw,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,Gg.SU)(b),(e=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("th",gw,(0,v.zw)(new Date(e.schedule[0].date).toDateString()),1),(0,l._)("th",vw,(0,v.zw)(e.priorityNum),1),(0,l._)("th",ww,(0,v.zw)(e.hospital),1),(0,l._)("th",_w,(0,v.zw)(e.doctorName),1),(0,l._)("td",bw,(0,v.zw)(e.firstName),1),(0,l._)("td",yw,(0,v.zw)(e.lastName),1),(0,l._)("td",kw,(0,v.zw)(e.contactNum),1),(0,l._)("td",fw,(0,v.zw)(e.birthDay),1),(0,l._)("td",Dw,(0,v.zw)(e.comments),1)])])))),128))])])):((0,l.wg)(),(0,l.iD)("div",Cw,Uw))])):(0,l.kq)("",!0)])],64)}}};const Aw=(0,c.Z)(Sw,[["__scopeId","data-v-1124607b"]]);var Pw=Aw;const Mw=e=>((0,l.dD)("data-v-4e907d0b"),e=e(),(0,l.Cn)(),e),zw={class:"section",style:{width:"75%",margin:"auto"}},Nw={class:"container"},Iw=Mw((()=>(0,l._)("h1",{class:"title"},"Security",-1))),Tw={key:0,class:"notification is-danger"},qw=(0,l.Uk)("Oops, something went wrong. Try again later or "),Hw=(0,l.Uk)("contact us"),Lw={key:1,class:"notification is-success"},Vw={class:"field"},Ow={class:"control"},Ew=Mw((()=>(0,l._)("label",{class:"label"},"Current Password:",-1))),Fw={key:0,class:"help is-danger"},$w={class:"field"},Rw={class:"control"},Yw=Mw((()=>(0,l._)("label",{class:"label"},"New Password:",-1))),Bw={key:0,class:"help is-danger"},Kw={class:"field"},jw={class:"control"},Ww=Mw((()=>(0,l._)("label",{class:"label"},"Confirm Password:",-1))),Gw={key:0,class:"help is-danger"},Zw=(0,l.Uk)(" Show password "),Qw={class:"field has-text-right"},Xw={class:"control"},Jw=["disabled"];var e_={__name:"UserSecurity",setup(e){let t=(0,Gg.iH)([]),a=(0,Gg.iH)(""),i=(0,Gg.iH)(""),o=(0,Gg.iH)(""),n=(0,Gg.iH)(""),c=(0,Gg.iH)(!1),r=(0,Gg.iH)(!1),d=(0,Gg.iH)(!1),u=(0,Gg.iH)(""),p=(0,Gg.iH)("");function h(){let e=document.getElementsByClassName("password");for(let t=0;t<e.length;t++)"password"===e[t].type?e[t].type="text":e[t].type="password"}async function m(){if(""!==a.value&&i.value,i.value!==o.value?r.value=!0:r.value=!1,!r.value)try{await tt().put("/api/updatePassword/patient",{patientID:t.value._id,currentPassword:a.value,newPassword:i.value}).then((e=>{e.data?(a.value="",i.value="",o.value="",c.value=!0,n.value=""):(c.value=!1,d.value=!0)}))}catch(e){n.value=e,c.value=!1}}return(0,l.bv)((async()=>{await tt().get("/session/patient").then((e=>t.value=e.data)),u.value=await t.value.username,p.value=await t.value.email})),(e,t)=>{const g=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(Jt),(0,l._)("section",zw,[(0,l._)("div",Nw,[Iw,(0,Gg.SU)(n)?((0,l.wg)(),(0,l.iD)("div",Tw,[qw,(0,l.Wm)(g,{to:"/contactus"},{default:(0,l.w5)((()=>[Hw])),_:1})])):(0,l.kq)("",!0),(0,Gg.SU)(c)?((0,l.wg)(),(0,l.iD)("div",Lw,"Password changed successfully.")):(0,l.kq)("",!0),(0,l._)("div",Vw,[(0,l._)("div",Ow,[Ew,(0,l.wy)((0,l._)("input",{class:"input password","onUpdate:modelValue":t[0]||(t[0]=e=>(0,Gg.dq)(a)?a.value=e:a=e),type:"password",placeholder:"Current password"},null,512),[[s.nr,(0,Gg.SU)(a)]]),(0,Gg.SU)(d)?((0,l.wg)(),(0,l.iD)("p",Fw,"Current password is incorrect.")):(0,l.kq)("",!0)])]),(0,l._)("div",$w,[(0,l._)("div",Rw,[Yw,(0,l.wy)((0,l._)("input",{class:"input password","onUpdate:modelValue":t[1]||(t[1]=e=>(0,Gg.dq)(i)?i.value=e:i=e),type:"password",placeholder:"New password"},null,512),[[s.nr,(0,Gg.SU)(i)]])]),(0,Gg.SU)(r)?((0,l.wg)(),(0,l.iD)("p",Bw,"Password do not match.")):(0,l.kq)("",!0)]),(0,l._)("div",Kw,[(0,l._)("div",jw,[Ww,(0,l.wy)((0,l._)("input",{class:"input password","onUpdate:modelValue":t[2]||(t[2]=e=>(0,Gg.dq)(o)?o.value=e:o=e),type:"password",placeholder:"Confirm password"},null,512),[[s.nr,(0,Gg.SU)(o)]])]),(0,Gg.SU)(r)?((0,l.wg)(),(0,l.iD)("p",Gw,"Password do not match.")):(0,l.kq)("",!0)]),(0,l._)("div",{class:"field"},[(0,l._)("div",{class:"control"},[(0,l._)("label",{class:"checkbox"},[(0,l._)("input",{type:"checkbox",onClick:h}),Zw])])]),(0,l._)("div",Qw,[(0,l._)("div",Xw,[(0,l._)("button",{class:"button is-danger",onClick:m,disabled:""===(0,Gg.SU)(a)||""===(0,Gg.SU)(i)||""===(0,Gg.SU)(o)},"Change password",8,Jw)])]),""!=(0,Gg.SU)(u)&&""!=(0,Gg.SU)(p)?((0,l.wg)(),(0,l.j4)(zi["default"],{key:2,userType:"patient",username:(0,Gg.SU)(u),email:(0,Gg.SU)(p)},null,8,["username","email"])):(0,l.kq)("",!0)])])],64)}}};const t_=(0,c.Z)(e_,[["__scopeId","data-v-4e907d0b"]]);var a_=t_;const s_={class:"columns"},i_={class:"column is-2"},l_={class:"navbar is-hidden-desktop"},o_={class:"navbar-brand"},n_={class:"navbar-item"},c_=(0,l._)("span",{"aria-hidden":"true"},null,-1),r_=(0,l._)("span",{"aria-hidden":"true"},null,-1),d_=(0,l._)("span",{"aria-hidden":"true"},null,-1),u_=[c_,r_,d_],p_={class:"subtitle is-6 is-hidden-mobile"},h_=(0,l._)("p",{class:"menu-label"},"General",-1),m_={class:"menu-list"},g_=(0,l._)("p",{class:"menu-label"},"Accounts",-1),v_={class:"menu-list"},w_=(0,l._)("p",{class:"menu-label"},"Operations",-1),__={class:"menu-list"},b_=(0,l._)("hr",null,null,-1),y_={class:"column",style:{overflow:"auto"}},k_={class:"section"},f_={key:0,class:"columns is-multiline"},D_=(0,l.uE)('<div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=624199be-220b-4ba6-8f32-84eb27e8aa13&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b58b-377f-452d-8971-c364718db3ff&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="340" height="240" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b7a6-a205-4291-8c3b-da5132939df6&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="320" height="240" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b45e-220b-4919-8476-84eb27f87521&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="320" height="240" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241a5a0-797a-4051-869a-5157a21251ca&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b38b-0445-478b-8bf9-19a45abf8264&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div>',6),C_=[D_],x_={key:1,class:"controls"},U_=(0,l._)("label",{class:"label"},"Search:",-1),S_=(0,l._)("br",null,null,-1),A_={class:"table-container"},P_=(0,l._)("div",{class:"modal-background"},null,-1),M_={class:"modal-content"},z_={class:"card"},N_={class:"card-content"},I_={class:"content"},T_={class:"dropdown-trigger"},q_={class:"dropdown-menu block"},H_={class:"dropdown-content"},L_=(0,l._)("div",{class:"block"},null,-1),V_={class:"dropdown-trigger"},O_={class:"dropdown-menu block"},E_={class:"dropdown-content"},F_={class:"field has-text-centered"},$_=(0,l._)("label",{class:"label"},"New Email",-1),R_={class:"control"},Y_={key:0,class:"table is-striped is-fullwidth is-narrow is-bordered"},B_=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Status"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"Pricing"),(0,l._)("th",{class:"has-text-black-ter"},"Hospital"),(0,l._)("th",{class:"has-text-black-ter"},"Email"),(0,l._)("th",{class:"has-text-black-ter"},"Province"),(0,l._)("th",{class:"has-text-black-ter"},"City"),(0,l._)("th",{class:"has-text-black-ter"},"Barangay or Street"),(0,l._)("th",{class:"has-text-black-ter"},"Latitude"),(0,l._)("th",{class:"has-text-black-ter"},"longitude"),(0,l._)("th",{class:"has-text-black-ter"},"Specializations")])],-1),K_=["onClick"],j_=["onClick"],W_={key:0,class:"has-text-success"},G_={key:1,class:"has-text-danger"},Z_={class:"has-text-black-ter"},Q_={class:"has-text-black-ter"},X_={class:"has-text-black-ter"},J_={class:"has-text-black-ter"},eb={class:"has-text-black-ter"},tb={class:"has-text-black-ter"},ab={class:"has-text-black-ter"},sb={class:"has-text-black-ter"},ib={class:"has-text-black-ter"},lb={key:1,class:"table is-striped is-fullwidth is-narrow is-bordered"},ob=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"Alias"),(0,l._)("th",{class:"has-text-black-ter"},"Full Name"),(0,l._)("th",{class:"has-text-black-ter"},"Specialist"),(0,l._)("th",{class:"has-text-black-ter"},"Gmail"),(0,l._)("th",{class:"has-text-black-ter"},"Schedules")])],-1),nb=["onClick"],cb=["onClick"],rb={class:"has-text-black-ter"},db={class:"has-text-black-ter"},ub={class:"has-text-black-ter"},pb={class:"has-text-black-ter"},hb={class:"has-text-black-ter"},mb={key:2,class:"table is-striped is-fullwidth is-narrow is-bordered"},gb=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Age"),(0,l._)("th",{class:"has-text-black-ter"},"Sex"),(0,l._)("th",{class:"has-text-black-ter"},"Contact No."),(0,l._)("th",{class:"has-text-black-ter"},"Gmail"),(0,l._)("th",{class:"has-text-black-ter"},"Province"),(0,l._)("th",{class:"has-text-black-ter"},"City")])],-1),vb=["onClick"],wb=["onClick"],_b={class:"has-text-black-ter"},bb={class:"has-text-black-ter"},yb={class:"has-text-black-ter"},kb={class:"has-text-black-ter"},fb={class:"has-text-black-ter"},Db={class:"has-text-black-ter"},Cb={class:"has-text-black-ter"},xb={class:"has-text-black-ter"},Ub={class:"has-text-black-ter"},Sb={key:3,class:"table is-striped is-fullwidth is-narrow is-bordered"},Ab=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Status"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"Date Issued"),(0,l._)("th",{class:"has-text-black-ter"},"ID"),(0,l._)("th",{class:"has-text-black-ter"},"Type"),(0,l._)("th",{class:"has-text-black-ter"},"Email"),(0,l._)("th",{class:"has-text-black-ter"},"Subject"),(0,l._)("th",{class:"has-text-black-ter"},"Problem")])],-1),Pb=["onClick"],Mb=["onClick"],zb=["onClick"],Nb={key:2,class:"has-text-success"},Ib={key:3,class:"has-text-danger"},Tb={class:"has-text-black-ter"},qb={class:"has-text-black-ter"},Hb={class:"has-text-black-ter"},Lb={class:"has-text-black-ter"},Vb={class:"has-text-black-ter"},Ob={class:"has-text-black-ter"},Eb={class:"has-text-black-ter"},Fb={key:4},$b=["onClick"],Rb={class:"subtitle has-text-black"},Yb={class:"table is-striped is-fullwidth is-narrow is-bordered"},Bb=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"City/Municipality"),(0,l._)("th",{class:"has-text-black-ter"},"Postal Code"),(0,l._)("th",{class:"has-text-black-ter"},"Latitude"),(0,l._)("th",{class:"has-text-black-ter"},"Longitude")])],-1),Kb=["onClick"],jb={class:"has-text-black-ter"},Wb={class:"has-text-black-ter"},Gb={class:"has-text-black-ter"},Zb={class:"has-text-black-ter"},Qb={class:"has-text-black-ter"},Xb={key:2,class:"section",style:{width:"50%"}},Jb={class:"field"},ey=(0,l._)("h1",{class:"title"},"Create a new Province",-1),ty={class:"control"},ay=(0,l._)("label",{class:"label"},"Province",-1),sy=["disabled"],iy={key:0,class:"has-text-success"},ly={class:"field"},oy=(0,l._)("h1",{class:"title"},"Push City/Municipality into a Province",-1),ny={class:"control"},cy={class:"dropdown-trigger"},ry={key:0},dy={key:1},uy={class:"dropdown-menu",id:"dropdown-menu",role:"menu"},py=["onClick"],hy=(0,l._)("br",null,null,-1),my=(0,l._)("br",null,null,-1),gy=(0,l._)("label",{class:"label"},"City/Municipality",-1),vy=(0,l._)("span",null,"e.g Bais City or Bindoy Municipality",-1),wy=(0,l._)("label",{class:"label"},"Postal Code",-1),_y=(0,l._)("label",{class:"label"},"Latitude N",-1),by=(0,l._)("label",{class:"label"},"longitude E",-1),yy=["disabled"],ky={key:0,class:"has-text-success"};function fy(e,t,a,i,o,n){return(0,l.wg)(),(0,l.iD)("div",s_,[(0,l._)("div",i_,[(0,l._)("nav",l_,[(0,l._)("div",o_,[(0,l._)("p",n_,"Hello: "+(0,v.zw)(o.superUser),1),(0,l._)("a",{role:"button",class:(0,v.C_)(["navbar-burger",{"is-active":!o.isActiveMenu}]),onClick:t[0]||(t[0]=e=>o.isActiveMenu=!o.isActiveMenu)},u_,2)])]),(0,l._)("aside",{class:(0,v.C_)(["menu box",{"is-hidden-mobile":o.isActiveMenu,fixedMenu:o.isActiveMenu}]),style:{"background-color":"white",padding:"20px",height:"100vh"}},[(0,l._)("p",p_,"Hello "+(0,v.zw)(o.superUser),1),h_,(0,l._)("ul",m_,[(0,l._)("li",null,[(0,l._)("a",{onClick:t[1]||(t[1]=(...e)=>n.dashboard&&n.dashboard(...e))},"Dashboard")])]),g_,(0,l._)("ul",v_,[(0,l._)("li",null,[(0,l._)("a",{class:(0,v.C_)({"is-active":o.isActiveManager}),onClick:t[2]||(t[2]=(...e)=>n.manager&&n.manager(...e))},"Manager accounts",2)]),(0,l._)("li",null,[(0,l._)("a",{class:(0,v.C_)({"is-active":o.isActiveDoctor}),onClick:t[3]||(t[3]=(...e)=>n.doctor&&n.doctor(...e))},"Doctor accounts",2)]),(0,l._)("li",null,[(0,l._)("a",{class:(0,v.C_)({"is-active":o.isActivePatient}),onClick:t[4]||(t[4]=(...e)=>n.patient&&n.patient(...e))},"Patient accounts",2)])]),w_,(0,l._)("ul",__,[(0,l._)("li",null,[(0,l._)("a",{class:(0,v.C_)({"is-active":o.isActiveGeolocation}),onClick:t[5]||(t[5]=(...e)=>n.geolocation&&n.geolocation(...e))},"Geolocation",2)]),(0,l._)("li",null,[(0,l._)("a",{class:(0,v.C_)({"is-active":o.isActiveTickets}),onClick:t[6]||(t[6]=(...e)=>n.tickets&&n.tickets(...e))},"Tickets",2)])]),b_,(0,l._)("button",{class:"button is-danger",onClick:t[7]||(t[7]=(...e)=>n.logout&&n.logout(...e))},"Logout")],2)]),(0,l._)("div",y_,[(0,l._)("section",k_,[o.isActiveDashboard?((0,l.wg)(),(0,l.iD)("div",f_,C_)):(0,l.kq)("",!0),o.isActiveManager||o.isActiveDoctor||o.isActivePatient||o.isActiveGeolocation||o.isActiveTickets?((0,l.wg)(),(0,l.iD)("div",x_,[U_,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Search...","onUpdate:modelValue":t[8]||(t[8]=e=>o.searchBar=e)},null,512),[[s.nr,o.searchBar]])])):(0,l.kq)("",!0),S_,(0,l._)("div",A_,[(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isActiveModal}])},[P_,(0,l._)("div",M_,[(0,l._)("div",z_,[(0,l._)("div",N_,[(0,l._)("div",I_,["manager"==o.type?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownEditStatus}])},[(0,l._)("div",T_,[(0,l._)("button",{class:"button is-danger",onClick:t[9]||(t[9]=(...e)=>n.dropdown&&n.dropdown(...e))},"Edit Status")]),(0,l._)("div",q_,[(0,l._)("div",H_,[(0,l._)("a",{class:(0,v.C_)(["dropdown-item",{"is-active":o.isActiveDropdownItemOne}]),onClick:t[10]||(t[10]=(...e)=>n.statusActive&&n.statusActive(...e))},"Active",2),(0,l._)("a",{class:(0,v.C_)(["dropdown-item",{"is-active":o.isActiveDropdownItemTwo}]),onClick:t[11]||(t[11]=(...e)=>n.statusInactive&&n.statusInactive(...e))},"Inactive",2)])])],2)):(0,l.kq)("",!0),L_,"manager"==o.type?((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownEditPricing}])},[(0,l._)("div",V_,[(0,l._)("button",{class:"button is-link",onClick:t[12]||(t[12]=(...e)=>n.dropdownPricing&&n.dropdownPricing(...e))},"Edit Pricing")]),(0,l._)("div",O_,[(0,l._)("div",E_,[(0,l._)("a",{class:(0,v.C_)(["dropdown-item",{"is-active":o.isActiveDropdownPricingItemOne}]),onClick:t[13]||(t[13]=(...e)=>n.pricingStandard&&n.pricingStandard(...e))},"Standard",2),(0,l._)("a",{class:(0,v.C_)(["dropdown-item",{"is-active":o.isActiveDropdownPricingItemTwo}]),onClick:t[14]||(t[14]=(...e)=>n.pricingPremium&&n.pricingPremium(...e))},"Premium",2)])])],2)):(0,l.kq)("",!0),(0,l._)("form",F_,[$_,(0,l._)("div",R_,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[15]||(t[15]=e=>o.email=e),placeholder:"Gmail, Yahoo mail...",required:""},null,512),[[s.nr,o.email]])]),(0,l._)("button",{class:"button is-primary",type:"button",onClick:t[16]||(t[16]=(...e)=>n.updateData&&n.updateData(...e))},"Submit")])])])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[17]||(t[17]=(...e)=>n.closeModal&&n.closeModal(...e))})])],2),o.isActiveManager?((0,l.wg)(),(0,l.iD)("table",Y_,[B_,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.managerAccountsIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:t=>n.managerEdit(e._id,e.email)},"Edit",8,K_),(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:t=>n.managerDelete(e._id)},"Delete",8,j_),"Active"==e.status?((0,l.wg)(),(0,l.iD)("td",W_,(0,v.zw)(e.status),1)):(0,l.kq)("",!0),"Inactive"==e.status?((0,l.wg)(),(0,l.iD)("td",G_,(0,v.zw)(e.status),1)):(0,l.kq)("",!0),(0,l._)("td",Z_,(0,v.zw)(t+1),1),(0,l._)("td",Q_,(0,v.zw)(e.pricing),1),(0,l._)("td",X_,(0,v.zw)(e.hospital),1),(0,l._)("td",J_,(0,v.zw)(e.email),1),(0,l._)("td",eb,(0,v.zw)(e.province),1),(0,l._)("td",tb,(0,v.zw)(e.city),1),(0,l._)("td",ab,(0,v.zw)(e.barangayORStreet),1),(0,l._)("td",sb,(0,v.zw)(e.location.coordinates[1]),1),(0,l._)("td",ib,(0,v.zw)(e.location.coordinates[0]),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.specializations,(e=>((0,l.wg)(),(0,l.iD)("td",{class:"has-text-black-ter",key:e.specialist},(0,v.zw)(e.specialist),1)))),128))])])))),128))])):(0,l.kq)("",!0),o.isActiveDoctor?((0,l.wg)(),(0,l.iD)("table",lb,[ob,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.doctorAccountsIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:t=>n.doctorRecoverEmail(e._id,e.gmail)},"Recover",8,nb),(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:t=>n.doctorDelete(e._id)},"Delete",8,cb),(0,l._)("td",rb,(0,v.zw)(t+1),1),(0,l._)("td",db,(0,v.zw)(e.alias),1),(0,l._)("td",ub,(0,v.zw)(e.name),1),(0,l._)("td",pb,(0,v.zw)(e.specialist.toString()),1),(0,l._)("td",hb,(0,v.zw)(e.gmail),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.schedule,(e=>((0,l.wg)(),(0,l.iD)("td",{class:"has-text-black-ter",key:e.id},(0,v.zw)(new Date(e.date).toLocaleDateString()),1)))),128))])])))),128))])):(0,l.kq)("",!0),o.isActivePatient?((0,l.wg)(),(0,l.iD)("table",mb,[gb,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.patientAccountsIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:t=>n.patientRecoverEmail(e._id,e.gmail)},"Recover",8,vb),(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:t=>n.patientDelete(e._id)},"Delete",8,wb),(0,l._)("td",_b,(0,v.zw)(t+1),1),(0,l._)("td",bb,(0,v.zw)(e.name[0]),1),(0,l._)("td",yb,(0,v.zw)(e.name[1]),1),(0,l._)("td",kb,(0,v.zw)(e.age),1),(0,l._)("td",fb,(0,v.zw)(e.sex),1),(0,l._)("td",Db,(0,v.zw)(e.contactNum),1),(0,l._)("td",Cb,(0,v.zw)(e.gmail),1),(0,l._)("td",xb,(0,v.zw)(e.province),1),(0,l._)("td",Ub,(0,v.zw)(e.city),1)])])))),128))])):(0,l.kq)("",!0),o.isActiveTickets?((0,l.wg)(),(0,l.iD)("table",Sb,[Ab,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.ticketsIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("tbody",{key:e.id},[(0,l._)("tr",null,[e.active?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"dropdown-item button has-text-info",type:"button",onClick:t=>n.closeTicket(e.id)},"Close Ticket",8,Pb)):(0,l.kq)("",!0),e.active?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:1,class:"dropdown-item button has-text-info",type:"button",onClick:t=>n.reopenTicket(e.id)},"Reopen Ticket",8,Mb)),(0,l._)("button",{class:"dropdown-item button has-text-danger",type:"button",onClick:t=>n.deleteTicket(e.id,e.type,e.email,e.title,e.message,e.active)},"Delete ticket",8,zb),e.active?((0,l.wg)(),(0,l.iD)("td",Nb,"Active")):(0,l.kq)("",!0),e.active?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("td",Ib,"Inactive")),(0,l._)("td",Tb,(0,v.zw)(t+1),1),(0,l._)("td",qb,(0,v.zw)(new Date(e.date).toLocaleDateString()),1),(0,l._)("td",Hb,(0,v.zw)(e.id),1),(0,l._)("td",Lb,(0,v.zw)(e.type),1),(0,l._)("td",Vb,(0,v.zw)(e.email),1),(0,l._)("td",Ob,(0,v.zw)(e.title),1),(0,l._)("td",Eb,(0,v.zw)(e.message),1)])])))),128))])):(0,l.kq)("",!0),o.isActiveGeolocation?((0,l.wg)(),(0,l.iD)("div",Fb,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.provinceAndCitiesIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"box",key:t},[(0,l._)("a",{class:"has-text-danger",onClick:t=>n.deleteProvince(e[0]._id)},"Delete Province",8,$b),(0,l._)("p",Rb,"Province: "+(0,v.zw)(t),1),(0,l._)("table",Yb,[Bb,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e[0].citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1)),((t,a)=>((0,l.wg)(),(0,l.iD)("tbody",{key:a},[(0,l._)("tr",null,[(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:a=>n.cityDelete(e[0]._id,t.name,t.location.coordinates[1],t.location.coordinates[0],t.postalCode)},"Delete",8,Kb),(0,l._)("td",jb,(0,v.zw)(a+1),1),(0,l._)("td",Wb,(0,v.zw)(t.name),1),(0,l._)("td",Gb,(0,v.zw)(t.postalCode),1),(0,l._)("td",Zb,(0,v.zw)(t.location.coordinates[1]),1),(0,l._)("td",Qb,(0,v.zw)(t.location.coordinates[0]),1)])])))),128))])])))),128))])):(0,l.kq)("",!0)]),o.isActiveGeolocation?((0,l.wg)(),(0,l.iD)("section",Xb,[(0,l._)("div",Jb,[ey,(0,l._)("div",ty,[ay,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[18]||(t[18]=e=>o.province=e),placeholder:"Province"},null,512),[[s.nr,o.province]]),(0,l._)("button",{class:"button",type:"button",onClick:t[19]||(t[19]=(...e)=>n.provincePost&&n.provincePost(...e)),disabled:""==o.province},"Confirm",8,sy),o.provincePostSuccess?((0,l.wg)(),(0,l.iD)("div",iy,"Province has been created.")):(0,l.kq)("",!0)])]),(0,l._)("div",ly,[oy,(0,l._)("div",ny,[(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownProvince}])},[(0,l._)("div",cy,[(0,l._)("button",{class:"button",onClick:t[20]||(t[20]=e=>n.provinceDropdownActive())},[""==o.selectedProvince?((0,l.wg)(),(0,l.iD)("span",ry,"Select a Province")):((0,l.wg)(),(0,l.iD)("span",dy,(0,v.zw)(o.selectedProvince),1))])]),(0,l._)("div",uy,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.provinceList,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e._id},[(0,l._)("a",{onClick:t=>n.chooseProvince(e._id,e.province),class:"dropdown-item"},(0,v.zw)(e.province),9,py)])))),128))])],2),hy,my,gy,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[21]||(t[21]=e=>o.cityOrMunicipality=e),placeholder:"City or Municipality"},null,512),[[s.nr,o.cityOrMunicipality]]),vy,wy,(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[22]||(t[22]=e=>o.postalCode=e),placeholder:"Postal Code"},null,512),[[s.nr,o.postalCode]]),_y,(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[23]||(t[23]=e=>o.latitude=e),placeholder:"Latitude"},null,512),[[s.nr,o.latitude]]),by,(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[24]||(t[24]=e=>o.longitude=e),placeholder:"longitude"},null,512),[[s.nr,o.longitude]]),(0,l._)("button",{class:"button",type:"button",onClick:t[25]||(t[25]=(...e)=>n.cityOrMunicipalityPost&&n.cityOrMunicipalityPost(...e)),disabled:""==o.selectedProvince||""==o.cityOrMunicipality||""==o.latitude||""==o.longitude},"Confirm",8,yy),o.cityOrMunicipalityPostSuccess?((0,l.wg)(),(0,l.iD)("div",ky,"City or Municipality added")):(0,l.kq)("",!0)])])])):(0,l.kq)("",!0)])])])}var Dy={name:"SuperUser",computed:{managerAccountsIndexed(){return this.managerAccounts.filter((e=>e.hospital.toLowerCase().includes(this.searchBar.toLowerCase())))},doctorAccountsIndexed(){return this.doctorAccounts.filter((e=>e.name.toLowerCase().includes(this.searchBar.toLowerCase())||e.specialist.find((e=>e.toLowerCase().includes(this.searchBar.toLowerCase())))))},patientAccountsIndexed(){return this.patientAccounts.filter((e=>e.name[0].toLowerCase().includes(this.searchBar.toLowerCase())||e.name[1].toLowerCase().includes(this.searchBar.toLowerCase())))},ticketsIndexed(){return this.ticketList.filter((e=>e.id.toLowerCase().includes(this.searchBar.toLowerCase())||e.type.toLowerCase().includes(this.searchBar.toLowerCase())||e.email.toLowerCase().includes(this.searchBar.toLowerCase())))},provinceAndCitiesIndexed(){return Cl().groupBy(this.provinceList.filter((e=>e.citiesOrMunicipalities.find((e=>e.name.toLowerCase().includes(this.searchBar.toLowerCase()))))),"province")}},async mounted(){await tt().get("/session/superuser").then((e=>this.superUser=e.data.superuser)),await tt().get("/api/geolocation").then((e=>this.provinceList=e.data))},data(){return{searchBar:"",superUser:"",managerAccounts:[],doctorAccounts:[],patientAccounts:[],ticketList:[],isActiveMenu:!0,isActiveDashboard:!0,isActiveManager:!1,isActiveDoctor:!1,isActivePatient:!1,isActiveGeolocation:!1,isActiveTickets:!1,isActiveModal:!1,isActiveDropdownEditStatus:!1,isActiveDropdownEditPricing:!1,isActiveDropdownItemOne:!1,isActiveDropdownItemTwo:!1,isActiveDropdownPricingItemOne:!1,isActiveDropdownPricingItemTwo:!1,isActiveDropdownProvince:!1,id:"",email:"",status:"",type:"",province:"",cityOrMunicipality:"",latitude:"",longitude:"",postalCode:"",provinceList:[],selectedProvince:"",selectedProvinceID:"",provincePostSuccess:!1,cityOrMunicipalityPostSuccess:!1}},methods:{dashboard(){this.isActiveMenu=!0,this.isActiveDashboard=!0,this.isActiveManager=!1,this.isActiveDoctor=!1,this.isActivePatient=!1,this.isActiveGeolocation=!1,this.isActiveTickets=!1},async manager(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!0,this.isActiveDoctor=!1,this.isActivePatient=!1,this.isActiveGeolocation=!1,this.isActiveTickets=!1,await tt().get("/api/manager").then((e=>this.managerAccounts=e.data))},async doctor(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!1,this.isActiveDoctor=!0,this.isActivePatient=!1,this.isActiveGeolocation=!1,this.isActiveTickets=!1,await tt().get("/api/doctor").then((e=>this.doctorAccounts=e.data))},async patient(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!1,this.isActiveDoctor=!1,this.isActivePatient=!0,this.isActiveGeolocation=!1,this.isActiveTickets=!1,await tt().get("/api/user").then((e=>this.patientAccounts=e.data))},async tickets(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!1,this.isActiveDoctor=!1,this.isActivePatient=!1,this.isActiveGeolocation=!1,this.isActiveTickets=!0,await tt().get("/api/superuser").then((e=>this.ticketList=e.data[0].tickets))},async geolocation(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!1,this.isActiveDoctor=!1,this.isActivePatient=!1,this.isActiveGeolocation=!0,this.isActiveTickets=!1,await tt().get("/api/geolocation").then((e=>this.provinceList=e.data))},async managerEdit(e,t){this.isActiveModal=!this.isActiveModal,this.id=e,this.email=t,this.type="manager"},async doctorRecoverEmail(e,t){this.isActiveModal=!this.isActiveModal,this.id=e,this.email=t,this.type="doctor"},async patientRecoverEmail(e,t){this.isActiveModal=!this.isActiveModal,this.id=e,this.email=t,this.type="patient"},async updateData(){"manager"==this.type?(await tt().put(`/api/manager/${this.id}`,{status:this.status,pricing:this.pricing,email:this.email}),await tt().get("/api/manager").then((e=>this.managerAccounts=e.data)),this.isActiveModal=!this.isActiveModal):"doctor"==this.type?(await tt().put(`/api/doctor/${this.id}`,{gmail:this.email}),await tt().get("/api/doctor").then((e=>this.doctorAccounts=e.data)),this.isActiveModal=!this.isActiveModal):"patient"==this.type&&(await tt().put(`/api/user/${this.id}`,{gmail:this.email}),await tt().get("/api/user").then((e=>this.patientAccounts=e.data)),this.isActiveModal=!this.isActiveModal)},async managerDelete(e){await tt()["delete"](`/api/manager/${e}`),await tt().get("/api/manager").then((e=>this.managerAccounts=e.data))},async doctorDelete(e){await tt()["delete"](`/api/doctor/${e}`),await tt().get("/api/doctor").then((e=>this.doctorAccounts=e.data))},async patientDelete(e){await tt()["delete"](`/api/user/${e}`),await tt().get("/api/user").then((e=>this.patientAccounts=e.data))},async cityDelete(e,t,a,s,i){await tt().post("/api/provinceCityPull",{provinceID:e,cityOrMunicipality:t,latitude:a,longitude:s,postalCode:i}),await tt().get("/api/geolocation").then((e=>this.provinceList=e.data))},async deleteProvince(e){await tt()["delete"](`/api/geolocation/${e}`),await tt().get("/api/geolocation").then((e=>this.provinceList=e.data))},closeModal(){this.isActiveModal=!1},dropdown(){this.isActiveDropdownEditStatus=!this.isActiveDropdownEditStatus},dropdownPricing(){this.isActiveDropdownEditPricing=!this.isActiveDropdownEditPricing},statusActive(){this.status="Active",this.isActiveDropdownItemOne=!0,this.isActiveDropdownItemTwo=!1},statusInactive(){this.status="Inactive",this.isActiveDropdownItemOne=!1,this.isActiveDropdownItemTwo=!0},pricingStandard(){this.pricing="Standard",this.isActiveDropdownPricingItemOne=!0,this.isActiveDropdownPricingItemTwo=!1},pricingPremium(){this.pricing="Premium",this.isActiveDropdownPricingItemOne=!1,this.isActiveDropdownPricingItemTwo=!0},async provincePost(){await tt().post("/api/geolocation",{province:this.province}),await tt().get("/api/geolocation").then((e=>this.provinceList=e.data)),this.provincePostSuccess=!0},async cityOrMunicipalityPost(){await tt().post("/api/provinceUpdate",{provinceID:this.selectedProvinceID,cityOrMunicipality:this.cityOrMunicipality,latitude:this.latitude,longitude:this.longitude,postalCode:this.postalCode}),this.cityOrMunicipalityPostSuccess=!0,this.selectedProvince="",this.selectedProvinceID="",this.cityOrMunicipality="",this.latitude="",this.longitude="",await tt().get("/api/geolocation").then((e=>this.provinceList=e.data))},provinceDropdownActive(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},chooseProvince(e,t){this.selectedProvinceID=e,this.selectedProvince=t,this.isActiveDropdownProvince=!1},async closeTicket(e){await tt().post("/api/superuser/updateTicket",{ticketID:e,ticketActive:!1}),await tt().get("/api/superuser").then((e=>this.ticketList=e.data[0].tickets))},async reopenTicket(e){await tt().post("/api/superuser/updateTicket",{ticketID:e,ticketActive:!0}),await tt().get("/api/superuser").then((e=>this.ticketList=e.data[0].tickets))},async deleteTicket(e,t,a,s,i,l){await tt().post("/api/superuser/deleteTicket",{ticketID:e,email:a,ticketType:t,ticketTitle:s,ticketMessage:i,ticketActive:l}),await tt().get("/api/superuser").then((e=>this.ticketList=e.data[0].tickets))},async logout(){await tt()["delete"]("/session/superuser"),await this.$store.commit("superUserAuth",!1),await this.$router.push("/user/superuser/login")}}};const Cy=(0,c.Z)(Dy,[["render",fy]]);var xy=Cy;const Uy=e=>((0,l.dD)("data-v-7bd5d093"),e=e(),(0,l.Cn)(),e),Sy={class:"container",style:{width:"33%","margin-top":"15%"}},Ay=Uy((()=>(0,l._)("h1",{class:"title has-text-centered"},"Welcome Superuser/Developer",-1))),Py={class:"field"},My=Uy((()=>(0,l._)("label",{class:"label"},"Email",-1))),zy={class:"control"},Ny=Uy((()=>(0,l._)("br",null,null,-1))),Iy={class:"has-text-centered"},Ty={key:0,class:"subtitle has-text-danger"},qy=Uy((()=>(0,l._)("div",{class:"modal-background"},null,-1))),Hy={class:"modal-content"},Ly={class:"field",style:{"background-color":"whitesmoke",padding:"12%"}},Vy=Uy((()=>(0,l._)("label",{class:"label"},"Please check your email for the login code",-1))),Oy={class:"control"},Ey=Uy((()=>(0,l._)("br",null,null,-1))),Fy={class:"has-text-centered"},$y={key:0,class:"subtitle has-text-danger"};function Ry(e,t,a,i,o,n){return(0,l.wg)(),(0,l.iD)("div",Sy,[Ay,(0,l._)("div",Py,[My,(0,l._)("div",zy,[(0,l.wy)((0,l._)("input",{class:"input is-rounded","onUpdate:modelValue":t[0]||(t[0]=e=>o.superUserEmail=e),type:"text",placeholder:"email"},null,512),[[s.nr,o.superUserEmail]])]),Ny,(0,l._)("div",Iy,[(0,l._)("button",{class:"button is-success",onClick:t[1]||(t[1]=(...e)=>n.authenticateMail&&n.authenticateMail(...e))},"Authenticate")]),"invalid developer"==o.statusMessage?((0,l.wg)(),(0,l.iD)("p",Ty,"Sorry, email not identified as superuser/developer. Please try again.")):(0,l.kq)("",!0)]),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.modalActive}])},[qy,(0,l._)("div",Hy,[(0,l._)("div",Ly,[Vy,(0,l._)("div",Oy,[(0,l.wy)((0,l._)("input",{class:"input","onUpdate:modelValue":t[2]||(t[2]=e=>o.superUserCode=e),type:"text",placeholder:"code"},null,512),[[s.nr,o.superUserCode]])]),Ey,(0,l._)("div",Fy,[(0,l._)("button",{class:"button is-primary",onClick:t[3]||(t[3]=(...e)=>n.authenticateCode&&n.authenticateCode(...e))},"Confirm")]),"invalid code"==o.statusMessage?((0,l.wg)(),(0,l.iD)("p",$y,"Invalid login code, please check your email thoroughly.")):(0,l.kq)("",!0)])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[4]||(t[4]=(...e)=>n.modalClose&&n.modalClose(...e))})],2)])}var Yy={name:"SuperUserLogin",async mounted(){await tt().get("/session/superuser").then((e=>this.superUserConfirmEmail=e.data)),"undefined"!==typeof this.superUserConfirmEmail.superuser?(this.$store.commit("superUserAuth",!0),await this.$router.push("/user/superuser")):await tt()["delete"]("/session/superuser")},data(){return{modalActive:!1,statusMessage:"",superUserEmail:"",superUserConfirmEmail:"",superUserCode:"",superUserConfirmCode:"",codes:[],gmails:[]}},methods:{async authenticateMail(){if(await tt().post("/api/code/superuser",{email:this.superUserEmail}).then((e=>this.superUserConfirmEmail=e.data)),await this.superUserConfirmEmail){let e=Math.floor(1e3+9e3*Math.random());0===this.codes.length?(this.modalActive=!0,await tt().post("/api/code",{email:this.superUserEmail,code:e}),await tt().post("/api/sendMail",{email:this.superUserEmail,code:e})):(this.statusMessage="invalid developer",this.superUserEmail="")}else this.statusMessage="invalid developer",this.superUserEmail=""},async authenticateCode(){await tt().post("/api/code/verify",{code:this.superUserCode}).then((e=>this.superUserConfirmCode=e.data)),await this.superUserConfirmCode?(await tt().post("/session/superuser",{superuser:this.superUserEmail}),await this.$store.commit("superUserAuth",!0),await this.$router.push("/user/superuser")):(this.statusMessage="invalid code",this.superUserCode="")},modalClose(){this.modalActive=!1}}};const By=(0,c.Z)(Yy,[["render",Ry],["__scopeId","data-v-7bd5d093"]]);var Ky=By;const jy=(0,l._)("div",{class:"modal-background"},null,-1),Wy=(0,l._)("div",{class:"modal-content loader"},null,-1),Gy=[jy,Wy],Zy={class:"columns"},Qy={class:"column is-2"},Xy={class:"column",style:{overflow:"auto"}},Jy={class:"section"},ek={key:0,class:"notification is-light is-danger"},tk=(0,l.Uk)("The account is not activated yet and will not be displayed on hospital searches, complete the hospital's "),ak=(0,l.Uk)(" profile"),sk=(0,l.Uk)(" to activate the account."),ik={class:"title"},lk={class:"field"},ok={class:"control",style:{width:"33%"}},nk=(0,l._)("label",{class:"label"},"Search:",-1),ck={key:1,class:"table-container"},rk={class:"table"},dk=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"Alias"),(0,l._)("th",{class:"has-text-black-ter"},"Full Name"),(0,l._)("th",{class:"has-text-black-ter"},"Specialist"),(0,l._)("th",{class:"has-text-black-ter"},"Gmail"),(0,l._)("th",{class:"has-text-black-ter"},"Schedules")])],-1),uk=["onClick"],pk=["onClick"],hk={class:"has-text-black-ter"},mk={class:"has-text-black-ter"},gk={class:"has-text-black-ter"},vk={class:"has-text-black-ter"},wk={class:"has-text-black-ter"},_k={key:2,class:"notification is-warning"},bk=(0,l.Uk)(" No doctors as of yet, generate a security code in "),yk=(0,l._)("b",null,"Registration and Password",-1),kk=(0,l.Uk)(" for your doctors to use in registering to their account. "),fk=[bk,yk,kk],Dk=(0,l._)("div",{class:"modal-background"},null,-1),Ck={class:"modal-content"},xk={class:"box"},Uk={class:"field"},Sk={class:"control"};function Ak(e,t,a,i,o,n){const c=(0,l.up)("ManagerMenuVue"),r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.loading}])},Gy,2),(0,l._)("div",Zy,[(0,l._)("div",Qy,[(0,l.Wm)(c)]),(0,l._)("div",Xy,[(0,l._)("section",Jy,["Inactive"==o.hospitalStatus.status?((0,l.wg)(),(0,l.iD)("div",ek,[tk,(0,l.Wm)(r,{to:`/user/manager/${this.managerHospital.hospital}/profile`,class:"has-text-link"},{default:(0,l.w5)((()=>[ak])),_:1},8,["to"]),sk])):(0,l.kq)("",!0),(0,l._)("h1",ik,(0,v.zw)(o.managerHospital.hospital),1),(0,l._)("div",lk,[(0,l._)("div",ok,[nk,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.searchBar=e),placeholder:"Search..."},null,512),[[s.nr,o.searchBar]])])]),0!==Object.keys(n.doctorAccountsIndexed).length?((0,l.wg)(),(0,l.iD)("div",ck,[(0,l._)("table",rk,[dk,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.doctorAccountsIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:t=>n.doctorRecoverEmail(e._id,e.gmail)},"Recover",8,uk),(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:t=>n.doctorRemove(e._id)},"Remove",8,pk),(0,l._)("td",hk,(0,v.zw)(t+1),1),(0,l._)("td",mk,(0,v.zw)(e.alias),1),(0,l._)("td",gk,(0,v.zw)(e.name),1),(0,l._)("td",vk,(0,v.zw)(e.specialist.toString()),1),(0,l._)("td",wk,(0,v.zw)(e.gmail),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.schedule,(e=>((0,l.wg)(),(0,l.iD)("td",{class:"has-text-black-ter",key:e.id},(0,v.zw)(new Date(e.date).toLocaleDateString()),1)))),128))])])))),128))])])):((0,l.wg)(),(0,l.iD)("div",_k,fk)),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isActiveModal}])},[Dk,(0,l._)("div",Ck,[(0,l._)("div",xk,[(0,l._)("div",Uk,[(0,l._)("div",Sk,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.email=e)},null,512),[[s.nr,o.email]])]),(0,l._)("button",{class:"button is-success",type:"button",onClick:t[2]||(t[2]=(...e)=>n.updateData&&n.updateData(...e))},"Confirm")])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[3]||(t[3]=(...e)=>n.closeModal&&n.closeModal(...e))})])],2)])])])],64)}const Pk={class:"navbar is-hidden-desktop"},Mk={class:"navbar-brand"},zk=(0,l._)("span",{"aria-hidden":"true"},null,-1),Nk=(0,l._)("span",{"aria-hidden":"true"},null,-1),Ik=(0,l._)("span",{"aria-hidden":"true"},null,-1),Tk=[zk,Nk,Ik],qk=(0,l._)("p",{class:"menu-label"},"General",-1),Hk={class:"menu-list"},Lk=(0,l._)("p",{class:"menu-label"},"Security",-1),Vk={class:"menu-list"},Ok=(0,l._)("p",{class:"menu-label"},"Support",-1),Ek={class:"menu-list"},Fk=(0,l._)("li",null,[(0,l._)("a",null,"FAQ")],-1),$k=(0,l._)("hr",null,null,-1);function Rk(e,t,a,s,i,o){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("nav",Pk,[(0,l._)("div",Mk,[(0,l._)("a",{role:"button",class:(0,v.C_)(["navbar-burger",{"is-active":!i.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:t[0]||(t[0]=(...e)=>o.menuNav&&o.menuNav(...e))},Tk,2)])]),(0,l._)("aside",{class:(0,v.C_)(["menu box",{"is-hidden-mobile":i.isActive,fixedMenu:i.isActive}]),style:{"background-color":"white",padding:"20px",height:"100vh"}},[qk,(0,l._)("ul",Hk,[(0,l._)("li",null,[(0,l._)("a",{onClick:t[1]||(t[1]=(...e)=>o.navDoctors&&o.navDoctors(...e))},"Home")]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[2]||(t[2]=(...e)=>o.navProfile&&o.navProfile(...e))},"Profile")])]),Lk,(0,l._)("ul",Vk,[(0,l._)("li",null,[(0,l._)("a",{onClick:t[3]||(t[3]=(...e)=>o.navChangePass&&o.navChangePass(...e))},"Registration and Password")])]),Ok,(0,l._)("ul",Ek,[Fk,(0,l._)("li",null,[(0,l._)("a",{onClick:t[4]||(t[4]=e=>this.$router.push("/contactus"))},"Contact Us")])]),$k,(0,l._)("button",{class:"button is-danger",onClick:t[5]||(t[5]=(...e)=>o.logout&&o.logout(...e))},"Logout")],2)],64)}var Yk={name:"ManagerMenu",data(){return{isActive:!0,managerHospital:""}},async mounted(){await tt().get("/session/manager").then((e=>this.managerHospital=e.data.hospital))},methods:{async logout(){await tt()["delete"]("/session/manager"),await this.$store.commit("managerHospital",null),await this.$router.push("/user/manager/login")},menuNav(){this.isActive=!this.isActive},navProfile(){this.$router.push(`/user/manager/${this.managerHospital}/profile`)},navDoctors(){this.$router.push(`/user/manager/${this.managerHospital}`)},navChangePass(){this.$router.push(`/user/manager/${this.managerHospital}/security`)}}};const Bk=(0,c.Z)(Yk,[["render",Rk]]);var Kk=Bk,jk={name:"ManagerDashboard",components:{ManagerMenuVue:Kk},computed:{doctorAccountsIndexed(){return this.doctorAccounts.filter((e=>e.name.toLowerCase().includes(this.searchBar.toLowerCase())||e.alias.toLowerCase().includes(this.searchBar.toLowerCase())))}},async mounted(){this.loading=!0,await tt().get("/session/manager").then((e=>this.managerHospital=e.data)),await tt().get("/api/manager").then((e=>this.hospitalStatus=e.data.find((e=>e._id==this.managerHospital._id)))),await tt().get("/api/doctor").then((e=>this.doctorAccounts=e.data.filter((e=>e.hospitalOrigin.find((e=>e.hospital===this.managerHospital.hospital)))))),this.loading=!1},data(){return{loading:!1,hospitalStatus:"",managerHospital:"",searchBar:"",isActiveModal:!1,doctorAccounts:[],email:"",id:""}},methods:{doctorRecoverEmail(e,t){this.id=e,this.email=t,this.isActiveModal=!0},async updateData(){await tt().put(`/api/doctor/${this.id}`,{gmail:this.email}),await tt().get("/api/doctor").then((e=>this.doctorAccounts=e.data)),this.isActiveModal=!this.isActiveModal},async doctorRemove(){await tt().post("/api/doctorPullHospital",{doctorID:this.id,hospital:this.managerHospital.hospital})},closeModal(){this.isActiveModal=!1}}};const Wk=(0,c.Z)(jk,[["render",Ak]]);var Gk=Wk;const Zk=e=>((0,l.dD)("data-v-7058efc8"),e=e(),(0,l.Cn)(),e),Qk={class:"hero is-fullheight",style:{"background-color":"whitesmoke"}},Xk={class:"hero-body"},Jk={class:"container has-text-centered"},ef={class:"animate__animated animate__fadeInLeft"},tf={key:0,class:"notification is-success"},af={class:"box",style:{width:"33%",margin:"auto"}},sf={class:"content"},lf={class:"field",style:{"margin-top":"5%"}},of=Zk((()=>(0,l._)("h1",{class:"title"},"Login",-1))),nf={class:"control"},cf={class:"control",style:{"margin-top":"2%"}},rf={key:0,class:"has-text-danger",style:{"margin-top":"5%"}},df={key:1,class:"has-text-danger",style:{"margin-top":"5%"}},uf=Zk((()=>(0,l._)("hr",null,null,-1))),pf=Zk((()=>(0,l._)("h1",{class:"title"},"Or",-1)));function hf(e,t,a,i,o,n){const c=(0,l.up)("ForgotPassword");return(0,l.wg)(),(0,l.iD)("section",Qk,[(0,l._)("div",Xk,[(0,l._)("div",Jk,[(0,l._)("div",ef,[o.newAccount?((0,l.wg)(),(0,l.iD)("p",tf,"The account has been successfully created, login to activate the account now.")):(0,l.kq)("",!0),(0,l._)("div",af,[(0,l._)("div",sf,[(0,l._)("form",lf,[of,(0,l._)("div",nf,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),placeholder:"username",required:"",onKeyup:t[1]||(t[1]=(0,s.D2)(((...e)=>n.login&&n.login(...e)),["enter"]))},null,544),[[s.nr,o.username]])]),(0,l._)("div",cf,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>o.password=e),placeholder:"password",required:"",onKeyup:t[3]||(t[3]=(0,s.D2)(((...e)=>n.login&&n.login(...e)),["enter"]))},null,544),[[s.nr,o.password]])]),o.incorrectUserPass?((0,l.wg)(),(0,l.iD)("p",rf,(0,v.zw)(o.validateMessage),1)):0==o.incorrectUserPass?((0,l.wg)(),(0,l.iD)("p",df,(0,v.zw)(o.validateMessage),1)):(0,l.kq)("",!0),(0,l._)("button",{type:"button",class:"button is-primary",onClick:t[4]||(t[4]=(...e)=>n.login&&n.login(...e))},"Login"),uf,pf,(0,l._)("a",{onClick:t[5]||(t[5]=(...e)=>n.signup&&n.signup(...e)),class:"is-danger"},"Create an account")])]),(0,l.Wm)(c,{userType:"manager"})])])])])])}var mf={name:"ManagerLogin",component:zi["default"],data(){return{username:"",password:"",userManager:null,incorrectUserPass:"",validateMessage:"",newAccount:!1}},async mounted(){1==this.$store.state.accountCreated&&(this.newAccount=!0,await this.$store.commit("accountCreated",!1)),await tt().get("/session/manager").then((e=>this.userManager=e.data)),"undefined"!==typeof this.userManager.hospital?(this.$store.commit("managerHospital",this.userManager.hospital),await this.$router.push(`/user/manager/${this.userManager.hospital}`)):await tt()["delete"]("/session/manager")},methods:{async login(){null==this.username||null==this.password?(this.incorrectUserPass=!1,this.validateMessage="empty username or password",this.username=null,this.password=null):(await tt().post("/api/auth/manager",{username:this.username,password:this.password}).then((e=>this.userManager=e.data)),await this.userManager?(this.$store.commit("managerHospital",this.userManager.hospital),await tt().post("/session/manager",{_id:this.userManager._id,registrationCode:this.userManager.registrationCode,hospital:this.userManager.hospital}),await this.$router.push(`/user/manager/${this.userManager.hospital}`)):(this.validateMessage="Incorrect username or password",this.incorrectUserPass=!0,this.username=null,this.password=null))},async signup(){await this.$router.push("/user/manager/signup")}},components:{ForgotPassword:zi["default"]}};const gf=(0,c.Z)(mf,[["render",hf],["__scopeId","data-v-7058efc8"]]);var vf=gf;const wf=e=>((0,l.dD)("data-v-0ab1c63a"),e=e(),(0,l.Cn)(),e),_f={class:"section",style:{"background-color":"whitesmoke"}},bf={class:"container box",style:{width:"50%",margin:"auto"}},yf={key:0,class:"notification is-danger"},kf=(0,l.Uk)(" Oops, something went wrong. Try again later or "),ff=(0,l.Uk)("contact us"),Df={class:"field"},Cf=wf((()=>(0,l._)("label",{class:"label"},"Hospital Name",-1))),xf=wf((()=>(0,l._)("label",{class:"label"},"E-mail",-1))),Uf={class:"field is-horizontal"},Sf={class:"field-body"},Af={class:"field"},Pf=wf((()=>(0,l._)("label",{class:"label"},"Province",-1))),Mf={class:"dropdown-trigger"},zf={key:0},Nf={key:1},If={class:"dropdown-menu"},Tf=["onClick"],qf={class:"field"},Hf=wf((()=>(0,l._)("label",{class:"label"},"City/Municipality",-1))),Lf={class:"dropdown-trigger"},Vf=["disabled"],Of={key:0},Ef={key:1},Ff={key:0,class:"dropdown-menu"},$f=["onClick"],Rf={class:"field"},Yf=wf((()=>(0,l._)("div",{class:"control"},[(0,l._)("label",{class:"label"},"Postal Code:")],-1))),Bf={class:"field"},Kf={class:"control"},jf=wf((()=>(0,l._)("label",{class:"label"},"Type:",-1))),Wf={class:"radio"},Gf=(0,l.Uk)("Public "),Zf={class:"radio"},Qf=(0,l.Uk)("Private "),Xf={class:"field"},Jf={class:"control"},eD=wf((()=>(0,l._)("label",{class:"label"},"Barangay or Street",-1))),tD={class:"field is-horizontal"},aD={class:"field-body"},sD={class:"field"},iD={class:"control"},lD=wf((()=>(0,l._)("label",{class:"label"},"Latitude",-1))),oD={class:"field"},nD={class:"control"},cD=wf((()=>(0,l._)("label",{class:"label"},"Longtitude",-1))),rD={class:"field is-horizontal"},dD={class:"field-body"},uD={class:"field"},pD={class:"control"},hD=wf((()=>(0,l._)("label",{class:"label"},"Username:",-1))),mD={key:0},gD={key:0,class:"help is-danger"},vD=(0,l.Uk)(" Unavailable "),wD={key:0,class:"fas fa-spinner fa-spin"},_D={key:1,class:"help is-success"},bD=(0,l.Uk)(" Available "),yD={key:0,class:"fas fa-spinner fa-spin"},kD={class:"field"},fD={class:"control"},DD=wf((()=>(0,l._)("label",{class:"label"},"Password",-1))),CD={class:"control"},xD=wf((()=>(0,l._)("label",{class:"label"},"Confirm Password",-1))),UD={key:0,class:"notification is-light is-danger"},SD={class:"columns"},AD={class:"column"},PD=wf((()=>(0,l._)("label",{class:"label"},"Specializations offered(Select all that applies)",-1))),MD={class:"panel"},zD={class:"panel-block"},ND={style:{"max-height":"20em",overflow:"auto"}},ID=["value"],TD=["onClick"],qD={class:"column"},HD=wf((()=>(0,l._)("label",{class:"label"},"Selected",-1))),LD={class:"columns is-multiline"},VD={class:"column",id:"selectedSpecializations"},OD=["onClick"],ED=wf((()=>(0,l._)("h1",{class:"label has-text-centered"},"Choose a plan",-1))),FD={class:"columns has-text-centered"},$D={class:"column"},RD={class:"card"},YD=wf((()=>(0,l._)("div",{class:"card-image"},[(0,l._)("figure",{class:"image is-4by3"},[(0,l._)("img",{src:"https://bulma.io/images/placeholders/1280x960.png",alt:"Placeholder image"})])],-1))),BD={class:"card-content"},KD=wf((()=>(0,l._)("div",{class:"media"},[(0,l._)("div",{class:"media-content"},[(0,l._)("p",{class:"title is-4"},"STANDARD PLAN")])],-1))),jD=wf((()=>(0,l._)("div",{class:"content"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris. ",-1))),WD={class:"field"},GD={class:"control"},ZD={class:"radio"},QD={class:"column"},XD={class:"card"},JD=wf((()=>(0,l._)("div",{class:"card-image"},[(0,l._)("figure",{class:"image is-4by3"},[(0,l._)("img",{src:"https://bulma.io/images/placeholders/1280x960.png",alt:"Placeholder image"})])],-1))),eC={class:"card-content"},tC=wf((()=>(0,l._)("div",{class:"media"},[(0,l._)("div",{class:"media-content"},[(0,l._)("p",{class:"title is-4"},"PREMIUM PLAN")])],-1))),aC=wf((()=>(0,l._)("div",{class:"content"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris. ",-1))),sC={class:"field"},iC={class:"control"},lC={class:"radio"},oC=["disabled"];function nC(e,t,a,i,o,n){const c=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("section",_f,[(0,l._)("div",bf,[o.errMsg?((0,l.wg)(),(0,l.iD)("div",yf,[kf,(0,l.Wm)(c,{to:"/contactus"},{default:(0,l.w5)((()=>[ff])),_:1})])):(0,l.kq)("",!0),(0,l._)("div",Df,[Cf,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Hospital name","onUpdate:modelValue":t[0]||(t[0]=e=>o.hospital=e)},null,512),[[s.nr,o.hospital]]),xf,(0,l.wy)((0,l._)("input",{class:"input",type:"email",placeholder:"Official hospital email","onUpdate:modelValue":t[1]||(t[1]=e=>o.email=e)},null,512),[[s.nr,o.email]])]),(0,l._)("div",Uf,[(0,l._)("div",Sf,[(0,l._)("div",Af,[Pf,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownProvince}])},[(0,l._)("div",Mf,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:t[2]||(t[2]=(...e)=>n.provinceDropdown&&n.provinceDropdown(...e))},[""==o.province?((0,l.wg)(),(0,l.iD)("span",zf,"Select")):((0,l.wg)(),(0,l.iD)("span",Nf,(0,v.zw)(o.province),1))])]),(0,l._)("div",If,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.geolocationData,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e._id},[(0,l._)("a",{class:"dropdown-item",onClick:t=>n.selectProvince(e.province)},(0,v.zw)(e.province),9,Tf)])))),128))])],2)]),(0,l._)("div",qf,[Hf,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownCity}])},[(0,l._)("div",Lf,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:t[3]||(t[3]=(...e)=>n.cityDropdown&&n.cityDropdown(...e)),disabled:""==o.province},[""==o.city?((0,l.wg)(),(0,l.iD)("span",Of,"Select")):((0,l.wg)(),(0,l.iD)("span",Ef,(0,v.zw)(o.city),1))],8,Vf)]),o.province?((0,l.wg)(),(0,l.iD)("div",Ff,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.citiesData,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e.name},[(0,l._)("a",{class:"dropdown-item",onClick:t=>n.selectCity(e.name)},(0,v.zw)(e.name),9,$f)])))),128))])):(0,l.kq)("",!0)],2)])])]),(0,l._)("div",Rf,[Yf,(0,l.wy)((0,l._)("input",{type:"number",class:"input","onUpdate:modelValue":t[4]||(t[4]=e=>o.postalCode=e),placeholder:"Postal Code"},null,512),[[s.nr,o.postalCode]])]),(0,l._)("div",Bf,[(0,l._)("div",Kf,[jf,(0,l._)("label",Wf,[(0,l._)("input",{type:"radio",name:"type",onClick:t[5]||(t[5]=(...e)=>n.selectPublicType&&n.selectPublicType(...e))}),Gf]),(0,l._)("label",Zf,[(0,l._)("input",{type:"radio",name:"type",onClick:t[6]||(t[6]=(...e)=>n.selectPrivateType&&n.selectPrivateType(...e))}),Qf])])]),(0,l._)("div",Xf,[(0,l._)("div",Jf,[eD,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Barangay or Street of the hospital","onUpdate:modelValue":t[7]||(t[7]=e=>o.barangayORStreet=e)},null,512),[[s.nr,o.barangayORStreet]])])]),(0,l._)("div",tD,[(0,l._)("div",aD,[(0,l._)("div",sD,[(0,l._)("div",iD,[lD,(0,l.wy)((0,l._)("input",{class:"input",type:"number",placeholder:"Latitude of the hospital location","onUpdate:modelValue":t[8]||(t[8]=e=>o.latitude=e)},null,512),[[s.nr,o.latitude]])])]),(0,l._)("div",oD,[(0,l._)("div",nD,[cD,(0,l.wy)((0,l._)("input",{class:"input",type:"number",placeholder:"Longtitude of the hospital location","onUpdate:modelValue":t[9]||(t[9]=e=>o.longtitude=e)},null,512),[[s.nr,o.longtitude]])])])])]),(0,l._)("div",rD,[(0,l._)("div",dD,[(0,l._)("div",uD,[(0,l._)("div",pD,[hD,""!==o.usernameFound?((0,l.wg)(),(0,l.iD)("div",mD,[o.usernameFound?((0,l.wg)(),(0,l.iD)("p",gD,[vD,o.loadingUsername?((0,l.wg)(),(0,l.iD)("i",wD)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("p",_D,[bD,o.loadingUsername?((0,l.wg)(),(0,l.iD)("i",yD)):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0),(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Username","onUpdate:modelValue":t[10]||(t[10]=e=>o.username=e),onInput:t[11]||(t[11]=(...e)=>n.usernameFindTimeout&&n.usernameFindTimeout(...e))},null,544),[[s.nr,o.username]])])]),(0,l._)("div",kD,[(0,l._)("div",fD,[DD,(0,l.wy)((0,l._)("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":t[12]||(t[12]=e=>o.password=e)},null,512),[[s.nr,o.password]])]),(0,l._)("div",CD,[xD,(0,l.wy)((0,l._)("input",{class:"input",type:"password",placeholder:"Confirm Password","onUpdate:modelValue":t[13]||(t[13]=e=>o.confirmPassword=e)},null,512),[[s.nr,o.confirmPassword]])]),o.passwordNotMatch?((0,l.wg)(),(0,l.iD)("div",UD,"Password does not match. ")):(0,l.kq)("",!0)])])]),(0,l._)("div",SD,[(0,l._)("div",AD,[PD,(0,l._)("nav",MD,[(0,l._)("div",zD,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[14]||(t[14]=e=>o.searchBar=e),placeholder:"Search"},null,512),[[s.nr,o.searchBar]])]),(0,l._)("div",ND,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.specializationListIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"panel-block",key:t,value:e},[(0,l._)("a",{onClick:t=>n.selectSpecialization(e)},(0,v.zw)(e),9,TD)],8,ID)))),128))])])]),(0,l._)("div",qD,[HD,(0,l._)("div",LD,[(0,l._)("div",VD,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specializationsSelected,((e,t)=>((0,l.wg)(),(0,l.iD)("button",{key:t,class:"button is-light",style:{margin:"5px"}},[(0,l.Uk)((0,v.zw)(e.specialist)+"  ",1),(0,l._)("span",{class:"has-text-danger",onClick:t=>n.undoSpecialization(e.specialist)},"X",8,OD)])))),128))])])])]),ED,(0,l._)("div",FD,[(0,l._)("div",$D,[(0,l._)("div",RD,[YD,(0,l._)("div",BD,[KD,jD,(0,l._)("div",WD,[(0,l._)("div",GD,[(0,l._)("label",ZD,[(0,l._)("input",{class:"radio",name:"plan",type:"radio",onClick:t[15]||(t[15]=(...e)=>n.selectStandardPlan&&n.selectStandardPlan(...e))})])])])])])]),(0,l._)("div",QD,[(0,l._)("div",XD,[JD,(0,l._)("div",eC,[tC,aC,(0,l._)("div",sC,[(0,l._)("div",iC,[(0,l._)("label",lC,[(0,l._)("input",{class:"radio",name:"plan",type:"radio",onClick:t[16]||(t[16]=(...e)=>n.selectPremiumPlan&&n.selectPremiumPlan(...e))})])])])])])])]),(0,l._)("button",{class:"button is-primary",onClick:t[17]||(t[17]=(...e)=>n.create&&n.create(...e)),disabled:""==o.pricing||""==o.hospital||""==o.email||""==o.hospitalType||""==o.latitude||""==o.longtitude||""==o.barangayORStreet||""==o.city||""==o.province||o.specializationsSelected==[]},"Create Account",8,oC)])])}var cC={name:"ManagerSignup",async mounted(){await tt().get("/api/geolocation").then((e=>this.geolocationData=e.data))},computed:{specializationListIndexed(){return this.specializationList.filter((e=>e.toLowerCase().includes(this.searchBar.toLowerCase())))}},data(){return{geolocationData:[],isActiveDropdownProvince:!1,isActiveDropdownCity:!1,registrationCode:"",pricing:"",hospital:"",email:"",hospitalType:"",latitude:"",longtitude:"",barangayORStreet:"",postalCode:"",city:"",province:"",username:"",password:"",confirmPassword:"",loadingUsername:!1,usernameFound:"",passwordNotMatch:!1,citiesData:[],specializationsSelected:[],specializationList:this.$store.getters.getSpecializationList,searchBar:"",errMsg:"",searchTimeout:null}},methods:{generateCode(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=t.length;for(let s=0;s<12;s++)e+=t.charAt(Math.floor(Math.random()*a));this.registrationCode=e.toUpperCase()},async usernameFindTimeout(){this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.searchTimeout=setTimeout(this.usernameFinder,500)},async usernameFinder(){this.loadingUsername=!0,await tt().post("/api/manager/check_username",{username:this.username}).then((e=>{this.usernameFound=e.data})),""==this.username&&(this.usernameFound=""),this.loadingUsername=!1},async selectProvince(e){this.city="",this.province=e,this.isActiveDropdownProvince=!1,await tt().get("/api/geolocation").then((t=>this.citiesData=t.data.find((t=>t.province===e)))),this.citiesData=await this.citiesData.citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1))},selectCity(e){this.city=e,this.isActiveDropdownCity=!1},selectPublicType(){this.hospitalType="Public"},selectPrivateType(){this.hospitalType="Private"},selectStandardPlan(){this.pricing="Standard"},selectPremiumPlan(){this.pricing="Premium"},provinceDropdown(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},cityDropdown(){this.isActiveDropdownCity=!this.isActiveDropdownCity},selectSpecialization(e){this.specializationsSelected.find((t=>t.specialist===e))||this.specializationsSelected.push({specialist:e})},undoSpecialization(e){this.specializationsSelected=this.specializationsSelected.filter((t=>t.specialist!==e))},async create(){if(this.generateCode(),this.passwordNotMatch=!1,this.password!==this.confirmPassword?this.passwordNotMatch=!0:this.passwordNotMatch=!1,this.password===this.confirmPassword&&!this.usernameFound)try{await tt().post("/api/manager",{registrationCode:this.registrationCode,pricing:this.pricing,status:"Inactive",hospital:this.hospital,type:this.hospitalType,email:this.email,province:this.province,city:this.city,barangayORStreet:this.barangayORStreet,postalCode:this.postalCode,location:{type:"Point",coordinates:[this.longtitude,this.latitude]},specializations:this.specializationsSelected,username:this.username,password:this.password}),await this.$store.commit("accountCreated",!0),await this.$router.push("/user/manager/login")}catch(e){this.errMsg=e}}}};const rC=(0,c.Z)(cC,[["render",nC],["__scopeId","data-v-0ab1c63a"]]);var dC=rC;const uC=(0,l._)("div",{class:"modal-background"},null,-1),pC=(0,l._)("div",{class:"modal-content loader"},null,-1),hC=[uC,pC],mC={class:"columns"},gC={class:"column is-2"},vC={class:"column"},wC={class:"section"},_C={key:0,class:"notification is-light is-info"},bC=(0,l.Uk)("To get started, upload a "),yC=(0,l._)("b",null,"photo",-1),kC=(0,l.Uk)(" of your hospital and fill in the details of your "),fC=(0,l._)("b",null,"description",-1),DC=(0,l.Uk)(" and "),CC=(0,l._)("b",null,"contacts",-1),xC=(0,l.Uk)(". Activation of the account is available when clicking "),UC=(0,l._)("b",null,'"Edit"',-1),SC=(0,l.Uk)(". "),AC=[bC,yC,kC,fC,DC,CC,xC,UC,SC],PC={class:"columns box"},MC={class:"column"},zC={key:0,class:"image is-16by9"},NC=["src"],IC={id:"formUpload",action:"/api/imgUploadManager",method:"post",enctype:"multipart/form-data",style:{margin:"auto",width:"50%"},class:"field"},TC={class:"control"},qC=["value"],HC=(0,l._)("div",{class:"has-text-centered"},[(0,l._)("button",{type:"submit",value:"Upload",class:"button is-primary"},"Upload Photo")],-1),LC=(0,l._)("br",null,null,-1),VC={class:"container has-text-centered"},OC=["src"],EC={class:"column"},FC={class:"container"},$C={class:"block"},RC=(0,l._)("h1",{class:"title"},"Description:",-1),YC={key:0,class:"subtitle"},BC={key:1,class:"form"},KC={class:"control"},jC={class:"block"},WC=(0,l._)("h1",{class:"title"},"Contacts:",-1),GC={key:0},ZC={class:"subtitle"},QC={key:1},XC={class:"subtitle"},JC=["onClick"],ex=(0,l._)("br",null,null,-1),tx={key:2,class:"field has-addons"},ax={class:"control"},sx={class:"control"},ix=["disabled"],lx=(0,l._)("br",null,null,-1),ox={key:2,class:"control"},nx={class:"radio"},cx=(0,l.Uk)(" Activate this account. "),rx={key:0,class:"help"},dx=(0,l.Uk)("Please make sure you have uploaded a "),ux=(0,l._)("b",null,"photo",-1),px=(0,l.Uk)(" of the hospital before activating it. To cancel this, just click "),hx=(0,l._)("b",null,'"Cancel Editing"',-1),mx=(0,l.Uk)("."),gx=[dx,ux,px,hx,mx],vx=(0,l._)("br",null,null,-1),wx=["disabled"];function _x(e,t,a,i,o,n){const c=(0,l.up)("ManagerMenuVue");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.loading}])},hC,2),(0,l._)("div",mC,[(0,l._)("div",gC,[(0,l.Wm)(c)]),(0,l._)("div",vC,[(0,l._)("section",wC,["Inactive"==o.hospitalStatus?((0,l.wg)(),(0,l.iD)("div",_C,AC)):(0,l.kq)("",!0),(0,l._)("div",PC,[(0,l._)("div",MC,["Inactive"!==o.hospitalStatus?((0,l.wg)(),(0,l.iD)("figure",zC,[(0,l._)("img",{src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/managers/${o.managerHospital}.jpg`},null,8,NC)])):(0,l.kq)("",!0),(0,l._)("form",IC,[(0,l._)("div",TC,[(0,l._)("input",{type:"hidden",name:"hospital",value:o.managerHospital},null,8,qC),(0,l._)("input",{class:"input",type:"file",name:"imgFile",onClick:t[0]||(t[0]=(...e)=>n.imgSuccess&&n.imgSuccess(...e)),required:""}),HC])]),LC,(0,l._)("div",VC,[""!==o.hospitalData?((0,l.wg)(),(0,l.iD)("iframe",{key:0,width:"300",height:"300",src:`https://maps.google.com/maps?q=${o.hospitalData.location.coordinates[1]},${o.hospitalData.location.coordinates[0]}&hl=es;z=14&output=embed`},null,8,OC)):(0,l.kq)("",!0)])]),(0,l._)("div",EC,[o.editingMode?((0,l.wg)(),(0,l.iD)("a",{key:1,class:"has-text-danger",onClick:t[2]||(t[2]=(...e)=>n.editModeCancel&&n.editModeCancel(...e))},"[Cancel Editing]")):((0,l.wg)(),(0,l.iD)("a",{key:0,class:"has-text-info",onClick:t[1]||(t[1]=(...e)=>n.editMode&&n.editMode(...e))},"[Edit]")),(0,l._)("div",FC,[(0,l._)("div",$C,[RC,o.editingMode?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("p",YC,(0,v.zw)(o.description),1)),o.editingMode?((0,l.wg)(),(0,l.iD)("form",BC,[(0,l._)("div",KC,[(0,l.wy)((0,l._)("textarea",{class:"textarea","onUpdate:modelValue":t[3]||(t[3]=e=>o.editDescription=e),placeholder:"Edit description..."},null,512),[[s.nr,o.editDescription]])])])):(0,l.kq)("",!0)]),(0,l._)("div",jC,[WC,o.editingMode?((0,l.wg)(),(0,l.iD)("ul",QC,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.editContacts,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},[(0,l._)("p",XC,[(0,l.Uk)((0,v.zw)(e.contact)+" ",1),o.editingMode?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"has-text-danger",onClick:t=>n.removeContact(e.contact)},"Remove",8,JC)):(0,l.kq)("",!0)])])))),128))])):((0,l.wg)(),(0,l.iD)("ul",GC,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.contacts,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},[(0,l._)("p",ZC,(0,v.zw)(e.contact),1)])))),128))])),ex,o.editingMode?((0,l.wg)(),(0,l.iD)("div",tx,[(0,l._)("div",ax,[(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>o.contact=e),placeholder:"Add contacts..."},null,512),[[s.nr,o.contact]])]),(0,l._)("div",sx,[(0,l._)("button",{type:"submit",class:"button is-light",onClick:t[5]||(t[5]=(...e)=>n.addContact&&n.addContact(...e)),disabled:""==o.contact},"+",8,ix)])])):(0,l.kq)("",!0)])]),lx,"Inactive"==o.hospitalStatus&&o.editingMode?((0,l.wg)(),(0,l.iD)("div",ox,[(0,l._)("label",nx,[(0,l._)("input",{type:"radio",onClick:t[6]||(t[6]=(...e)=>n.activateAccount&&n.activateAccount(...e))}),cx]),o.activate?((0,l.wg)(),(0,l.iD)("p",rx,gx)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),vx,o.editingMode?((0,l.wg)(),(0,l.iD)("button",{key:3,class:"button is-danger",onClick:t[7]||(t[7]=(...e)=>n.saveProfileEdit&&n.saveProfileEdit(...e)),disabled:""==o.editDescription||0==o.editContacts.length},(0,v.zw)("Inactive"===o.hospitalStatus&&o.activate?"Save changes and activate this account":"Save changes"),9,wx)):(0,l.kq)("",!0)])])])])])],64)}var bx={name:"ManagerProfile",components:{ManagerMenuVue:Kk},async mounted(){this.loading=!0,await tt().get("/session/manager").then((e=>this.managerHospital=e.data.hospital)),await tt().get("/session/manager").then((e=>this.managerHospitalID=e.data._id)),await tt().get("/api/manager").then((e=>this.hospitalData=e.data.find((e=>e._id==this.managerHospitalID)))),this.hospitalStatus=await this.hospitalData.status,"Inactive"!==this.hospitalStatus&&(this.description=await this.hospitalData.details[0].description,this.contacts=await this.hospitalData.details[0].contacts),this.loading=!1},data(){return{loading:!1,hospitalStatus:"",activate:!1,managerHospital:"",managerHospitalID:"",editingMode:!1,editDescription:"",editContacts:[],description:"",contact:"",contacts:[],hospitalData:"",details:[]}},methods:{async imgSuccess(){this.$store.commit("imgSuccessManager",!0)},editMode(){this.editingMode=!0,this.editDescription=this.description,this.editContacts=[...this.contacts]},editModeCancel(){this.editingMode=!1,this.editDescription="",this.editContacts=[]},addContact(){this.editContacts.push({contact:this.contact}),this.contact=""},removeContact(e){this.editContacts=this.editContacts.filter((t=>t.contact!==e))},activateAccount(){this.activate=!0},async saveProfileEdit(){""!==this.editDescription&&0!==this.editContacts.length&&(this.details.push({description:this.editDescription,contacts:this.editContacts}),this.activate?await tt().put(`/api/manager/${this.managerHospitalID}`,{details:this.details,status:"Active"}):await tt().put(`/api/manager/${this.managerHospitalID}`,{details:this.details}),await tt().get("/api/manager").then((e=>this.hospitalData=e.data.find((e=>e._id==this.managerHospitalID)))),this.description=await this.hospitalData.details[0].description,this.contacts=await this.hospitalData.details[0].contacts,this.hospitalStatus=await this.hospitalData.status,this.editingMode=!1,this.editDescription="",this.editContacts=[],this.details=[],this.activate=!1)}}};const yx=(0,c.Z)(bx,[["render",_x]]);var kx=yx;const fx={class:"columns"},Dx={class:"column is-2"},Cx={class:"column"},xx={class:"section"},Ux={class:"container box"},Sx=(0,l._)("label",{class:"label"},"Registration Code",-1),Ax={class:"field has-addons"},Px={class:"control"},Mx=(0,l._)("i",{class:"fa-solid fa-arrows-rotate"},null,-1),zx=[Mx],Nx=(0,l._)("hr",null,null,-1),Ix={key:0,class:"notification is-success"},Tx={key:1,class:"notification is-danger"},qx={class:"field"},Hx=(0,l._)("label",{class:"label"},"Current Password",-1),Lx={class:"control"},Vx={key:0,class:"help is-danger"},Ox={class:"field"},Ex=(0,l._)("label",{class:"label"},"New Password",-1),Fx={class:"control"},$x={key:0,class:"help is-danger"},Rx={class:"field"},Yx=(0,l._)("label",{class:"label"},"Confirm Password",-1),Bx={class:"control"},Kx={key:0,class:"help is-danger"},jx=(0,l.Uk)(" Show password "),Wx={class:"field has-text-right"},Gx={class:"control"},Zx=["disabled"];var Qx={__name:"ManagerSecurity",setup(e){let t=(0,Gg.iH)(""),a=(0,Gg.iH)(""),i=(0,Gg.iH)(""),o=(0,Gg.iH)(!1),n=(0,Gg.iH)(""),c=(0,Gg.iH)(""),r=(0,Gg.iH)(!1),d=(0,Gg.iH)(!1),u=(0,Gg.iH)("");function p(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=t.length;for(let s=0;s<8;s++)e+=t.charAt(Math.floor(Math.random()*a));u.value=e.toUpperCase()}async function h(){p();try{await tt().put(`/api/manager/${n.value}`,{registrationCode:u.value}),await tt().put("/session/manager",{registrationCode:u.value})}catch(e){c.value=e}}function m(){let e=document.getElementsByClassName("password");for(let t=0;t<e.length;t++)"password"===e[t].type?e[t].type="text":e[t].type="password"}async function g(){a.value===i.value?await tt().put("/api/updatePassword/manager",{managerID:n.value,currentPassword:t.value,newPassword:a.value}).then((e=>{e.data?(d.value=!1,t.value="",a.value="",i.value="",r.value=!0,c.value="",o.value=!1):(r.value=!1,d.value=!0)})).catch((e=>{c.value=e,r.value=!1})):(o.value=!0,r.value=!1)}return(0,l.bv)((async()=>{await tt().get("/session/manager").then((e=>n.value=e.data._id)),await tt().get("/session/manager").then((e=>u.value=e.data.registrationCode)),console.log(u.value)})),(e,n)=>((0,l.wg)(),(0,l.iD)("div",fx,[(0,l._)("div",Dx,[(0,l.Wm)(Kk)]),(0,l._)("div",Cx,[(0,l._)("section",xx,[(0,l._)("div",Ux,[Sx,(0,l._)("div",Ax,[(0,l._)("div",Px,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>(0,Gg.dq)(u)?u.value=e:u=e)},null,512),[[s.nr,(0,Gg.SU)(u)]])]),(0,l._)("div",{class:"control"},[(0,l._)("a",{class:"button",onClick:h},zx)])]),Nx,(0,Gg.SU)(r)?((0,l.wg)(),(0,l.iD)("div",Ix,"Password has been changed successfully. ")):(0,l.kq)("",!0),(0,Gg.SU)(c)?((0,l.wg)(),(0,l.iD)("div",Tx,(0,v.zw)((0,Gg.SU)(c)),1)):(0,l.kq)("",!0),(0,l._)("div",qx,[Hx,(0,l._)("div",Lx,[(0,l.wy)((0,l._)("input",{type:"password",class:"input password","onUpdate:modelValue":n[1]||(n[1]=e=>(0,Gg.dq)(t)?t.value=e:t=e),placeholder:"Current password"},null,512),[[s.nr,(0,Gg.SU)(t)]])]),(0,Gg.SU)(d)?((0,l.wg)(),(0,l.iD)("p",Vx,"Current password does not match in our database.")):(0,l.kq)("",!0)]),(0,l._)("div",Ox,[Ex,(0,l._)("div",Fx,[(0,l.wy)((0,l._)("input",{type:"password",class:"input password","onUpdate:modelValue":n[2]||(n[2]=e=>(0,Gg.dq)(a)?a.value=e:a=e),placeholder:"New password"},null,512),[[s.nr,(0,Gg.SU)(a)]])]),(0,Gg.SU)(o)?((0,l.wg)(),(0,l.iD)("p",$x,"Password do not match.")):(0,l.kq)("",!0)]),(0,l._)("div",Rx,[Yx,(0,l._)("div",Bx,[(0,l.wy)((0,l._)("input",{type:"password",class:"input password","onUpdate:modelValue":n[3]||(n[3]=e=>(0,Gg.dq)(i)?i.value=e:i=e),placeholder:"Confirm password"},null,512),[[s.nr,(0,Gg.SU)(i)]])]),(0,Gg.SU)(o)?((0,l.wg)(),(0,l.iD)("p",Kx,"Password do not match.")):(0,l.kq)("",!0)]),(0,l._)("div",{class:"field"},[(0,l._)("div",{class:"control"},[(0,l._)("label",{class:"checkbox"},[(0,l._)("input",{type:"checkbox",onClick:m}),jx])])]),(0,l._)("div",Wx,[(0,l._)("div",Gx,[(0,l._)("button",{class:"button is-danger",disabled:""==(0,Gg.SU)(t)||""==(0,Gg.SU)(a)||""==(0,Gg.SU)(i),onClick:g},"Change password",8,Zx)])]),(0,l.Wm)(zi["default"],{userType:"manager"})])])])]))}};const Xx=Qx;var Jx=Xx;const eU=e=>((0,l.dD)("data-v-14b5e600"),e=e(),(0,l.Cn)(),e),tU={class:"section"},aU=eU((()=>(0,l._)("div",{class:"modal-background"},null,-1))),sU=eU((()=>(0,l._)("div",{class:"modal-content loader"},null,-1))),iU=[aU,sU],lU={class:"container box",style:{width:"33%"}},oU={key:0,class:"notification is-danger"},nU={key:1,class:"notification is-success"},cU={key:2},rU=eU((()=>(0,l._)("h1",{class:"title"},"Contact Us",-1))),dU={class:"dropdown is-hoverable block"},uU={class:"dropdown-trigger"},pU={class:"button"},hU={class:"dropdown-menu"},mU={class:"dropdown-content"},gU={class:"field"},vU={class:"control"},wU=eU((()=>(0,l._)("label",{class:"label"},"Email",-1))),_U={class:"field"},bU={class:"control"},yU=eU((()=>(0,l._)("label",{class:"label"},"Subject",-1))),kU={class:"field"},fU={class:"control"},DU=eU((()=>(0,l._)("label",{class:"label"},"Explain the problem",-1))),CU={class:"field has-text-centered"},xU={class:"control"},UU=["disabled"];var SU={__name:"ContactSupport",setup(e){let t=(0,Gg.iH)(""),a=(0,Gg.iH)(""),i=(0,Gg.iH)(""),o=(0,Gg.iH)(""),n=(0,Gg.iH)(""),c=(0,Gg.iH)(!1),r=(0,Gg.iH)(""),d=(0,Gg.iH)(!1);async function u(){c.value=!0,p();try{await tt().post("/api/SupportMail",{ticketID:t.value,email:n.value,ticketType:a.value,ticketTitle:i.value}),await tt().post("/api/superuser/submitTicket",{ticketID:t.value,email:n.value,ticketType:a.value,ticketTitle:i.value,ticketMessage:o.value}),d.value=!0}catch(e){r.value=e}c.value=!1}function p(){let e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=a.length;for(let t=0;t<8;t++)e+=a.charAt(Math.floor(Math.random()*s));t.value=e.toUpperCase()}return(e,p)=>((0,l.wg)(),(0,l.iD)("section",tU,[(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":(0,Gg.SU)(c)}])},iU,2),(0,l._)("div",lU,[(0,Gg.SU)(r)&&!(0,Gg.SU)(d)?((0,l.wg)(),(0,l.iD)("div",oU,(0,v.zw)((0,Gg.SU)(r)),1)):(0,l.kq)("",!0),(0,Gg.SU)(d)?((0,l.wg)(),(0,l.iD)("div",nU,"Your problem has been reported, your ticket ID is: "+(0,v.zw)((0,Gg.SU)(t))+". Please see your email for further instructions.",1)):((0,l.wg)(),(0,l.iD)("div",cU,[rU,(0,l._)("div",dU,[(0,l._)("div",uU,[(0,l._)("button",pU,(0,v.zw)(""==(0,Gg.SU)(a)?"Select a Problem":(0,Gg.SU)(a)),1)]),(0,l._)("div",hU,[(0,l._)("div",mU,[(0,l._)("a",{class:"dropdown-item",onClick:p[0]||(p[0]=e=>(0,Gg.dq)(a)?a.value="General Inquiry":a="General Inquiry")},"General Inquiry"),(0,l._)("a",{class:"dropdown-item",onClick:p[1]||(p[1]=e=>(0,Gg.dq)(a)?a.value="Account Problem":a="Account Problem")},"Account Problem"),(0,l._)("a",{class:"dropdown-item",onClick:p[2]||(p[2]=e=>(0,Gg.dq)(a)?a.value="Report a bug":a="Report a bug")},"Report a bug")])])]),(0,l._)("div",gU,[(0,l._)("div",vU,[wU,(0,l.wy)((0,l._)("input",{type:"email","onUpdate:modelValue":p[3]||(p[3]=e=>(0,Gg.dq)(n)?n.value=e:n=e),class:"input"},null,512),[[s.nr,(0,Gg.SU)(n)]])])]),(0,l._)("div",_U,[(0,l._)("div",bU,[yU,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":p[4]||(p[4]=e=>(0,Gg.dq)(i)?i.value=e:i=e),class:"input"},null,512),[[s.nr,(0,Gg.SU)(i)]])])]),(0,l._)("div",kU,[(0,l._)("div",fU,[DU,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":p[5]||(p[5]=e=>(0,Gg.dq)(o)?o.value=e:o=e),class:"textarea"},null,512),[[s.nr,(0,Gg.SU)(o)]])])]),(0,l._)("div",CU,[(0,l._)("div",xU,[(0,l._)("button",{class:"button is-primary",onClick:u,disabled:""==(0,Gg.SU)(a)||""==(0,Gg.SU)(n)||""==(0,Gg.SU)(i)||""==(0,Gg.SU)(o)},"Submit Issue",8,UU)])])]))])]))}};const AU=(0,c.Z)(SU,[["__scopeId","data-v-14b5e600"]]);var PU=AU;const MU={class:"section"},zU={class:"container"},NU={class:"title"},IU=(0,l.Uk)("Oops, page does not exist. Please return here "),TU=(0,l.Uk)("here.");function qU(e,t){const a=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("section",MU,[(0,l._)("div",zU,[(0,l._)("h1",NU,[IU,(0,l.Wm)(a,{to:"/"},{default:(0,l.w5)((()=>[TU])),_:1})])])])}const HU={},LU=(0,c.Z)(HU,[["render",qU]]);var VU=LU;const OU=[{path:"/",component:aa},{path:"/user/manager/:user",component:Gk,meta:{requiresManagerAuth:!0}},{path:"/user/manager/signup",component:dC},{path:"/user/manager/login",component:vf},{path:"/user/manager/:user/profile",component:kx,meta:{requiresManagerAuth:!0}},{path:"/user/manager/:user/security",component:Jx,meta:{requiresManagerAuth:!0}},{path:"/user/superuser",component:xy,meta:{requiresSuperUserAuth:!0}},{path:"/user/superuser/login",component:Ky},{path:"/doctor/login",component:Ti},{path:"/doctor/signup",component:Sn},{path:"/doctor/user/:user",component:Ql,meta:{requiresAuth:!0}},{path:"/doctor/user/:user/schedule",component:Uc,meta:{requiresAuth:!0}},{path:"/doctor/user/:user/profile",component:Yr,meta:{requiresAuth:!0}},{path:"/doctor/user/:user/security",component:Hp,meta:{requiresAuth:!0}},{path:"/doctor/user/:user/patients",component:tu,meta:{requiresAuth:!0}},{path:"/imgUploadSuccess",component:Dh,meta:{requireImgUploadSuccess:!0}},{path:"/imgUploadSuccessDoctor",component:Ih,meta:{requireImgUploadSuccess:!0}},{path:"/imgUploadSuccessManager",component:Rh,meta:{requireImgUploadSuccessManager:!0}},{path:"/user/signup",component:Sg},{path:"/user/login",component:Wg},{path:"/user/:user/",component:Xg,meta:{requiresAuthPatient:!0}},{path:"/user/:user/doctors",component:os,meta:{requiresAuthPatient:!0}},{path:"/user/:user/profile",component:Pw,meta:{requiresAuthPatient:!0}},{path:"/user/:user/security",component:a_,meta:{requiresAuthPatient:!0}},{path:"/success",component:hh,meta:{requireSuccessPickDoctor:!0}},{path:"/user/:user/registration",component:hi,meta:{requireProcess:!0}},{path:"/contactus",component:PU},{path:"/:catchAll404(.*)*",component:VU}],EU=(0,g.p7)({history:(0,g.PO)("/"),routes:OU});EU.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requireProcess)))return m.state.statusAvailability?a():a("/user/:user/doctors");a()})),EU.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requireImgUploadSuccess)))return!0===m.state.imgSuccess?a():a("/doctor/login");a()})),EU.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requireImgUploadSuccessManager)))return m.state.imgSuccessManager?a():a("/user/manager/login");a()})),EU.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requireSuccessPickDoctor)))return m.state.doctorID?a():a("/user/:user/registration");a()})),EU.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requiresAuth)))return m.state.alias?a():a("/doctor/login");a()})),EU.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requiresAuthPatient)))return m.state.patientUsername?a():a("/user/login");a()})),EU.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requiresSuperUserAuth)))return m.state.superUserAuth?a():a("/user/superuser/login");a()})),EU.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requiresManagerAuth)))return m.state.managerHospital?a():a("/user/manager/login");a()})),EU.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requireProcess)))return m.state.statusAvailability?a():a("/user/:user/doctors");a()})),EU.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requiresAuthUsers)))return m.state.patientUsername||m.state.alias?a():a("/");a()}));var FU=EU,$U=a(2346);(0,s.ri)(d).use(i.ZP,{}).use(FU).use(m).use($U.Z,tt()).mount("#app")},9615:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});var s=a(6252),i=a(2262),l=a(3577),o=a(9963),n=a(9669),c=a.n(n);const r=e=>((0,s.dD)("data-v-cd2db4f2"),e=e(),(0,s.Cn)(),e),d=r((()=>(0,s._)("div",{class:"modal-background"},null,-1))),u={class:"modal-content has-text-left",style:{width:"40%",margin:"auto"}},p={key:0,class:"section box"},h=r((()=>(0,s._)("p",{class:"title is-4 has-text-danger"},"Forgot Password",-1))),m={key:0,class:"notification is-danger"},g={key:1,class:"notification is-warning"},v={key:2,class:"container"},w={class:"field"},_={class:"control"},b=r((()=>(0,s._)("label",{class:"label"},"Enter Username",-1))),y={class:"field"},k={class:"control"},f=r((()=>(0,s._)("label",{class:"label"},"Enter Email",-1))),D={class:"field"},C={class:"control"},x=["disabled"],U={key:3,class:"notification is-danger"},S={key:1,class:"section box"},A={key:0,class:"container"},P={class:"field"},M={class:"control"},z=r((()=>(0,s._)("label",{class:"label"},"Enter code",-1))),N={key:1,class:"container"},I={key:0,class:"notification is-danger"},T={key:1,class:"container"},q={class:"field"},H={class:"control"},L=r((()=>(0,s._)("label",{class:"label"},"New Password:",-1))),V={class:"field"},O={class:"control"},E=r((()=>(0,s._)("label",{class:"label"},"Confirm Password:",-1))),F={class:"field"},$={class:"control"},R=["disabled"],Y={key:2,class:"container"},B=r((()=>(0,s._)("div",{class:"notification is-success"},"Your password has been successfully changed.",-1))),K=[B];var j={__name:"ForgotPassword",props:{userType:String,username:String,email:String},setup(e){const t=e;let a=(0,i.iH)(!1),n=(0,i.iH)(""),r=(0,i.iH)(!1),B=(0,i.iH)(!1),j=(0,i.iH)(""),W=(0,i.iH)(!1),G=(0,i.iH)(!1),Z=(0,i.iH)(""),Q=(0,i.iH)(""),X=(0,i.iH)(!1),J=(0,i.iH)(!1),ee=(0,i.iH)(!1),te=(0,i.iH)(""),ae=(0,i.iH)(t.username),se=(0,i.iH)(t.email);async function ie(){if(null!=ae.value||null!=se.value){let s;a.value=!0;let i=Math.floor(1e3+9e3*Math.random());if(await c().post("/api/code/email",{email:se.value}).then((e=>s=e.data)),s)B.value=!0;else if("patient"==t.userType)if(await c().post("/api/user/verify_username",{username:ae.value,email:se.value}).then((e=>te.value=e.data)),te.value){ee.value=!1;try{await c().post("/api/code",{email:se.value,code:i}),await c().post("/api/OTPMail",{email:se.value,code:i}),W.value=!0}catch(e){n.value=e}}else ee.value=!0;else if("doctor"==t.userType)if(await c().post("/api/doctor/verify_username",{username:ae.value,email:se.value}).then((e=>te.value=e.data)),te.value){ee.value=!1;try{await c().post("/api/code",{email:se.value,code:i}),await c().post("/api/OTPMail",{email:se.value,code:i}),W.value=!0}catch(e){n.value=e}}else ee.value=!0;else if("manager"==t.userType)if(await c().post("/api/manager/verify_username",{username:ae.value,email:se.value}).then((e=>te.value=e.data)),te.value){ee.value=!1;try{await c().post("/api/code",{email:se.value,code:i}),await c().post("/api/OTPMail",{email:se.value,code:i}),W.value=!0}catch(e){n.value=e}}else ee.value=!0;a.value=!1}}async function le(){let e;await c().post("/api/code/verify",{code:j.value}).then((t=>e=t.data)),e&&(G.value=!0)}async function oe(){if(Z.value===Q.value){if("patient"==t.userType)try{await c().put("/api/fupdatePassword/patient",{patientID:te.value._id,password:Z.value}),te.value="",J.value=!0}catch(e){J.value=!1,n.value=e,te.value=""}else if("doctor"==t.userType)try{await c().put("/api/fupdatePassword/doctor",{doctorID:te.value._id,password:Z.value}),te.value="",J.value=!0}catch(e){J.value=!1,n.value=e,te.value=""}else if("manager"==t.userType)try{await c().put("/api/fupdatePassword/manager",{managerID:te.value._id,password:Z.value}),te.value="",J.value=!0}catch(e){J.value=!1,n.value=e,te.value=""}}else X.value=!0}return(e,t)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("a",{class:"subtitle has-text-danger",onClick:t[0]||(t[0]=e=>(0,i.dq)(r)?r.value=!(0,i.SU)(r):r=!(0,i.SU)(r))},"Forgot Password"),(0,s._)("div",{class:(0,l.C_)(["modal",{"is-active":(0,i.SU)(r)}])},[d,(0,s._)("div",u,[(0,i.SU)(W)?((0,s.wg)(),(0,s.iD)("section",S,[(0,i.SU)(G)?((0,s.wg)(),(0,s.iD)("div",N,[(0,i.SU)(X)?((0,s.wg)(),(0,s.iD)("div",I,"Passwords not match.")):(0,s.kq)("",!0),(0,i.SU)(J)?((0,s.wg)(),(0,s.iD)("div",Y,K)):((0,s.wg)(),(0,s.iD)("div",T,[(0,s._)("div",q,[(0,s._)("div",H,[L,(0,s.wy)((0,s._)("input",{class:"input",type:"password","onUpdate:modelValue":t[4]||(t[4]=e=>(0,i.dq)(Z)?Z.value=e:Z=e)},null,512),[[o.nr,(0,i.SU)(Z)]])])]),(0,s._)("div",V,[(0,s._)("div",O,[E,(0,s.wy)((0,s._)("input",{class:"input",type:"password","onUpdate:modelValue":t[5]||(t[5]=e=>(0,i.dq)(Q)?Q.value=e:Q=e)},null,512),[[o.nr,(0,i.SU)(Q)]])])]),(0,s._)("div",F,[(0,s._)("div",$,[(0,s._)("button",{class:"button",onClick:oe,disabled:""==(0,i.SU)(Z)&&""==(0,i.SU)(Q)},"Confirm",8,R)])])]))])):((0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("div",P,[(0,s._)("div",M,[z,(0,s.wy)((0,s._)("input",{class:"input",type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>(0,i.dq)(j)?j.value=e:j=e)},null,512),[[o.nr,(0,i.SU)(j)]])])]),(0,s._)("div",{class:"field"},[(0,s._)("div",{class:"control"},[(0,s._)("button",{class:"button",onClick:le},"Verify")])])]))])):((0,s.wg)(),(0,s.iD)("section",p,[h,(0,i.SU)(n)?((0,s.wg)(),(0,s.iD)("div",m,(0,l.zw)((0,i.SU)(n)),1)):(0,s.kq)("",!0),(0,i.SU)(ee)?((0,s.wg)(),(0,s.iD)("div",g,"No account has been found linked with this email.")):(0,s.kq)("",!0),(0,i.SU)(B)?((0,s.wg)(),(0,s.iD)("div",U,"You have to wait 10 minutes before requesting a code again. ")):((0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",w,[(0,s._)("div",_,[b,(0,s.wy)((0,s._)("input",{class:"input",type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>(0,i.dq)(ae)?ae.value=e:ae=e)},null,512),[[o.nr,(0,i.SU)(ae)]])])]),(0,s._)("div",y,[(0,s._)("div",k,[f,(0,s.wy)((0,s._)("input",{class:"input",type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>(0,i.dq)(se)?se.value=e:se=e)},null,512),[[o.nr,(0,i.SU)(se)]])])]),(0,s._)("div",D,[(0,s._)("div",C,[(0,s._)("button",{class:(0,l.C_)(["button",{"is-loading":(0,i.SU)(a)}]),onClick:ie,disabled:null==(0,i.SU)(se)||null==(0,i.SU)(ae)},"Send OTP",10,x)])])]))]))]),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[6]||(t[6]=e=>(0,i.dq)(r)?r.value=!1:r=!1)})],2)],64))}},W=a(3744);const G=(0,W.Z)(j,[["__scopeId","data-v-cd2db4f2"]]);var Z=G}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var l=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,s,i,l){if(!s){var o=1/0;for(d=0;d<e.length;d++){s=e[d][0],i=e[d][1],l=e[d][2];for(var n=!0,c=0;c<s.length;c++)(!1&l||o>=l)&&Object.keys(a.O).every((function(e){return a.O[e](s[c])}))?s.splice(c--,1):(n=!1,l<o&&(o=l));if(n){e.splice(d--,1);var r=i();void 0!==r&&(t=r)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[s,i,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,l,o=s[0],n=s[1],c=s[2],r=0;if(o.some((function(t){return 0!==e[t]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(c)var d=c(a)}for(t&&t(s);r<o.length;r++)l=o[r],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},s=self["webpackChunkclient"]=self["webpackChunkclient"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2368)}));s=a.O(s)})();
//# sourceMappingURL=app.356522ee.js.map