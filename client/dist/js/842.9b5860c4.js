"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[842],{204:function(t,i,a){a.d(i,{Z:function(){return S}});var s=a(6252),e=a(3577);const l={class:"navbar is-hidden-desktop"},n={class:"navbar-brand"},o=(0,s._)("span",{"aria-hidden":"true"},null,-1),c=(0,s._)("span",{"aria-hidden":"true"},null,-1),d=(0,s._)("span",{"aria-hidden":"true"},null,-1),u=[o,c,d],h=(0,s._)("p",{class:"menu-label"},"General",-1),p={class:"menu-list"},r=(0,s._)("p",{class:"menu-label"},"Security",-1),g={class:"menu-list"},m=(0,s._)("p",{class:"menu-label"},"Support",-1),v={class:"menu-list"},_=(0,s._)("li",null,[(0,s._)("a",null,"FAQ")],-1),k=(0,s._)("hr",null,null,-1);function w(t,i,a,o,c,d){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",l,[(0,s._)("div",n,[(0,s._)("a",{role:"button",class:(0,e.C_)(["navbar-burger",{"is-active":!c.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:i[0]||(i[0]=(...t)=>d.menuNav&&d.menuNav(...t))},u,2)])]),(0,s._)("aside",{class:(0,e.C_)(["menu box",{"is-hidden-mobile":c.isActive,fixedMenu:c.isActive}]),style:{"background-color":"white",padding:"20px",height:"100vh"}},[h,(0,s._)("ul",p,[(0,s._)("li",null,[(0,s._)("a",{onClick:i[1]||(i[1]=(...t)=>d.navDoctors&&d.navDoctors(...t))},"Dashboard")]),(0,s._)("li",null,[(0,s._)("a",{onClick:i[2]||(i[2]=(...t)=>d.navProfile&&d.navProfile(...t))},"Profile")])]),r,(0,s._)("ul",g,[(0,s._)("li",null,[(0,s._)("a",{onClick:i[3]||(i[3]=(...t)=>d.navChangePass&&d.navChangePass(...t))},"Registration and Password")])]),m,(0,s._)("ul",v,[_,(0,s._)("li",null,[(0,s._)("a",{onClick:i[4]||(i[4]=t=>this.$router.push("/contactus"))},"Contact Us")])]),k,(0,s._)("button",{class:"button is-danger",onClick:i[5]||(i[5]=(...t)=>d.logout&&d.logout(...t))},"Logout")],2)],64)}var D=a(9669),b=a.n(D),y={name:"ManagerMenu",data(){return{isActive:!0,managerHospital:""}},async mounted(){await b().get("/session/manager").then((t=>this.managerHospital=t.data.hospital))},methods:{async logout(){await b()["delete"]("/session/manager"),await this.$store.commit("managerHospital",null),await this.$router.push("/user/manager/login")},menuNav(){this.isActive=!this.isActive},navProfile(){this.$router.push(`/user/manager/${this.managerHospital}/profile`)},navDoctors(){this.$router.push(`/user/manager/${this.managerHospital}`)},navChangePass(){this.$router.push(`/user/manager/${this.managerHospital}/security`)}}},f=a(3744);const C=(0,f.Z)(y,[["render",w]]);var S=C},8842:function(t,i,a){a.r(i),a.d(i,{default:function(){return Zt}});var s=a(6252),e=a(3577),l=a(9963);const n=t=>((0,s.dD)("data-v-68efead0"),t=t(),(0,s.Cn)(),t),o=n((()=>(0,s._)("div",{class:"modal-background"},null,-1))),c=n((()=>(0,s._)("div",{class:"modal-content loader"},null,-1))),d=[o,c],u={class:"columns"},h={class:"column is-2"},p={class:"column"},r={class:"section"},g={key:0,class:"notification is-light is-info"},m=(0,s.Uk)("To get started, upload a "),v=n((()=>(0,s._)("b",null,"photo",-1))),_=(0,s.Uk)(" of your hospital and fill in the details of your "),k=n((()=>(0,s._)("b",null,"description",-1))),w=(0,s.Uk)(" and "),D=n((()=>(0,s._)("b",null,"contacts",-1))),b=(0,s.Uk)(". Activation of the account is available when clicking "),y=n((()=>(0,s._)("b",null,'"Edit"',-1))),f=(0,s.Uk)(". "),C=[m,v,_,k,w,D,b,y,f],S={class:"box"},z={key:0,class:"image is-16by9"},H=["src"],M={id:"formUpload",action:"/api/imgUploadManager",method:"post",enctype:"multipart/form-data",style:{margin:"auto",width:"50%"},class:"field"},L={class:"control"},x=["value"],U=n((()=>(0,s._)("div",{class:"has-text-centered"},[(0,s._)("button",{type:"submit",value:"Upload",class:"button is-primary"},"Upload Photo")],-1))),q=n((()=>(0,s._)("br",null,null,-1))),$={class:"container is-max-desktop"},P={class:"block"},I=n((()=>(0,s._)("h1",{class:"title"},"Description:",-1))),A={key:0,class:"subtitle"},E={key:1,class:"form"},V={class:"control"},Y={class:"block"},K=n((()=>(0,s._)("h1",{class:"title"},"Contacts:",-1))),B={key:0},N={class:"subtitle"},Z={key:1},j={class:"subtitle"},F=["onClick"],R=n((()=>(0,s._)("br",null,null,-1))),T={key:2,class:"field has-addons"},G={class:"control"},Q={class:"control"},W=["disabled"],X={class:"columns"},J={class:"column"},O=n((()=>(0,s._)("h1",{class:"title"},"Latitude N",-1))),tt={key:0,class:"subtitle"},it={key:1,class:"field"},at=n((()=>(0,s._)("h1",{class:"title"},"Longitude E",-1))),st={key:2,class:"subtitle"},et={key:3,class:"field"},lt={class:"column"},nt=["src"],ot=n((()=>(0,s._)("br",null,null,-1))),ct=n((()=>(0,s._)("h1",{class:"title"},"Specializations offered",-1))),dt={key:3,class:"columns is-multiline"},ut={class:"column",id:"selectedSpecializations"},ht={key:4,class:"columns"},pt={class:"column"},rt=n((()=>(0,s._)("label",{class:"label"},"Selected Specializations",-1))),gt={class:"columns is-multiline"},mt={class:"column",id:"selectedSpecializations"},vt=["onClick"],_t={class:"column"},kt=n((()=>(0,s._)("label",{class:"label"},"Select Specializations",-1))),wt={class:"panel"},Dt={class:"panel-block"},bt={style:{"max-height":"20em",overflow:"auto"}},yt=["value"],ft=["onClick"],Ct={key:5,class:"control"},St={class:"radio"},zt=(0,s.Uk)(" Activate this account. "),Ht={key:0,class:"help"},Mt=(0,s.Uk)("Please make sure you have uploaded a "),Lt=n((()=>(0,s._)("b",null,"photo",-1))),xt=(0,s.Uk)(" of the hospital before activating it. To cancel this, just click "),Ut=n((()=>(0,s._)("b",null,'"Cancel Editing"',-1))),qt=(0,s.Uk)("."),$t=[Mt,Lt,xt,Ut,qt],Pt=n((()=>(0,s._)("br",null,null,-1))),It=["disabled"];function At(t,i,a,n,o,c){const m=(0,s.up)("ManagerMenuVue");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",{class:(0,e.C_)(["modal",{"is-active":o.loading}])},d,2),(0,s._)("div",u,[(0,s._)("div",h,[(0,s.Wm)(m)]),(0,s._)("div",p,[(0,s._)("section",r,["Inactive"==o.hospitalStatus?((0,s.wg)(),(0,s.iD)("div",g,C)):(0,s.kq)("",!0),(0,s._)("div",S,["Inactive"!==o.hospitalStatus?((0,s.wg)(),(0,s.iD)("figure",z,[(0,s._)("img",{src:`https://res.cloudinary.com/leindfraust/image/upload/v${(new Date).getMonth()}${(new Date).getDate()}/assets/managers/${o.managerHospital}.jpg`},null,8,H)])):(0,s.kq)("",!0),(0,s._)("form",M,[(0,s._)("div",L,[(0,s._)("input",{type:"hidden",name:"hospital",value:o.managerHospital},null,8,x),(0,s._)("input",{class:"input",type:"file",name:"imgFile",onClick:i[0]||(i[0]=(...t)=>c.imgSuccess&&c.imgSuccess(...t)),required:""}),U])]),q,o.editingMode?((0,s.wg)(),(0,s.iD)("a",{key:2,class:"has-text-danger",onClick:i[2]||(i[2]=(...t)=>c.editModeCancel&&c.editModeCancel(...t))},"[Cancel Editing]")):((0,s.wg)(),(0,s.iD)("a",{key:1,class:"has-text-info",onClick:i[1]||(i[1]=(...t)=>c.editMode&&c.editMode(...t))},"[Edit]")),(0,s._)("div",$,[(0,s._)("div",P,[I,o.editingMode?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",A,(0,e.zw)(o.description),1)),o.editingMode?((0,s.wg)(),(0,s.iD)("form",E,[(0,s._)("div",V,[(0,s.wy)((0,s._)("textarea",{class:"textarea","onUpdate:modelValue":i[3]||(i[3]=t=>o.editDescription=t),placeholder:"Edit description..."},null,512),[[l.nr,o.editDescription]])])])):(0,s.kq)("",!0)]),(0,s._)("div",Y,[K,o.editingMode?((0,s.wg)(),(0,s.iD)("ul",Z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.editContacts,((t,i)=>((0,s.wg)(),(0,s.iD)("li",{key:i},[(0,s._)("p",j,[(0,s.Uk)((0,e.zw)(t.contact)+" ",1),o.editingMode?((0,s.wg)(),(0,s.iD)("a",{key:0,class:"has-text-danger",onClick:i=>c.removeContact(t.contact)},"Remove",8,F)):(0,s.kq)("",!0)])])))),128))])):((0,s.wg)(),(0,s.iD)("ul",B,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.contacts,((t,i)=>((0,s.wg)(),(0,s.iD)("li",{key:i},[(0,s._)("p",N,(0,e.zw)(t.contact),1)])))),128))])),R,o.editingMode?((0,s.wg)(),(0,s.iD)("div",T,[(0,s._)("div",G,[(0,s.wy)((0,s._)("input",{class:"input",type:"number","onUpdate:modelValue":i[4]||(i[4]=t=>o.contact=t),placeholder:"Add contacts..."},null,512),[[l.nr,o.contact]])]),(0,s._)("div",Q,[(0,s._)("button",{type:"submit",class:"button is-light",onClick:i[5]||(i[5]=(...t)=>c.addContact&&c.addContact(...t)),disabled:""==o.contact},"+",8,W)])])):(0,s.kq)("",!0)]),(0,s._)("div",X,[(0,s._)("div",J,[O,o.editingMode?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",tt,(0,e.zw)(o.latitude),1)),o.editingMode?((0,s.wg)(),(0,s.iD)("div",it,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":i[6]||(i[6]=t=>o.editLatitude=t)},null,512),[[l.nr,o.editLatitude]])])):(0,s.kq)("",!0),at,o.editingMode?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",st,(0,e.zw)(o.longitude),1)),o.editingMode?((0,s.wg)(),(0,s.iD)("div",et,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":i[7]||(i[7]=t=>o.editLongitude=t)},null,512),[[l.nr,o.editLongitude]])])):(0,s.kq)("",!0)]),(0,s._)("div",lt,[""!==o.hospitalData?((0,s.wg)(),(0,s.iD)("iframe",{key:0,width:"500",height:"500",src:`https://maps.google.com/maps?q=${o.hospitalData.location.coordinates[1]},${o.hospitalData.location.coordinates[0]}&hl=es;z=14&output=embed`},null,8,nt)):(0,s.kq)("",!0)])])]),ot,ct,o.editingMode?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dt,[(0,s._)("div",ut,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.hospitalSpecializations,((t,i)=>((0,s.wg)(),(0,s.iD)("button",{key:i,class:"button",style:{margin:"5px"}},(0,e.zw)(t.specialist),1)))),128))])])),o.editingMode?((0,s.wg)(),(0,s.iD)("div",ht,[(0,s._)("div",pt,[rt,(0,s._)("div",gt,[(0,s._)("div",mt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.editHospitalSpecializations,((t,i)=>((0,s.wg)(),(0,s.iD)("button",{key:i,class:"button is-light",style:{margin:"5px"}},[(0,s.Uk)((0,e.zw)(t.specialist)+"Â  ",1),(0,s._)("span",{class:"has-text-danger",onClick:i=>c.undoSpecialization(t.specialist)},"X",8,vt)])))),128))])])]),(0,s._)("div",_t,[kt,(0,s._)("nav",wt,[(0,s._)("div",Dt,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":i[8]||(i[8]=t=>o.searchBar=t),placeholder:"Search"},null,512),[[l.nr,o.searchBar]])]),(0,s._)("div",bt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.specializationListIndexed,((t,i)=>((0,s.wg)(),(0,s.iD)("div",{class:"panel-block",key:i,value:t},[(0,s._)("a",{onClick:i=>c.selectSpecialization(t)},(0,e.zw)(t),9,ft)],8,yt)))),128))])])])])):(0,s.kq)("",!0),"Inactive"==o.hospitalStatus&&o.editingMode?((0,s.wg)(),(0,s.iD)("div",Ct,[(0,s._)("label",St,[(0,s._)("input",{type:"radio",onClick:i[9]||(i[9]=(...t)=>c.activateAccount&&c.activateAccount(...t))}),zt]),o.activate?((0,s.wg)(),(0,s.iD)("p",Ht,$t)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),Pt,o.editingMode?((0,s.wg)(),(0,s.iD)("button",{key:6,class:"button is-danger",onClick:i[10]||(i[10]=(...t)=>c.saveProfileEdit&&c.saveProfileEdit(...t)),disabled:""==o.editDescription||0==o.editContacts.length||""==o.editLatitude||""==o.editLongitude},(0,e.zw)("Inactive"===o.hospitalStatus&&o.activate?"Save changes and activate this account":"Save changes"),9,It)):(0,s.kq)("",!0)])])])])],64)}var Et=a(9669),Vt=a.n(Et),Yt=a(204),Kt={name:"ManagerProfile",components:{ManagerMenuVue:Yt.Z},async mounted(){this.loading=!0,await Vt().get("/session/manager").then((t=>this.managerHospital=t.data.hospital)),await Vt().get("/session/manager").then((t=>this.managerHospitalID=t.data._id)),await Vt().get("/api/manager").then((t=>this.hospitalData=t.data.find((t=>t._id==this.managerHospitalID)))),this.hospitalStatus=await this.hospitalData.status,this.latitude=await this.hospitalData.location.coordinates[1],this.longitude=await this.hospitalData.location.coordinates[0],this.hospitalSpecializations=await this.hospitalData.specializations,console.log(this.hospitalSpecializations),"Inactive"!==this.hospitalStatus&&(this.description=await this.hospitalData.details[0].description,this.contacts=await this.hospitalData.details[0].contacts,this.latitude=await this.hospitalData.location.coordinates[1],this.longitude=await this.hospitalData.location.coordinates[0],this.hospitalSpecializations=await this.hospitalData.specializations),this.loading=!1},computed:{specializationListIndexed(){return this.specializationList.filter((t=>t.toLowerCase().includes(this.searchBar.toLowerCase())))}},data(){return{searchBar:"",specializationList:this.$store.getters.getSpecializationList,loading:!1,hospitalStatus:"",activate:!1,managerHospital:"",managerHospitalID:"",editingMode:!1,editDescription:"",editContacts:[],editLatitude:"",editLongitude:"",hospitalSpecializations:[],editHospitalSpecializations:[],latitude:"",longitude:"",description:"",contact:"",contacts:[],hospitalData:"",details:[],coordinates:[]}},methods:{async imgSuccess(){this.$store.commit("imgSuccessManager",!0)},editMode(){this.editingMode=!0,this.editDescription=this.description,this.editContacts=[...this.contacts],this.editLatitude=this.latitude,this.editLongitude=this.longitude,this.editHospitalSpecializations=[...this.hospitalSpecializations]},editModeCancel(){this.editingMode=!1,this.editDescription="",this.editContacts=[],this.editLatitude="",this.editLongitude="",this.editHospitalSpecializations=[],"Inactive"==this.hospitalStatus&&(this.activate=!1)},addContact(){this.editContacts.push({contact:this.contact}),this.contact=""},removeContact(t){this.editContacts=this.editContacts.filter((i=>i.contact!==t))},activateAccount(){this.activate=!0},selectSpecialization(t){this.editHospitalSpecializations.find((i=>i.specialist===t))||this.editHospitalSpecializations.push({specialist:t})},undoSpecialization(t){this.editHospitalSpecializations=this.editHospitalSpecializations.filter((i=>i.specialist!==t))},async saveProfileEdit(){""!==this.editDescription&&0!==this.editContacts.length&&""!==this.editLongitude&&""!==this.editLongitude&&this.editHospitalSpecializations&&(this.details.push({description:this.editDescription,contacts:this.editContacts}),this.coordinates.push(this.editLongitude,this.editLatitude),this.activate?await Vt().put(`/api/manager/${this.managerHospitalID}`,{details:this.details,specializations:this.editHospitalSpecializations,location:{type:"Point",coordinates:this.coordinates},status:"Active"}).catch((t=>console.log(t))):await Vt().put(`/api/manager/${this.managerHospitalID}`,{details:this.details,specializations:this.editHospitalSpecializations,location:{type:"Point",coordinates:this.coordinates}}).catch((t=>console.log(t))),await Vt().get("/api/manager").then((t=>this.hospitalData=t.data.find((t=>t._id==this.managerHospitalID)))),this.description=await this.hospitalData.details[0].description,this.contacts=await this.hospitalData.details[0].contacts,this.hospitalStatus=await this.hospitalData.status,this.latitude=await this.hospitalData.location.coordinates[1],this.longitude=await this.hospitalData.location.coordinates[0],this.hospitalSpecializations=await this.hospitalData.specializations,this.editingMode=!1,this.editDescription="",this.editContacts=[],this.editLongitude="",this.editLatitude="",this.editHospitalSpecializations=[],this.details=[],this.coordinates=[],this.activate=!1)}}},Bt=a(3744);const Nt=(0,Bt.Z)(Kt,[["render",At],["__scopeId","data-v-68efead0"]]);var Zt=Nt}}]);
//# sourceMappingURL=842.9b5860c4.js.map