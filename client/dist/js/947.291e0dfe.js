"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[947],{9714:function(i,s,t){t.d(s,{Z:function(){return Z}});var a=t(6252),e=t(3577);const l=i=>((0,a.dD)("data-v-3db74c99"),i=i(),(0,a.Cn)(),i),o={class:"navbar is-hidden-desktop"},n={class:"navbar-brand"},c={class:"navbar-item"},d={class:"label"},r=l((()=>(0,a._)("span",{"aria-hidden":"true"},null,-1))),p=l((()=>(0,a._)("span",{"aria-hidden":"true"},null,-1))),u=l((()=>(0,a._)("span",{"aria-hidden":"true"},null,-1))),h=[r,p,u],m={class:"has-text-centered block",style:{padding:"5px"}},g={class:"is-hidden-mobile is-hidden-touch image image-outer is-square",style:{margin:"auto"}},b=["src"],v={key:0,class:"title is-6"},_={class:"menu-list block"},f=l((()=>(0,a._)("p",{class:"menu-label"},"General",-1))),w=l((()=>(0,a._)("p",{class:"menu-label"},"Verification and Information",-1))),y=l((()=>(0,a._)("p",{class:"menu-label"},"Support",-1))),k={class:"block has-text-centered"};function C(i,s,t,l,r,p){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("nav",o,[(0,a._)("div",n,[(0,a._)("a",c,[(0,a._)("label",d,"Dr. "+(0,e.zw)(i.$store.state.doctorName),1)]),(0,a._)("a",{role:"button",class:(0,e.C_)(["navbar-burger",{"is-active":!r.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:s[0]||(s[0]=(...i)=>p.menuNav&&p.menuNav(...i))},h,2)])]),(0,a._)("aside",{class:(0,e.C_)(["menu box",{"is-hidden-mobile":r.isActive,fixedMenu:r.isActive}]),style:{"background-color":"#D8E5FF",padding:"20px"}},[(0,a._)("div",m,[(0,a._)("figure",g,[(0,a._)("img",{class:"is-rounded image-inner",src:`http://res.cloudinary.com/leindfraust/image/upload/v${(new Date).getMonth()}${(new Date).getDate()}/assets/doctors/${r.alias}.jpg`},null,8,b)]),r.isActive?((0,a.wg)(),(0,a.iD)("h5",v,"Dr. "+(0,e.zw)(i.$store.state.doctorName),1)):(0,a.kq)("",!0)]),(0,a._)("ul",_,[f,(0,a._)("li",null,[(0,a._)("a",{onClick:s[1]||(s[1]=(...i)=>p.routeHome&&p.routeHome(...i))},"Appointments")]),(0,a._)("li",null,[(0,a._)("a",{onClick:s[2]||(s[2]=(...i)=>p.openPatientHistory&&p.openPatientHistory(...i))},"Appointment History")]),(0,a._)("li",null,[(0,a._)("a",{onClick:s[3]||(s[3]=(...i)=>p.openPatientAppointmentsCancelled&&p.openPatientAppointmentsCancelled(...i))},"Cancelled Appointments")]),(0,a._)("li",null,[(0,a._)("a",{onClick:s[4]||(s[4]=(...i)=>p.openSchedule&&p.openSchedule(...i))},"Schedule")]),w,(0,a._)("li",null,[(0,a._)("a",{onClick:s[5]||(s[5]=(...i)=>p.openProfile&&p.openProfile(...i))},"Profile")]),(0,a._)("li",null,[(0,a._)("a",{onClick:s[6]||(s[6]=(...i)=>p.openSecurity&&p.openSecurity(...i))},"Security")]),(0,a._)("li",null,[(0,a._)("a",{onClick:s[7]||(s[7]=(...i)=>p.openPayment&&p.openPayment(...i))},"Payment")]),y,(0,a._)("li",null,[(0,a._)("a",{onClick:s[8]||(s[8]=i=>this.$router.push("/contactus"))},"Contact Us")])]),(0,a._)("div",k,[(0,a._)("button",{onClick:s[9]||(s[9]=(...i)=>p.logout&&p.logout(...i)),class:"button is-link is-rounded",type:"button"},"Logout")])],2)],64)}var D=t(4239),A=t(594),$={name:"AdminMenu",data(){return{alias:D.Z.state.alias,isActive:!0}},methods:{async logout(){D.Z.commit("alias",null),await A.Z["delete"]("/session/doctor"),await this.$router.push("/doctor/login")},async routeHome(){await this.$router.push(`/doctor/${this.alias}/appointments`)},async openProfile(){await this.$router.push(`/doctor/${this.alias}/profile`)},async openPatientHistory(){await this.$router.push(`/doctor/${this.alias}/appointments/history`)},async openPatientAppointmentsCancelled(){await this.$router.push(`/doctor/${this.alias}/appointments/cancelled`)},async openSecurity(){await this.$router.push(`/doctor/${this.alias}/security`)},async openSchedule(){await this.$router.push(`/doctor/${this.alias}/schedule`)},async openPayment(){await this.$router.push(`/doctor/${this.alias}/payment`)},menuNav(){this.isActive=!this.isActive}}},O=t(3744);const S=(0,O.Z)($,[["render",C],["__scopeId","data-v-3db74c99"]]);var Z=S},2947:function(i,s,t){t.r(s),t.d(s,{default:function(){return Oi}});var a=t(6252),e=t(9963),l=t(3577);const o=i=>((0,a.dD)("data-v-1b4be9b1"),i=i(),(0,a.Cn)(),i),n={class:"main-doctor"},c={class:"columns"},d={class:"column is-2"},r={class:"column"},p={class:"section"},u=o((()=>(0,a._)("h1",{class:"title"},"PROFILE",-1))),h={class:"container box is-fluid"},m={key:0,class:"message is-danger"},g=o((()=>(0,a._)("div",{class:"message-header"},[(0,a._)("p",null,"YOU ARE NOT VERIFIED ❌")],-1))),b=o((()=>(0,a._)("div",{class:"message-body"},[(0,a.Uk)(" To get started, please visit "),(0,a._)("b",null,"Security"),(0,a.Uk)(" tab under "),(0,a._)("b",null,"VERIFICATION AND INFORMATION.")],-1))),v=[g,b],_={key:1,class:"message is-success"},f=o((()=>(0,a._)("div",{class:"message-header"},[(0,a._)("p",null,"YOU ARE VERIFIED ✓")],-1))),w=o((()=>(0,a._)("div",{class:"message-body"},[(0,a.Uk)(" Your basic information is "),(0,a._)("b",null,"locked"),(0,a.Uk)(". To edit, please go to the "),(0,a._)("b",null,"Security"),(0,a.Uk)(" tab. ")],-1))),y=[f,w],k={class:"columns"},C={class:"column is-4"},D={id:"formUpload",action:"/api/imgUpload",method:"post",enctype:"multipart/form-data"},A={class:"image image-outer is-square"},$=["src"],O=["src"],S=(0,a.uE)('<div class="buttons is-hidden-mobile" style="bottom:5%;right:10%;position:absolute;" data-v-1b4be9b1><label for="file-input" style="cursor:pointer;" data-v-1b4be9b1><a class="button is-medium is-responsive" data-v-1b4be9b1><i class="fa-solid fa-camera" data-v-1b4be9b1></i></a></label></div><div class="buttons is-hidden-desktop" style="bottom:15%;left:75%;position:absolute;" data-v-1b4be9b1><label for="file-input" style="cursor:pointer;" data-v-1b4be9b1><a class="button is-medium is-responsive" data-v-1b4be9b1><i class="fa-solid fa-camera" data-v-1b4be9b1></i></a></label></div>',2),Z={class:"control"},H=["value"],P={key:0,class:"buttons is-centered"},N=o((()=>(0,a._)("button",{type:"submit",value:"Upload",class:"button is-info"},"Upload Picture",-1))),U={class:"column"},x={class:"field"},I=o((()=>(0,a._)("label",{class:"label"},[(0,a._)("b",null,"License No.")],-1))),z={class:"control"},F=["disabled"],R={class:"field is-horizontal"},V={class:"field-body"},q={class:"field"},E=o((()=>(0,a._)("label",{class:"label"},[(0,a._)("b",null,"Full Name:")],-1))),M={class:"control"},L=["disabled"],Y={class:"field"},T=o((()=>(0,a._)("label",{class:"label"},[(0,a._)("b",null,"Gmail:")],-1))),j={class:"control"},K=["disabled"],G={class:"field"},B={class:"control"},W={key:1,class:"notification is-success is-light"},J={class:"field"},Q=o((()=>(0,a._)("label",{class:"label"},[(0,a._)("b",null,"Managed Hospitals:")],-1))),X={class:"control"},ii={class:"buttons"},si=["onClick"],ti={class:"field"},ai=o((()=>(0,a._)("label",{class:"label"},[(0,a._)("b",null,"Specializations:")],-1))),ei={class:"control"},li=["onClick"],oi={class:"dropdown-trigger"},ni={class:"dropdown-menu"},ci=["onClick"],di=o((()=>(0,a._)("div",{class:"modal-background"},null,-1))),ri={class:"modal-content"},pi={class:"section box"},ui={key:0,class:"notification is-danger"},hi={key:1,class:"notification is-warning"},mi={class:"field"},gi=o((()=>(0,a._)("label",{class:"label"},"Input the hospital's registration code.",-1))),bi={class:"control"},vi=o((()=>(0,a._)("br",null,null,-1))),_i={class:"has-text-centered"},fi=["disabled"];function wi(i,s,t,o,g,b){const f=(0,a.up)("DoctorMenu");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",c,[(0,a._)("div",d,[(0,a.Wm)(f)]),(0,a._)("div",r,[(0,a._)("section",p,[u,(0,a._)("div",h,[g.verified?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("article",m,v)),g.verified?((0,a.wg)(),(0,a.iD)("article",_,y)):(0,a.kq)("",!0),(0,a._)("div",k,[(0,a._)("div",C,[(0,a._)("form",D,[(0,a._)("figure",A,[g.imgPreviewFile?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"is-rounded image-inner",src:g.imgPreviewFile},null,8,$)):((0,a.wg)(),(0,a.iD)("img",{key:1,class:"is-rounded image-inner",src:`http://res.cloudinary.com/leindfraust/image/upload/v${(new Date).getMonth()}${(new Date).getDate()}/assets/doctors/${g.alias}.jpg`},null,8,O)),S]),(0,a._)("div",Z,[(0,a._)("input",{type:"hidden",name:"alias",value:g.alias},null,8,H),(0,a._)("input",{class:"input is-hidden",id:"file-input",type:"file",name:"imgFile",onChange:s[0]||(s[0]=i=>b.handleFile(i)),required:""},null,32)]),g.fileReady?((0,a.wg)(),(0,a.iD)("div",P,[(0,a._)("button",{type:"button",class:"button",onClick:s[1]||(s[1]=i=>(g.fileReady=!1,g.imgPreviewFile=null))},"Cancel"),N])):(0,a.kq)("",!0)])]),(0,a._)("div",U,[(0,a._)("div",x,[I,(0,a._)("div",z,[(0,a.wy)((0,a._)("input",{class:"input",type:"text","onUpdate:modelValue":s[2]||(s[2]=i=>g.licenseNo=i),style:{width:"33%"},disabled:1==g.verified},null,8,F),[[e.nr,g.licenseNo]])])]),(0,a._)("div",R,[(0,a._)("div",V,[(0,a._)("div",q,[E,(0,a._)("div",M,[(0,a.wy)((0,a._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":s[3]||(s[3]=i=>g.fullname=i),disabled:1==g.verified},null,8,L),[[e.nr,g.fullname]])])]),(0,a._)("div",Y,[T,(0,a._)("div",j,[(0,a.wy)((0,a._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":s[4]||(s[4]=i=>g.gmail=i),disabled:1==g.verified},null,8,K),[[e.nr,g.gmail]])])])])]),(0,a._)("div",G,[(0,a._)("div",B,[g.verified?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,class:"button is-link",type:"button",onClick:s[5]||(s[5]=(...i)=>b.updateInfo&&b.updateInfo(...i))},"Save changes")),g.infoValidate?((0,a.wg)(),(0,a.iD)("div",W,(0,l.zw)(g.infoValidateMessage),1)):(0,a.kq)("",!0)])]),(0,a._)("div",J,[Q,(0,a._)("div",X,[(0,a._)("div",ii,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.hospitalOrigin,(i=>((0,a.wg)(),(0,a.iD)("button",{class:"button",key:i.hospital},[(0,a.Uk)((0,l.zw)(i.hospital)+"  ",1),(0,a._)("span",{class:"has-text-danger",onClick:s=>b.pullHospital(i.hospital)},"x",8,si)])))),128)),(0,a.Uk)("  "),(0,a._)("button",{onClick:s[6]||(s[6]=i=>g.modalActive=!g.modalActive),class:"button"},"+")])])]),(0,a._)("div",ti,[ai,(0,a._)("div",ei,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.specialist,((i,s)=>((0,a.wg)(),(0,a.iD)("button",{class:"button",style:{margin:"5px"},key:s},[(0,a.Uk)((0,l.zw)(i)+"  ",1),(0,a._)("span",{class:"has-text-danger",onClick:s=>b.pullSpecialization(i)},"x",8,li)])))),128)),(0,a.Uk)("  "),(0,a._)("div",{class:(0,l.C_)(["dropdown",{"is-active":g.isActiveDropdownSpecialist}])},[(0,a._)("div",oi,[(0,a._)("button",{onClick:s[7]||(s[7]=(...i)=>b.dropdownSpecialist&&b.dropdownSpecialist(...i)),class:"button"},"+")]),(0,a._)("div",ni,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.specializationList,((i,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"dropdown-content",key:s},[(0,a._)("a",{class:"dropdown-item",onClick:s=>b.addSpecialization(i)},(0,l.zw)(i),9,ci)])))),128))])],2)])])])])]),(0,a._)("div",{class:(0,l.C_)(["modal",{"is-active":g.modalActive}])},[di,(0,a._)("div",ri,[(0,a._)("section",pi,[g.errorCode?((0,a.wg)(),(0,a.iD)("div",ui,"Invalid registration code.")):(0,a.kq)("",!0),g.duplicateHospital?((0,a.wg)(),(0,a.iD)("div",hi,"Hospital has already been registered")):(0,a.kq)("",!0),(0,a._)("div",mi,[gi,(0,a._)("div",bi,[(0,a.wy)((0,a._)("input",{class:"input","onUpdate:modelValue":s[8]||(s[8]=i=>g.registrationCode=i),type:"text",placeholder:"registration code"},null,512),[[e.nr,g.registrationCode]])]),vi,(0,a._)("div",_i,[(0,a._)("button",{class:"button is-info",onClick:s[9]||(s[9]=(...i)=>b.addHospital&&b.addHospital(...i)),disabled:""==g.registrationCode},"Confirm",8,fi)])])])]),(0,a._)("button",{class:"modal-close is-large","aria-label":"close",onClick:s[10]||(s[10]=(...i)=>b.modalClose&&b.modalClose(...i))})],2)])])])])}var yi=t(4239),ki=t(594),Ci=t(9714),Di={name:"DoctorProfile",data(){return{alias:yi.Z.state.alias,fullname:null,password:null,passwordRepeat:null,infoValidate:null,infoValidateMessage:null,doctorDetails:null,id:null,profileImg:yi.Z.state.profileImg,hospitalOrigin:null,specialist:null,hospital:null,gmail:null,specializationList:this.$store.getters.getSpecializationList,hospitalList:[],isActiveDropdownSpecialist:!1,licenseNo:null,verified:null,modalActive:!1,registrationCode:"",errorCode:!1,duplicateHospital:!1,codeSent:!1,selectedHospital:"",fileReady:!1,imgPreviewFile:null}},components:{DoctorMenu:Ci.Z},async mounted(){await ki.Z.get("/session/doctor").then((i=>this.doctorDetails=i.data)),this.verified=await this.doctorDetails.verified,this.licenseNo=await this.doctorDetails.licenseNo,this.fullname=await this.doctorDetails.fullname,this.id=await this.doctorDetails._id,this.specialist=await this.doctorDetails.specialist,this.gmail=await this.doctorDetails.gmail,this.hospitalOrigin=await this.doctorDetails.hospitalOrigin,await ki.Z.get("/api/manager").then((i=>this.hospitalList=i.data))},methods:{async updateInfo(){this.verified||(await ki.Z.put(`/api/doctor/${this.id}`,{licenseNo:this.licenseNo,name:this.fullname,gmail:this.gmail}),await ki.Z.put("/session/doctor",{licenseNo:this.licenseNo,name:this.fullname,gmail:this.gmail}),await ki.Z.get("/session/doctor").then((i=>this.fullname=i.data.fullname)),this.infoValidate=!0,this.infoValidateMessage="changes saved successfully")},handleFile(i){this.imgPreviewFile=URL.createObjectURL(i.target.files[0]),this.fileReady=!0,yi.Z.commit("imgSuccess",!0)},showPass(){let i=document.getElementsByClassName("password");for(let s=0;s<i.length;s++)"password"===i[s].type?i[s].type="text":i[s].type="password"},dropdownSpecialist(){this.isActiveDropdownSpecialist=!this.isActiveDropdownSpecialist},async addSpecialization(i){this.specialist.find((s=>s===i))||(this.specialist.push(i),this.isActiveDropdownSpecialist=!1,await ki.Z.put(`/api/doctor/${this.id}`,{specialist:this.specialist}),await ki.Z.put("/session/doctor",{specialist:this.specialist}),await ki.Z.get("/session/doctor").then((i=>this.specialist=i.data.specialist)))},async addHospital(){this.errorCode=!1,this.duplicateHospital=!1,await ki.Z.post("/api/doctor/check_registrationCode",{registrationCode:this.registrationCode}).then((i=>this.hospital=i.data)),this.hospital?this.hospitalOrigin.find((i=>i.hospital==this.hospital.hospital))?this.duplicateHospital=!0:(this.hospitalOrigin.push({hospital:this.hospital.hospital}),await ki.Z.put(`/api/doctor/${this.id}`,{hospitalOrigin:this.hospitalOrigin}),await ki.Z.put("/session/doctor",{hospitalOrigin:this.hospitalOrigin}),await ki.Z.get("/session/doctor").then((i=>this.hospitalOrigin=i.data.hospitalOrigin)),this.modalActive=!1):this.errorCode=!0},async pullSpecialization(i){this.specialist=this.specialist.filter((s=>s!==i)),await ki.Z.put(`/api/doctor/${this.id}`,{specialist:this.specialist}),await ki.Z.put("/session/doctor",{specialist:this.specialist}),await ki.Z.get("/session/doctor").then((i=>this.specialist=i.data.specialist))},async pullHospital(i){this.hospitalOrigin=this.hospitalOrigin.filter((s=>s.hospital!==i)),await ki.Z.put(`/api/doctor/${this.id}`,{hospitalOrigin:this.hospitalOrigin}),await ki.Z.put("/session/doctor",{hospitalOrigin:this.hospitalOrigin}),await ki.Z.get("/session/doctor").then((i=>this.hospitalOrigin=i.data.hospitalOrigin))},modalClose(){this.modalActive=!1}}},Ai=t(3744);const $i=(0,Ai.Z)(Di,[["render",wi],["__scopeId","data-v-1b4be9b1"]]);var Oi=$i}}]);
//# sourceMappingURL=947.291e0dfe.js.map