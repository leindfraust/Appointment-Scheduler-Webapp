{"version":3,"file":"js/484.9ce0ae9b.js","mappings":"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","sources":["webpack://client/./src/views/PortalDoctor/DoctorPatientHistory.vue","webpack://client/./src/views/PortalDoctor/DoctorPatientHistory.vue?2dd8"],"sourcesContent":["<template>\r\n  <div class=\"main-doctor\">\r\n    <div class=\"columns\">\r\n      <div class=\"column is-2\">\r\n        <DoctorMenu />\r\n      </div>\r\n      <div class=\"column\">\r\n        <div class=\"modal\" :class=\"{ 'is-active': isActiveModal }\">\r\n          <div class=\"modal-background\"></div>\r\n          <div class=\"modal-content\">\r\n            <div class=\"section box\">\r\n              <div class=\"field is-horizontal\">\r\n                <div class=\"field-body\">\r\n                  <div class=\"field\">\r\n                    <div class=\"control\">\r\n                      <label class=\"label\">From:</label>\r\n                      <input class=\"input\" type=\"text\" :value=\"'Dr. ' + doctorName\" disabled />\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"field\">\r\n                    <div class=\"control\">\r\n                      <div class=\"label\">To(Patient):</div>\r\n                      <input class=\"input\" type=\"text\" :value=\"selectedPatient\" disabled />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"control\">\r\n                  <label class=\"label\">Attach an image(optional):</label>\r\n                  <input class=\"input\" type=\"file\" @change=\"handleFile($event)\" />\r\n                </div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"control\">\r\n                  <label class=\"label\">Subject: </label>\r\n                  <input class=\"input\" type=\"text\" placeholder=\"Subject\" v-model=\"titleMsg\" />\r\n                </div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"control\">\r\n                  <label class=\"label\">Message:</label>\r\n                  <textarea class=\"textarea\" placeholder=\"Message\" v-model=\"noticeMsg\">default value</textarea>\r\n                </div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"control has-text-right\">\r\n                  <button class=\"button is-primary\" :class=\"{ 'is-loading': loadingButton }\" @click=\"sendNotif\"\r\n                    :disabled=\"selectedPatient == '' || noticeMsg == ''\">Send</button>\r\n                </div>\r\n              </div>\r\n              <p v-if=\"notificationSent\" class=\"has-text-success\">\r\n                A message has been sent to\r\n                <b>{{ messageSuccessSelectedPatient }}</b>.\r\n              </p>\r\n              <a class=\"button is-size-6 has-text-danger is-pulled-right\" @click=\"clearMsgPrompt = true\">Clear message\r\n                history</a>\r\n              <p class=\"subtitle\">Messaging History</p>\r\n              <div class=\"container\" v-if=\"clearMsgPrompt\">\r\n                <p class=\"subtitle is-size-6 has-text-right\">Are you sure you want to delete all messages?</p>\r\n                <div class=\"buttons is-right\">\r\n                  <button class=\"button\" @click=\"clearNotif\">Yes</button>\r\n                  <button class=\"button\" @click=\"clearMsgPrompt = false\">No</button>\r\n                </div>\r\n              </div>\r\n              <div v-if=\"Object.keys(messageHistory).length !== 0\">\r\n                <div class=\"container\" v-for=\"(message, index) in messageHistory\" :key=\"index\">\r\n                  <div class=\"notification\" style=\"margin: 5%\">\r\n                    <div class=\"content\">\r\n                      <p>To: {{ message.to }}</p>\r\n                      <p>Subject: {{ message.subject }}</p>\r\n                      <p>Message: {{ message.message }}</p>\r\n                      <div v-if=\"message.id\">\r\n                        <figure class=\"image is-square\">\r\n                          <img loading=\"lazy\"\r\n                            :src=\"`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/doctorCopy/${$store.state.doctorID + message.id}.jpg`\" />\r\n                        </figure>\r\n                        <div class=\"has-text-centered\">\r\n                          <a :href=\"`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/doctorCopy/${$store.state.doctorID + message.id}.jpg`\"\r\n                            class=\"button\" download>Download File</a>\r\n                        </div>\r\n                      </div>\r\n                      <br />\r\n                      <p>Date: {{ new Date(message.date).toLocaleString() }}</p>\r\n                    </div>\r\n                    <button class=\"delete\" @click=\"deleteNotif(message)\"></button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div v-else>\r\n                <p>No past messages yet.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button class=\"modal-close is-large\" aria-label=\"close\" @click=\"sendNotifInactive\"></button>\r\n        </div>\r\n        <section class=\"section\">\r\n          <CatchError :err-msg=\"errMsg\" />\r\n          <div class=\"container is-widescreen is-fullhd\" style=\"padding: 15\">\r\n            <h1 class=\"title\">\r\n              APPOINTMENT HISTORY\r\n            </h1>\r\n            <div class=\"field\" v-if=\"appointmentSched.length !== 0\">\r\n              <div class=\"control\">\r\n                <input class=\"input\" type=\"text\" style=\"width: 50% !important\" v-model=\"searchBar\"\r\n                  placeholder=\"Search...\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"container\" v-if=\"Object.keys(appointmentSchedules).length !== 0\">\r\n              <div class=\"box\" v-for=\"(appointmentList, index) in appointmentSchedules\" :key=\"index\"\r\n                :class=\"{ 'is-hidden': new Date(index).toDateString() == new Date().toDateString() }\">\r\n                <h1 class=\"subtitle has-text-black\">Schedule: {{ new Date(index).toDateString() }}</h1>\r\n                <div class=\"table-container\">\r\n                  <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th class=\"has-text-black-ter\">Controls</th>\r\n                        <th class=\"has-text-black-ter\">Reference ID</th>\r\n                        <th class=\"has-text-black-ter\">Priority No.</th>\r\n                        <th class=\"has-text-black-ter\">Hospital Appointed</th>\r\n                        <th class=\"has-text-black-ter\">First Name</th>\r\n                        <th class=\"has-text-black-ter\">Last Name</th>\r\n                        <th class=\"has-text-black-ter\">Contact Number</th>\r\n                        <th class=\"has-text-black-ter\">Birthday</th>\r\n                        <th class=\"has-text-black-ter\">Symptoms/Comments</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"appointments in appointmentList\" :key=\"appointments._id\">\r\n                        <button class=\"button is-info is-light\"\r\n                          @click=\"sendNotifActive(appointments.patientID, appointments.firstName, appointments.lastName)\">Send\r\n                          a notification</button>\r\n                        <th class=\"has-text-black-ter\">{{ appointments.referenceID }}</th>\r\n                        <th class=\"has-text-black-ter\">{{ appointments.priorityNum }}</th>\r\n                        <th class=\"has-text-black-ter\">{{ appointments.hospital }}</th>\r\n                        <td class=\"has-text-black-ter\">{{ appointments.firstName }}</td>\r\n                        <td class=\"has-text-black-ter\">{{ appointments.lastName }}</td>\r\n                        <td class=\"has-text-black-ter\">{{ appointments.contactNum }}</td>\r\n                        <td class=\"has-text-black-ter\">{{ appointments.birthDay }}</td>\r\n                        <td class=\"has-text-black-ter\" style=\"white-space: pre-wrap;\">{{ appointments.comments }}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"notification is-info\" v-else>No previous appointments.</div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nimport groupBy from 'lodash/groupBy'\r\nimport CatchError from '../../components/CatchError.vue'\r\nimport DoctorMenu from \"../../components/DoctorMenu.vue\"\r\nimport socket from '../../socket'\r\n\r\nexport default {\r\n  name: \"PatientLogs\",\r\n  components: {\r\n    DoctorMenu,\r\n    CatchError\r\n  },\r\n  async mounted() {\r\n    await axios.post('/api/appointmentList/doctors', { id: this.$store.state.doctorID, ongoing: false }).then(response => this.appointmentSched = response.data);\r\n    await axios.get('/session/doctor').then(response => this.doctorName = response.data.fullname)\r\n    await axios.get('/session/doctor').then(response => this.messageHistory = response.data.messageHistory.reverse())\r\n  },\r\n  data() {\r\n    return {\r\n      errMsg: '',\r\n      clearMsgPrompt: false,\r\n      loadingButton: false,\r\n      searchBar: \"\",\r\n      appointmentSched: [],\r\n      alias: this.$store.state.alias,\r\n      file: null,\r\n      isActiveModal: false,\r\n      selectedPatient: '',\r\n      messageSuccessSelectedPatient: '',\r\n      refID: '',\r\n      doctorName: '',\r\n      titleMsg: '',\r\n      noticeMsg: 'Dear',\r\n      notificationSent: false,\r\n      messageHistory: []\r\n    }\r\n  },\r\n  computed: {\r\n    appointmentSchedules() {\r\n      if (this.appointmentSched) {\r\n        return groupBy(\r\n          this.appointmentSched.filter((x) => {\r\n            return (\r\n              x.firstName.toLowerCase().includes(this.searchBar.toLowerCase()) ||\r\n              x.lastName.toLowerCase().includes(this.searchBar.toLowerCase()) ||\r\n              x.referenceID.toLowerCase().includes(this.searchBar.toLowerCase())\r\n            );\r\n          })\r\n            .sort((a, b) => {\r\n              return new Date(b.schedule[0].date).getTime() - new Date(a.schedule[0].date).getTime()\r\n            })\r\n          ,\r\n          \"schedule[0].date\"\r\n        );\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    sendNotifActive(id, firstName, lastName) {\r\n      this.isActiveModal = true\r\n      this.selectedPatient = firstName + \" \" + lastName\r\n      this.noticeMsg = `Dear Ms/Mr. ${this.selectedPatient},`\r\n      socket.connect()\r\n      socket.emit('join room', id)\r\n    },\r\n    sendNotifInactive() {\r\n      this.isActiveModal = false\r\n      this.selectedPatient = ''\r\n      socket.disconnect()\r\n    },\r\n    generateRefID() {\r\n      let result = '';\r\n      let characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n      let charactersLength = characters.length;\r\n      for (let i = 0; i < 12; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() *\r\n          charactersLength));\r\n      }\r\n      this.refID = result\r\n    },\r\n    async sendNotif() {\r\n      this.loadingButton = true\r\n      if (this.file) {\r\n        this.generateRefID()\r\n        const formData = new FormData()\r\n        formData.append('id', this.refID)\r\n        formData.append('doctorID', this.$store.state.doctorID)\r\n        formData.append('imgFile', this.file)\r\n\r\n        await axios.post(\"/api/imgUploadImgMsg\", formData, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\"\r\n          }\r\n        });\r\n      } else {\r\n        this.refID = null\r\n      }\r\n      let resMsg\r\n      this.messageSuccessSelectedPatient = this.selectedPatient\r\n      socket.emit('message', this.refID, this.titleMsg, this.noticeMsg, this.doctorName, new Date())\r\n      await axios.post('/api/pushMsg', {\r\n        id: this.$store.state.doctorID,\r\n        message: {\r\n          id: this.refID,\r\n          to: this.selectedPatient,\r\n          subject: this.titleMsg,\r\n          message: this.noticeMsg,\r\n          date: new Date(),\r\n        }\r\n      }).then(response => resMsg = response.data).catch(err => this.errMsg = err)\r\n      await axios.put('/session/doctor', {\r\n        messageHistory: resMsg\r\n      });\r\n      this.messageHistory = resMsg.reverse()\r\n      this.noticeMsg = ''\r\n      this.notificationSent = true\r\n      this.loadingButton = false\r\n    },\r\n    async deleteNotif(msg) {\r\n      let resMsg\r\n      try {\r\n        await axios.post('/api/imgUploadImgMsgDeleteDoctor', {\r\n          doctorID: 'assets/patientimgmsg/doctorCopy/' + this.$store.state.doctorID,\r\n          id: msg.id\r\n        });\r\n        await axios.post('/api/pullMsg', {\r\n          id: this.$store.state.doctorID,\r\n          message: msg\r\n        }).then(response => resMsg = response.data).catch(err => { this.errMsg = err })\r\n        await axios.put('/session/doctor', {\r\n          messageHistory: resMsg\r\n        });\r\n      } catch (err) {\r\n        this.errMsg = err\r\n      }\r\n      this.messageHistory = resMsg.reverse()\r\n    },\r\n    async clearNotif() {\r\n      try {\r\n        await axios.post('/api/imgUploadImgMsgClearDoctor', {\r\n          doctorID: this.$store.state.doctorID\r\n        });\r\n        await axios.post('/api/clearMsg', {\r\n          id: this.$store.state.doctorID\r\n        }).then(response => this.messageHistory = response.data).catch(err => this.errMsg = err)\r\n        await axios.put('/session/doctor', {\r\n          messageHistory: this.messageHistory\r\n        });\r\n      } catch (err) {\r\n        this.errMsg = err\r\n      }\r\n      this.clearMsgPrompt = false\r\n    },\r\n    handleFile(e) {\r\n      this.file = e.target.files[0]\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./DoctorPatientHistory.vue?vue&type=template&id=3a5f7840\"\nimport script from \"./DoctorPatientHistory.vue?vue&type=script&lang=js\"\nexport * from \"./DoctorPatientHistory.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\ronan\\\\Documents\\\\Projects\\\\Appointment-Scheduler-Webapp\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_hoisted_46","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_DoctorMenu","_hoisted_4","$data","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","type","value","disabled","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_20","onChange","$options","$event","_hoisted_21","_hoisted_22","_hoisted_23","placeholder","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","onClick","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","Object","keys","length","_Fragment","message","index","key","_hoisted_36","_hoisted_37","to","subject","id","_hoisted_39","loading","src","_ctx","state","doctorID","_hoisted_41","href","download","_hoisted_43","Date","date","toLocaleString","_hoisted_48","_component_CatchError","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","appointmentList","toDateString","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","appointments","_id","patientID","firstName","lastName","_hoisted_59","referenceID","_hoisted_60","priorityNum","_hoisted_61","hospital","_hoisted_62","_hoisted_63","_hoisted_64","contactNum","_hoisted_65","birthDay","_hoisted_66","comments","_hoisted_67","name","components","DoctorMenu","CatchError","async","axios","this","$store","ongoing","then","response","appointmentSched","data","doctorName","fullname","messageHistory","reverse","errMsg","clearMsgPrompt","loadingButton","searchBar","alias","file","isActiveModal","selectedPatient","messageSuccessSelectedPatient","refID","titleMsg","noticeMsg","notificationSent","computed","appointmentSchedules","groupBy","filter","x","toLowerCase","includes","sort","a","b","schedule","getTime","methods","sendNotifActive","socket","sendNotifInactive","generateRefID","result","characters","charactersLength","i","charAt","Math","floor","random","formData","FormData","append","headers","resMsg","catch","err","msg","handleFile","e","target","files","__exports__","render"],"sourceRoot":""}