"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[457],{1199:function(t,i,e){e.d(i,{Z:function(){return _t}});var a=e(6252),s=e(3577),n=e(475);const o=t=>((0,a.dD)("data-v-74b627be"),t=t(),(0,a.Cn)(),t),l={class:"navbar",role:"navigation","aria-label":"main navigation"},c={class:"navbar-brand"},r=o((()=>(0,a._)("a",{class:"navbar-item",href:"/"},[(0,a._)("img",{src:n})],-1))),d=o((()=>(0,a._)("span",{"aria-hidden":"true"},null,-1))),h=o((()=>(0,a._)("span",{"aria-hidden":"true"},null,-1))),m=o((()=>(0,a._)("span",{"aria-hidden":"true"},null,-1))),u=[d,h,m],p={class:"navbar-start is-hidden-desktop"},v=o((()=>(0,a._)("a",{class:"navbar-item"},"About",-1))),f={key:0,class:"navbar-end"},g={key:0,class:"has-text-danger"},_={class:"fa-solid fa-bell animate__animated animate__heartBeat animate__infinite"},b={class:"is-size-7"},w={key:1,class:"has-text-info"},D=o((()=>(0,a._)("i",{class:"fa-solid fa-bell"},null,-1))),y=[D],N={key:0,class:"navbar-dropdown is-right notif-list"},k=["onClick"],C={class:"help"},A=["onClick"],I={key:1,class:"navbar-dropdown is-right"},$=o((()=>(0,a._)("div",{class:"navbar-item"},"No new notifications.",-1))),S=[$],x={key:0,class:"navbar-item is-hidden-mobile"},z={key:0,class:"image"},Z=["src"],M={key:1,class:"image"},U=["src"],L={class:"navbar-dropdown is-right"},P=(0,a.Uk)("Profile"),T=(0,a.Uk)("Security"),F=o((()=>(0,a._)("hr",{class:"navbar-divider"},null,-1))),R=o((()=>(0,a._)("strong",null,"Logout",-1))),q=[R],V=o((()=>(0,a._)("i",{class:"fa-solid fa-bars"},null,-1))),j=[V],B={class:"navbar-dropdown is-right"},W=o((()=>(0,a._)("a",{class:"navbar-item"},"About",-1))),E={key:1,class:"navbar-end"},Y={class:"navbar-item"},H={class:"buttons"},K=(0,a.Uk)("Log in"),G=o((()=>(0,a._)("strong",null,"Sign up",-1))),J=o((()=>(0,a._)("i",{class:"fa-solid fa-bars"},null,-1))),O=[J],Q={class:"navbar-dropdown is-right"},X=o((()=>(0,a._)("a",{class:"navbar-item"},"About",-1))),tt=o((()=>(0,a._)("div",{class:"modal-background"},null,-1))),it={class:"modal-content box"},et={class:"section"},at={class:"title"},st={class:"subtitle"},nt={class:"subtitle"},ot={key:0},lt={class:"image is-square"},ct=["src"],rt={class:"has-text-centered"},dt=["href"];function ht(t,i,e,n,o,d){const h=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("nav",l,[(0,a._)("div",c,[r,(0,a._)("a",{role:"button",class:(0,s.C_)(["navbar-burger",{"is-active":o.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:i[0]||(i[0]=(...t)=>d.navbar&&d.navbar(...t))},u,2)]),(0,a._)("div",{id:"navbar",class:(0,s.C_)(["navbar-menu",{"is-active":o.isActive}])},[(0,a._)("div",p,[v,(0,a._)("a",{class:"navbar-item",onClick:i[1]||(i[1]=t=>this.$router.push("/contactus"))},"Contact Us")]),""!=o.patient?((0,a.wg)(),(0,a.iD)("div",f,[(0,a._)("div",{class:(0,s.C_)(["navbar-item has-dropdown",{"is-active":o.isActiveNotifications}])},[(0,a._)("a",{class:"navbar-link",onClick:i[2]||(i[2]=(...t)=>d.notification&&d.notification(...t))},[o.notifications.find((t=>!0===t.new))?((0,a.wg)(),(0,a.iD)("span",g,[(0,a._)("i",_,[(0,a._)("span",b,(0,s.zw)(o.notifications.filter((t=>t.new)).length),1)])])):((0,a.wg)(),(0,a.iD)("span",w,y))]),0!==o.notifications.length?((0,a.wg)(),(0,a.iD)("div",N,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.notifications.sort(((t,i)=>new Date(i.date).getTime()-new Date(t.date).getTime())),((t,i)=>((0,a.wg)(),(0,a.iD)("div",{class:"navbar-item",key:i},[(0,a._)("div",{class:(0,s.C_)(["notification is-info",{"is-light":!t.new}])},[(0,a._)("a",{style:{"text-decoration":"none"},onClick:e=>d.openNotif(t,i)},[(0,a.Uk)((0,s.zw)(t.subject)+" ",1),(0,a._)("p",C,(0,s.zw)("Med Search"==t.from?`From ${t.from}`:`From\n                                    Dr. ${t.from}`),1)],8,k),(0,a._)("button",{class:"delete",onClick:i=>d.deleteNotif(t)},null,8,A)],2)])))),128))])):((0,a.wg)(),(0,a.iD)("div",I,S))],2),(0,a._)("div",{class:(0,s.C_)(["navbar-item has-dropdown",{"is-active":o.isActiveProfileDropdown}]),onClick:i[4]||(i[4]=t=>o.isActiveProfileDropdown=!o.isActiveProfileDropdown)},[o.checkImgState?((0,a.wg)(),(0,a.iD)("a",x,[t.$store.state.checkProfileImg?((0,a.wg)(),(0,a.iD)("figure",z,[(0,a._)("img",{class:"is-rounded",src:`https://res.cloudinary.com/leindfraust/image/upload/v${(new Date).getMonth()}${(new Date).getDate()}/assets/patients/${t.$store.state.patientUsername}.jpg`},null,8,Z)])):((0,a.wg)(),(0,a.iD)("figure",M,[(0,a._)("img",{class:"is-rounded",src:`https://ui-avatars.com/api/?name=${this.$store.state.patientUsername}`},null,8,U)]))])):(0,a.kq)("",!0),(0,a._)("div",L,[(0,a.Wm)(h,{to:`/user/${o.patient}/profile`,class:"navbar-item"},{default:(0,a.w5)((()=>[P])),_:1},8,["to"]),(0,a.Wm)(h,{to:`/user/${o.patient}/security`,class:"navbar-item"},{default:(0,a.w5)((()=>[T])),_:1},8,["to"]),F,(0,a._)("a",{class:"navbar-item has-text-danger",onClick:i[3]||(i[3]=(...t)=>d.logout&&d.logout(...t))},q)])],2),(0,a._)("div",{class:(0,s.C_)(["navbar-item has-dropdown is-hidden-mobile",{"is-active":o.isActiveMenuDropdown}])},[(0,a._)("a",{class:"navbar-item",onClick:i[5]||(i[5]=t=>o.isActiveMenuDropdown=!o.isActiveMenuDropdown)},j),(0,a._)("div",B,[W,(0,a._)("a",{class:"navbar-item",onClick:i[6]||(i[6]=t=>this.$router.push("/contactus"))},"Contact Us")])],2)])):((0,a.wg)(),(0,a.iD)("div",E,[(0,a._)("div",Y,[(0,a._)("div",H,[(0,a.Wm)(h,{to:"/user/login",class:"button is-dark is-inverted",style:{"background-color":"transparent"}},{default:(0,a.w5)((()=>[K])),_:1}),(0,a.Wm)(h,{to:"/user/signup",class:"button is-info"},{default:(0,a.w5)((()=>[G])),_:1})])]),(0,a._)("div",{class:(0,s.C_)(["navbar-item has-dropdown is-hidden-mobile",{"is-active":o.isActiveMenuDropdown}])},[(0,a._)("a",{class:"navbar-item",onClick:i[7]||(i[7]=t=>o.isActiveMenuDropdown=!o.isActiveMenuDropdown)},O),(0,a._)("div",Q,[X,(0,a._)("a",{class:"navbar-item",onClick:i[8]||(i[8]=t=>this.$router.push("/contactus"))},"Contact Us")])],2)]))],2)]),(0,a._)("div",{class:(0,s.C_)(["modal",{"is-active":o.isActiveModal}])},[tt,(0,a._)("div",it,[(0,a._)("section",et,[(0,a._)("p",at,(0,s.zw)("Med Search"==o.viewNotif.from?`From ${o.viewNotif.from}`:`From\n                Dr. ${o.viewNotif.from}`),1),(0,a._)("p",st,(0,s.zw)(new Date(o.viewNotif.date).toDateString()),1),(0,a._)("p",nt,(0,s.zw)(o.viewNotif.message),1),o.viewNotif.id?((0,a.wg)(),(0,a.iD)("div",ot,[(0,a._)("figure",lt,[(0,a._)("img",{loading:"lazy",src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/patientCopy/${o.viewNotif.id}.jpg`},null,8,ct)]),(0,a._)("div",rt,[(0,a._)("a",{href:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/patientCopy/${o.viewNotif.id}.jpg`,class:"button",download:""},"Download File",8,dt)])])):(0,a.kq)("",!0)])]),(0,a._)("button",{class:"modal-close is-large","aria-label":"close",onClick:i[9]||(i[9]=(...t)=>d.closeNotificationModal&&d.closeNotificationModal(...t))})],2)],64)}var mt=e(9669),ut=e.n(mt),pt=e(4058),vt={name:"NavigationTab",async mounted(){await ut().get(`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patients/${this.$store.state.patientUsername}.jpg`).then((t=>200==t.status?this.$store.commit("checkProfileImg",!0):this.$store.commit("checkProfileImg",!1))).catch((t=>t?this.$store.commit("checkProfileImg",!1):this.$store.commit("checkProfileImg",!0))),this.checkImgState=!0,this.$store.state.patientID&&(pt.Z.connect(),pt.Z.emit("join room",this.$store.state.patientID),pt.Z.on("send messages",(t=>{this.notifications=t})),pt.Z.on("delete messages",(t=>{this.notifications=t})),pt.Z.on("messages",(t=>{this.notifications=t})))},data(){return{isActiveNotifications:!1,isActiveModal:!1,isActiveProfileDropdown:!1,isActiveMenuDropdown:!1,isActive:!1,patient:this.$store.state.patientUsername,notifications:[],viewNotif:[],checkImgState:!1}},methods:{navbar(){this.isActive=!this.isActive},async logout(){await this.$store.commit("patientID",null),await this.$store.commit("patientUsername",""),await ut()["delete"]("/session/patient"),await this.$router.push("/user/login"),pt.Z.disconnect()},notification(){this.isActiveNotifications=!this.isActiveNotifications},async deleteNotif(t){await ut().post("/api/imgUploadImgMsgDeletePatient",{id:"assets/patientimgmsg/patientCopy/"+t.id}),pt.Z.emit("delete message",this.$store.state.patientID,t)},openNotif(t,i){this.viewNotif=t,this.isActiveModal=!0,this.viewNotif.new&&(this.notifications[i].new=!1,pt.Z.emit("update message",this.notifications))},closeNotificationModal(){this.isActiveModal=!1}}},ft=e(3744);const gt=(0,ft.Z)(vt,[["render",ht],["__scopeId","data-v-74b627be"]]);var _t=gt},1457:function(t,i,e){e.r(i),e.d(i,{default:function(){return rt}});var a=e(6252),s=e(3577),n=e(9963);const o=t=>((0,a.dD)("data-v-5922c94c"),t=t(),(0,a.Cn)(),t),l={class:"section"},c=o((()=>(0,a._)("div",{class:"modal-background"},null,-1))),r=o((()=>(0,a._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,a._)("div",{class:"loader",style:{margin:"auto"}})],-1))),d=[c,r],h={class:"columns",style:{width:"75%",margin:"auto"}},m={class:"column"},u=o((()=>(0,a._)("div",{class:"block"},"To book your appointment, we have to verify a few details.",-1))),p={class:"field is-horizontal"},v={class:"field-body"},f={class:"field"},g=o((()=>(0,a._)("label",{class:"label"},"First name",-1))),_={class:"control"},b=["value"],w={class:"field"},D=o((()=>(0,a._)("label",{class:"label"},"Last Name",-1))),y={class:"control"},N={class:"field is-horizontal"},k={class:"field-body"},C={class:"field"},A=o((()=>(0,a._)("label",{class:"label"},"Contact Number:",-1))),I={class:"control"},$={class:"field"},S=o((()=>(0,a._)("label",{class:"label"},"Birthday",-1))),x={class:"control"},z={class:"is-block"},Z=["onClick"],M=["value"],U={class:"field"},L={class:"control"},P=o((()=>(0,a._)("label",{class:"label"},"Current Address",-1))),T=["value"],F={class:"field"},R=o((()=>(0,a._)("label",{class:"label"},"Reason for your visit:",-1))),q={class:"column",style:{position:"relative"}},V={class:"field"},j=o((()=>(0,a._)("h1",{class:"subtitle is-5 has-text-black has-text-weight-bold"},"Pick your preferred schedule: ",-1))),B=o((()=>(0,a._)("div",{class:"block"},null,-1))),W={class:"controls"},E={class:"radio"},Y=["onClick"],H={class:"subtitle is-6 has-text-weight-semibold"},K=o((()=>(0,a._)("br",null,null,-1))),G={class:"has-text-black"},J={style:{"pointer-events":"none"},class:"button statusSched"},O={key:0,class:"has-text-success"},Q={key:1,class:"has-text-danger"},X={class:"block has-text-centered"},tt=["disabled"];function it(t,i,e,o,c,r){const it=(0,a.up)("NavigationTab"),et=(0,a.up)("v-date-picker");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(it),(0,a._)("section",l,[(0,a._)("div",{class:(0,s.C_)(["modal",{"is-active":c.isLoading}])},d,2),(0,a._)("div",h,[(0,a._)("div",m,[(0,a._)("form",null,[u,(0,a._)("div",p,[(0,a._)("div",v,[(0,a._)("div",f,[g,(0,a._)("div",_,[(0,a._)("input",{class:"input",type:"text",value:c.firstName,placeholder:"First Name",required:""},null,8,b)])]),(0,a._)("div",w,[D,(0,a._)("div",y,[(0,a.wy)((0,a._)("input",{class:"input",type:"text","onUpdate:modelValue":i[0]||(i[0]=t=>c.lastName=t),placeholder:"Last Name",required:""},null,512),[[n.nr,c.lastName]])])])])]),(0,a._)("div",N,[(0,a._)("div",k,[(0,a._)("div",C,[A,(0,a._)("div",I,[(0,a.wy)((0,a._)("input",{class:"input",type:"number","onUpdate:modelValue":i[1]||(i[1]=t=>c.contactNum=t),placeholder:"Contact Number",required:""},null,512),[[n.nr,c.contactNum]])])]),(0,a._)("div",$,[S,(0,a._)("div",x,[(0,a.Wm)(et,{class:"block",modelValue:c.birthDay,"onUpdate:modelValue":i[2]||(i[2]=t=>c.birthDay=t)},{default:(0,a.w5)((({inputValue:t,togglePopover:i})=>[(0,a._)("div",z,[(0,a._)("a",{style:{margin:"auto"},onClick:t=>i()},[(0,a._)("input",{style:{cursor:"pointer"},value:t,class:"input",readonly:""},null,8,M)],8,Z)])])),_:1},8,["modelValue"])])])])]),(0,a._)("div",U,[(0,a._)("div",L,[P,(0,a._)("input",{class:"input",type:"text",value:c.currentAddress},null,8,T)])]),(0,a._)("div",F,[R,(0,a.wy)((0,a._)("textarea",{class:"textarea","onUpdate:modelValue":i[3]||(i[3]=t=>c.comments=t),placeholder:"Your symptoms, general well being etc...",required:""},null,512),[[n.nr,c.comments]])])])]),(0,a._)("div",q,[(0,a._)("form",V,[j,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.doctorSched.filter((t=>new Date(t.date).getTime()>(new Date).getTime()&&t.hospital===c.hospital)).sort(((t,i)=>new Date(t.date).getTime()-new Date(i.date).getTime())),((t,i)=>((0,a.wg)(),(0,a.iD)("div",{key:t.id,style:{width:"75%",margin:"auto"}},[B,(0,a._)("div",W,[(0,a._)("label",E,[(0,a._)("input",{type:"radio",class:"radioSched",name:"schedule",onClick:e=>r.pickSched(i,t,t.prefix)},null,8,Y),(0,a._)("span",H," "+(0,s.zw)(new Date(t.date).toDateString()),1),K,(0,a._)("span",G,(0,s.zw)(t.timeStart)+" - "+(0,s.zw)(t.timeEnd),1)]),(0,a._)("a",J,[c.schedAvailability?((0,a.wg)(),(0,a.iD)("span",O,"Available")):((0,a.wg)(),(0,a.iD)("span",Q,"Unavailable"))])])])))),128))]),(0,a._)("div",X,[(0,a._)("button",{type:"button",class:"button is-info",disabled:null==c.comments||null==c.schedule||""==c.firstName||""==c.lastName||null==c.birthDay||""==c.contactNum||""==c.comments||""==c.currentAddress,onClick:i[4]||(i[4]=(...t)=>r.appoint&&r.appoint(...t))},"Submit appointment",8,tt)])])])])],64)}var et=e(9669),at=e.n(et),st=e(4239),nt=e(1199),ot={name:"RegForm",components:{NavigationTab:nt.Z},data(){return{checkPatientRecord:null,patient:null,doctorSched:st.Z.state.doctorDetails.schedule,firstName:null,lastName:null,birthDay:null,comments:null,contactNum:null,schedule:null,currentAddress:null,priorityNum:null,patientsAppointed:null,doctorDetails:st.Z.state.doctorDetails,pickedSpecialization:st.Z.state.pickedSpecialization,isLoading:!1,schedAvailability:!1,radioIndex:null,prefix:null,hospital:st.Z.state.hospitalName,refID:null,errMsg:!1}},async mounted(){await at().get("/session/patient").then((t=>this.patient=t.data)),this.firstName=await this.patient.name[0],this.lastName=await this.patient.name[1],this.checkPatientRecord=await this.doctorDetails.patients.find((t=>t.patient===this.patient._id)),this.currentAddress=await this.patient.currentAddress},methods:{async appoint(){this.isLoading=!0;let t=document.getElementsByClassName("radioSched"),i=document.getElementsByClassName("statusSched");if(await at().get("/api/appointmentList").then((t=>this.patientsAppointed=t.data.filter((t=>t.schedule[0].date===this.schedule.date&&t.doctorID==this.doctorDetails._id)).length)),await this.patientsAppointed<this.schedule.appointmentLimit)if(await at().get("/api/appointmentList").then((t=>this.priorityNum=t.data.filter((t=>t.schedule[0].date===this.schedule.date&&t.doctorID==this.doctorDetails._id)).length+1)),"undefined"!==typeof this.checkPatientRecord&&this.checkPatientRecord)try{this.generateRefID(),await at().post("/api/appointmentList",{referenceID:this.refID,hospital:this.hospital,doctorID:this.doctorDetails._id,doctorName:this.doctorDetails.name,doctorSpecialization:this.pickedSpecialization,patientID:this.patient._id,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum}),await at().put(`/api/manager/${st.Z.state.hospitalDetails._id}`,{ratings:st.Z.state.hospitalDetails.ratings+5});let t={referenceID:this.refID,hospital:this.hospital,doctor:this.doctorDetails.name,specialization:this.pickedSpecialization,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum};this.isLoading=!1,st.Z.commit("patientDetails",t),st.Z.commit("appointed",!0),await this.$router.push("/success").catch((t=>console.log(t)))}catch(e){this.errMsg=e}else try{this.generateRefID(),await at().post("/api/patientUpdate",{doctorID:this.doctorDetails._id,patientID:this.patient._id,patientFullName:this.firstName+" "+this.lastName}),await at().post("/api/appointmentList",{referenceID:this.refID,hospital:this.hospital,doctorID:this.doctorDetails._id,doctorName:this.doctorDetails.name,doctorSpecialization:this.pickedSpecialization,patientID:this.patient._id,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum}),await at().put(`/api/manager/${st.Z.state.hospitalDetails._id}`,{ratings:st.Z.state.hospitalDetails.ratings+5});let t={referenceID:this.refID,hospital:this.hospital,doctor:this.doctorDetails.name,specialization:this.pickedSpecialization,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum};st.Z.commit("patientDetails",t),st.Z.commit("appointed",!0),await this.$router.push("/success").catch((t=>console.log(t)))}catch(e){this.errMsg=e}else this.isLoading=!1,this.schedAvailability=!1,this.schedule=null,t[this.radioIndex].checked=!1,t[this.radioIndex].disabled=!0,i[this.radioIndex].style.display="block"},async pickSched(t,i,e){this.radioIndex=t,this.isLoading=!0;let a=document.getElementsByClassName("radioSched"),s=document.getElementsByClassName("statusSched");for(let n=0;n<s.length;n++)s[n].style.display="none";this.schedule=await i,await at().get("/api/appointmentList").then((t=>this.patientsAppointed=t.data.filter((t=>t.schedule[0].date===this.schedule.date&&t.doctorID==this.doctorDetails._id)).length)),await this.patientsAppointed<this.schedule.appointmentLimit?(this.isLoading=!1,this.schedAvailability=!0,this.prefix=e,s[t].style.display="block"):(this.isLoading=!1,this.schedAvailability=!1,this.schedule=null,a[t].checked=!1,a[t].disabled=!0,s[t].style.display="block")},generateRefID(){let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=i.length;for(let a=0;a<12;a++)t+=i.charAt(Math.floor(Math.random()*e));this.refID=t.toUpperCase()}}},lt=e(3744);const ct=(0,lt.Z)(ot,[["render",it],["__scopeId","data-v-5922c94c"]]);var rt=ct},475:function(t,i,e){t.exports=e.p+"img/medi-search-horizontal.d15d9e4c.png"}}]);
//# sourceMappingURL=457.e15ee799.js.map