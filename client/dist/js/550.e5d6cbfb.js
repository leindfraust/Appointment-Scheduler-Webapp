"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[550],{480:function(t,a,e){e.d(a,{Z:function(){return _t}});var s=e(6252),i=e(3577),l=e(475);const n=t=>((0,s.dD)("data-v-e4980576"),t=t(),(0,s.Cn)(),t),o={class:"navbar",role:"navigation","aria-label":"main navigation"},c={class:"navbar-brand"},r=n((()=>(0,s._)("a",{class:"navbar-item",href:"/"},[(0,s._)("img",{src:l})],-1))),d=n((()=>(0,s._)("span",{"aria-hidden":"true"},null,-1))),u=n((()=>(0,s._)("span",{"aria-hidden":"true"},null,-1))),v=n((()=>(0,s._)("span",{"aria-hidden":"true"},null,-1))),p=[d,u,v],m={class:"navbar-start is-hidden-desktop"},h={class:"navbar-item"},_=n((()=>(0,s._)("hr",null,null,-1))),w={class:"navbar-item"},g={key:0,class:"navbar-end"},b={key:0,class:"has-text-danger"},f={class:"fa-solid fa-bell animate__animated animate__heartBeat animate__infinite"},k={class:"is-size-7"},y={key:1,class:"has-text-info"},D=n((()=>(0,s._)("i",{class:"fa-solid fa-bell"},null,-1))),U=[D],x={key:0,class:"navbar-dropdown is-right notif-list"},S=["onClick"],C={class:"help"},N=["onClick"],P={key:1,class:"navbar-dropdown is-right"},A=n((()=>(0,s._)("div",{class:"navbar-item"},"No new notifications.",-1))),z=[A],Z={key:0,class:"navbar-item is-hidden-mobile"},I={key:0,class:"image"},$=["src"],q={key:1,class:"image"},H=["src"],L={class:"navbar-dropdown is-right"},M=n((()=>(0,s._)("hr",{class:"navbar-divider"},null,-1))),W=n((()=>(0,s._)("strong",null,"Logout",-1))),F=[W],Y=n((()=>(0,s._)("i",{class:"fa-solid fa-bars"},null,-1))),j=[Y],T={class:"navbar-dropdown is-right"},O=n((()=>(0,s._)("hr",null,null,-1))),R={key:1,class:"navbar-end"},V={class:"navbar-item"},K={class:"navbar-item"},B=n((()=>(0,s._)("strong",null,"Sign up",-1))),E=n((()=>(0,s._)("i",{class:"fa-solid fa-bars"},null,-1))),G=[E],J={class:"navbar-dropdown is-right"},Q=n((()=>(0,s._)("hr",null,null,-1))),X=n((()=>(0,s._)("div",{class:"modal-background"},null,-1))),tt={class:"modal-content box"},at={class:"section"},et={class:"title"},st={class:"subtitle"},it={class:"subtitle"},lt={key:0},nt={class:"image is-square"},ot=["src"],ct={class:"has-text-centered"},rt=["href"];function dt(t,a,e,l,n,d){const u=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",o,[(0,s._)("div",c,[r,(0,s._)("a",{role:"button",class:(0,i.C_)(["navbar-burger",{"is-active":n.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:a[0]||(a[0]=(...t)=>d.navbar&&d.navbar(...t))},p,2)]),(0,s._)("div",{id:"navbar",class:(0,i.C_)(["navbar-menu",{"is-active":n.isActive}])},[(0,s._)("div",m,[(0,s._)("div",h,[(0,s.Wm)(u,{to:"/doctor/login",class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Doctor Login")])),_:1}),(0,s.Wm)(u,{to:"/manager/login",class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Provider Login")])),_:1})]),_,(0,s._)("div",w,[(0,s.Wm)(u,{to:"/about",class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("About")])),_:1}),(0,s.Wm)(u,{to:"/contactus",class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Contact")])),_:1})])]),""!=n.patient?((0,s.wg)(),(0,s.iD)("div",g,[(0,s._)("div",{class:(0,i.C_)(["navbar-item has-dropdown",{"is-active":n.isActiveNotifications}])},[(0,s._)("a",{class:"navbar-link",onClick:a[1]||(a[1]=(...t)=>d.notification&&d.notification(...t))},[n.notifications.find((t=>!0===t.new))?((0,s.wg)(),(0,s.iD)("span",b,[(0,s._)("i",f,[(0,s._)("span",k,(0,i.zw)(n.notifications.filter((t=>t.new)).length),1)])])):((0,s.wg)(),(0,s.iD)("span",y,U))]),0!==n.notifications.length?((0,s.wg)(),(0,s.iD)("div",x,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.notifications.sort(((t,a)=>new Date(a.date).getTime()-new Date(t.date).getTime())),((t,a)=>((0,s.wg)(),(0,s.iD)("div",{class:"navbar-item",key:a},[(0,s._)("div",{class:(0,i.C_)(["notification is-info",{"is-light":!t.new}])},[(0,s._)("a",{style:{"text-decoration":"none"},onClick:e=>d.openNotif(t,a)},[(0,s.Uk)((0,i.zw)(t.subject)+" ",1),(0,s._)("p",C,(0,i.zw)("Medic Search"==t.from?`From ${t.from}`:`From\n                                                                            Dr. ${t.from}`),1)],8,S),(0,s._)("button",{class:"delete",onClick:a=>d.deleteNotif(t)},null,8,N)],2)])))),128))])):((0,s.wg)(),(0,s.iD)("div",P,z))],2),(0,s._)("div",{class:(0,i.C_)(["navbar-item has-dropdown",{"is-active":n.isActiveProfileDropdown}]),onClick:a[3]||(a[3]=t=>n.isActiveProfileDropdown=!n.isActiveProfileDropdown)},[n.checkImgState?((0,s.wg)(),(0,s.iD)("a",Z,[t.$store.state.checkProfileImg?((0,s.wg)(),(0,s.iD)("figure",I,[(0,s._)("img",{class:"is-rounded",src:`https://res.cloudinary.com/leindfraust/image/upload/v${(new Date).getMonth()}${(new Date).getDate()}/assets/patients/${t.$store.state.patientUsername}.jpg`},null,8,$)])):((0,s.wg)(),(0,s.iD)("figure",q,[(0,s._)("img",{class:"is-rounded",src:`https://ui-avatars.com/api/?name=${this.$store.state.patientUsername}`},null,8,H)]))])):(0,s.kq)("",!0),(0,s._)("div",L,[(0,s.Wm)(u,{to:`/user/${n.patient}/profile`,class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Profile")])),_:1},8,["to"]),(0,s.Wm)(u,{to:`/user/${n.patient}/security`,class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Security")])),_:1},8,["to"]),M,(0,s._)("a",{class:"navbar-item has-text-danger",onClick:a[2]||(a[2]=(...t)=>d.logout&&d.logout(...t))},F)])],2),(0,s._)("div",{class:(0,i.C_)(["navbar-item has-dropdown is-hidden-mobile",{"is-active":n.isActiveMenuDropdown}])},[(0,s._)("a",{class:"navbar-item",onClick:a[4]||(a[4]=t=>n.isActiveMenuDropdown=!n.isActiveMenuDropdown)},j),(0,s._)("div",T,[(0,s.Wm)(u,{to:"/doctor/login",class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Doctor Login")])),_:1}),(0,s.Wm)(u,{to:"/manager/login",class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Provider Login")])),_:1}),O,(0,s.Wm)(u,{to:"/about",class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("About")])),_:1}),(0,s.Wm)(u,{to:"/contactus",class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Contact Us")])),_:1})])],2)])):((0,s.wg)(),(0,s.iD)("div",R,[(0,s._)("div",V,[(0,s.Wm)(u,{to:"/user/login",class:"button is-dark is-inverted",style:{"background-color":"transparent"}},{default:(0,s.w5)((()=>[(0,s.Uk)("Log in")])),_:1})]),(0,s._)("div",K,[(0,s.Wm)(u,{to:"/user/signup",class:"button is-info"},{default:(0,s.w5)((()=>[B])),_:1})]),(0,s._)("div",{class:(0,i.C_)(["navbar-item has-dropdown is-hidden-mobile",{"is-active":n.isActiveMenuDropdown}])},[(0,s._)("a",{class:"navbar-item",onClick:a[5]||(a[5]=t=>n.isActiveMenuDropdown=!n.isActiveMenuDropdown)},G),(0,s._)("div",J,[(0,s.Wm)(u,{to:"/doctor/login",class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Doctor Login")])),_:1}),(0,s.Wm)(u,{to:"/manager/login",class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Provider Login")])),_:1}),Q,(0,s.Wm)(u,{to:"/about",class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("About")])),_:1}),(0,s.Wm)(u,{to:"/contactus",class:"navbar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Contact Us")])),_:1})])],2)]))],2)]),(0,s._)("div",{class:(0,i.C_)(["modal",{"is-active":n.isActiveModal}])},[X,(0,s._)("div",tt,[(0,s._)("section",at,[(0,s._)("p",et,(0,i.zw)("Medic Search"==n.viewNotif.from?`From ${n.viewNotif.from}`:`From\n                                    Dr. ${n.viewNotif.from}`),1),(0,s._)("p",st,(0,i.zw)(new Date(n.viewNotif.date).toDateString()),1),(0,s._)("p",it,(0,i.zw)(n.viewNotif.message),1),n.viewNotif.id?((0,s.wg)(),(0,s.iD)("div",lt,[(0,s._)("figure",nt,[(0,s._)("img",{loading:"lazy",src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/patientCopy/${n.viewNotif.id}.jpg`},null,8,ot)]),(0,s._)("div",ct,[(0,s._)("a",{href:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/patientCopy/${n.viewNotif.id}.jpg`,class:"button",download:""},"Download File",8,rt)])])):(0,s.kq)("",!0)])]),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:a[6]||(a[6]=(...t)=>d.closeNotificationModal&&d.closeNotificationModal(...t))})],2)],64)}var ut=e(196),vt=e(4058),pt={name:"NavigationTab",async mounted(){await ut.ZP.get(`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patients/${this.$store.state.patientUsername}.jpg`).then((t=>200==t.status?this.$store.commit("checkProfileImg",!0):this.$store.commit("checkProfileImg",!1))).catch((t=>t?this.$store.commit("checkProfileImg",!1):this.$store.commit("checkProfileImg",!0))),this.checkImgState=!0,this.$store.state.patientID&&(vt.Z.connect(),vt.Z.emit("join room",this.$store.state.patientID),vt.Z.on("send messages",(t=>{this.notifications=t})),vt.Z.on("delete messages",(t=>{this.notifications=t})),vt.Z.on("messages",(t=>{this.notifications=t})))},data(){return{isActiveNotifications:!1,isActiveModal:!1,isActiveProfileDropdown:!1,isActiveMenuDropdown:!1,isActive:!1,patient:this.$store.state.patientUsername,notifications:[],viewNotif:[],checkImgState:!1}},methods:{navbar(){this.isActive=!this.isActive},async logout(){await this.$store.commit("patientID",null),await this.$store.commit("patientUsername",""),await ut.ZP["delete"]("/session/patient"),await this.$router.push("/user/login"),vt.Z.disconnect()},notification(){this.isActiveNotifications=!this.isActiveNotifications},async deleteNotif(t){await ut.ZP.post("/api/imgUploadImgMsgDeletePatient",{id:"assets/patientimgmsg/patientCopy/"+t.id}),vt.Z.emit("delete message",this.$store.state.patientID,t)},openNotif(t,a){this.viewNotif=t,this.isActiveModal=!0,this.viewNotif.new&&(this.notifications[a].new=!1,vt.Z.emit("update message",this.notifications))},closeNotificationModal(){this.isActiveModal=!1}}},mt=e(3744);const ht=(0,mt.Z)(pt,[["render",dt],["__scopeId","data-v-e4980576"]]);var _t=ht},4550:function(t,a,e){e.r(a),e.d(a,{default:function(){return Ca}});var s=e(6252),i=e(2262),l=e(3577),n=e(9963),o=e(480),c=e(196),r=e(3907),d=e(2201);const u=t=>((0,s.dD)("data-v-5eaa75c4"),t=t(),(0,s.Cn)(),t),v={class:"section"},p={id:"wrapper-container",style:{width:"75%",margin:"auto"}},m={key:0,class:"container"},h={class:"columns is-vcentered"},_={class:"column is-4"},w={class:"field",id:"file-img"},g={key:0,class:"image is-square image-outer"},b=["Src"],f=["src"],k=(0,s.uE)('<div class="buttons is-hidden-mobile" style="bottom:5%;right:10%;position:absolute;" data-v-5eaa75c4><label for="file-input" style="cursor:pointer;" data-v-5eaa75c4><a class="button is-responsive" style="border-radius:50%;height:50px;width:50px;" data-v-5eaa75c4><i class="fa-solid fa-camera" data-v-5eaa75c4></i></a></label></div><div class="buttons is-hidden-desktop" style="bottom:15%;left:75%;position:absolute;" data-v-5eaa75c4><label for="file-input" style="cursor:pointer;" data-v-5eaa75c4><a class="button is-large is-responsive" style="border-radius:50%;height:35px;width:35px;" data-v-5eaa75c4><i class="fa-solid fa-camera" data-v-5eaa75c4></i></a></label></div>',2),y={key:1,class:"image is-square image-outer"},D=["Src"],U=["src"],x=(0,s.uE)('<div class="buttons is-hidden-mobile" style="bottom:5%;right:10%;position:absolute;" data-v-5eaa75c4><label for="file-input" style="cursor:pointer;" data-v-5eaa75c4><a class="button is-medium is-responsive" data-v-5eaa75c4><i class="fa-solid fa-camera" data-v-5eaa75c4></i></a></label></div><div class="buttons is-hidden-desktop" style="bottom:15%;left:75%;position:absolute;" data-v-5eaa75c4><label for="file-input" style="cursor:pointer;" data-v-5eaa75c4><a class="button is-medium is-responsive" data-v-5eaa75c4><i class="fa-solid fa-camera" data-v-5eaa75c4></i></a></label></div>',2),S={class:"control is-hidden"},C={class:"buttons is-centered"},N={class:"column"},P={key:0,class:"notification is-danger"},A={key:1,class:"notification is-success"},z={class:"field is-horizontal"},Z={class:"field-body"},I={class:"field"},$=u((()=>(0,s._)("label",{class:"label"},"Email:",-1))),q={key:0,class:"controls"},H={key:1,class:"controls"},L={class:"field is-horizontal"},M={class:"field-body"},W={class:"field"},F=u((()=>(0,s._)("label",{class:"label"},"First Name:",-1))),Y={class:"controls"},j={class:"field"},T=u((()=>(0,s._)("label",{class:"label"},"Last Name:",-1))),O={class:"controls"},R={class:"field is-horizontal"},V={class:"field-body"},K={class:"field"},B={class:"control"},E=u((()=>(0,s._)("label",{class:"label"},"Province:",-1))),G={class:"dropdown-trigger"},J={key:0},Q={key:1},X={class:"dropdown-menu"},tt=["onClick"],at={class:"field"},et={class:"control"},st=u((()=>(0,s._)("div",{class:"label"},"City/Municipality:",-1))),it={class:"dropdown-trigger"},lt=["disabled"],nt={key:0},ot={key:1},ct={key:0,class:"dropdown-menu"},rt=["onClick"],dt={class:"field"},ut=u((()=>(0,s._)("label",{class:"label"},"Current Address:",-1))),vt={class:"controls"},pt=u((()=>(0,s._)("br",null,null,-1))),mt={class:"dropdown-trigger"},ht=u((()=>(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-angle-down","aria-hidden":"true"})],-1))),_t={class:"dropdown-menu"},wt={class:"dropdown-content"},gt=u((()=>(0,s._)("div",{class:"block"},null,-1))),bt={class:"field has-addons"},ft=u((()=>(0,s._)("div",{class:"control"},[(0,s._)("button",{class:"button is-static fa fa-search"})],-1))),kt={class:"control"},yt={key:1,class:"container box"},Dt={key:0,class:"table-container"},Ut={class:"table is-fullwidth"},xt=u((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"has-text-black-ter"},"Controls"),(0,s._)("th",{class:"has-text-black-ter"},"Reference ID"),(0,s._)("th",{class:"has-text-black-ter"},"Schedule"),(0,s._)("th",{class:"has-text-black-ter"},"Priority No."),(0,s._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,s._)("th",{class:"has-text-black-ter"},"Doctor Appointed"),(0,s._)("th",{class:"has-text-black-ter"},"First Name"),(0,s._)("th",{class:"has-text-black-ter"},"Last Name"),(0,s._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,s._)("th",{class:"has-text-black-ter"},"Birthday"),(0,s._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1))),St=["onClick"],Ct=u((()=>(0,s._)("br",null,null,-1))),Nt={class:"has-text-black-ter"},Pt={class:"has-text-black-ter"},At={class:"has-text-black-ter"},zt={class:"has-text-black-ter"},Zt={class:"has-text-black-ter"},It={class:"has-text-black-ter"},$t={class:"has-text-black-ter"},qt={class:"has-text-black-ter"},Ht={class:"has-text-black-ter"},Lt={class:"has-text-black-ter"},Mt={key:1,class:"container"},Wt=u((()=>(0,s._)("div",{class:"notification is-info"},"You do not have any ongoing appointments.",-1))),Ft=[Wt],Yt={key:2,class:"container box"},jt={key:0,class:"table-container"},Tt={class:"table is-fullwidth"},Ot=u((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"has-text-black-ter"},"Visited"),(0,s._)("th",{class:"has-text-black-ter"},"Reference ID"),(0,s._)("th",{class:"has-text-black-ter"},"Schedule"),(0,s._)("th",{class:"has-text-black-ter"},"Priority No."),(0,s._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,s._)("th",{class:"has-text-black-ter"},"Doctor Appointed"),(0,s._)("th",{class:"has-text-black-ter"},"First Name"),(0,s._)("th",{class:"has-text-black-ter"},"Last Name"),(0,s._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,s._)("th",{class:"has-text-black-ter"},"Birthday"),(0,s._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1))),Rt={class:"has-text-black-ter"},Vt={class:"has-text-black-ter"},Kt={class:"has-text-black-ter"},Bt={class:"has-text-black-ter"},Et={class:"has-text-black-ter"},Gt={class:"has-text-black-ter"},Jt={class:"has-text-black-ter"},Qt={class:"has-text-black-ter"},Xt={class:"has-text-black-ter"},ta={class:"has-text-black-ter"},aa={class:"has-text-black-ter"},ea={key:1,class:"container"},sa=u((()=>(0,s._)("div",{class:"notification is-info"},"You do not have any past appointments.",-1))),ia=[sa],la={key:3,class:"container box"},na={key:0,class:"table-container"},oa={class:"table is-fullwidth"},ca=u((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"has-text-black-ter"},"Controls"),(0,s._)("th",{class:"has-text-black-ter"},"Reference ID"),(0,s._)("th",{class:"has-text-black-ter"},"Schedule"),(0,s._)("th",{class:"has-text-black-ter"},"Priority No."),(0,s._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,s._)("th",{class:"has-text-black-ter"},"Doctor Appointed"),(0,s._)("th",{class:"has-text-black-ter"},"First Name"),(0,s._)("th",{class:"has-text-black-ter"},"Last Name"),(0,s._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,s._)("th",{class:"has-text-black-ter"},"Birthday"),(0,s._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1))),ra=["onClick"],da=u((()=>(0,s._)("br",null,null,-1))),ua={class:"has-text-black-ter"},va={class:"has-text-black-ter"},pa={class:"has-text-black-ter"},ma={class:"has-text-black-ter"},ha={class:"has-text-black-ter"},_a={class:"has-text-black-ter"},wa={class:"has-text-black-ter"},ga={class:"has-text-black-ter"},ba={class:"has-text-black-ter"},fa={class:"has-text-black-ter"},ka={key:1,class:"container"},ya=u((()=>(0,s._)("div",{class:"notification is-info"},"You do not have any cancelled appointments.",-1))),Da=[ya];var Ua={__name:"UserProfile",setup(t){const a=(0,r.oR)(),e=(0,d.tv)();let u=(0,i.iH)([]),Wt=(0,i.iH)([]),sa=(0,i.iH)([]),ya=(0,i.iH)([]),Ua=(0,i.iH)([]),xa=(0,i.iH)([]),Sa=(0,i.iH)(""),Ca=(0,i.iH)(""),Na=(0,i.iH)(!1),Pa=(0,i.iH)(!1),Aa=(0,i.iH)(""),za=(0,i.iH)(!1),Za=(0,i.iH)(!1),Ia=(0,i.iH)(!0),$a=(0,i.iH)(!1),qa=(0,i.iH)(!1),Ha=(0,i.iH)(),La=(0,i.iH)(!1),Ma=(0,i.iH)(),Wa=(0,i.iH)(""),Fa=(0,i.iH)(!1);(0,s.bv)((async()=>{await c.ZP.post("/api/appointmentList/patients",{id:a.state.patientID,ongoing:!0}).then((t=>u.value=t.data)),await c.ZP.post("/api/appointmentList/patients",{id:a.state.patientID,ongoing:!1}).then((t=>Wt.value=t.data)),await c.ZP.post("/api/appointmentList/cancelledAppointments",{id:a.state.patientID}).then((t=>sa.value=t.data)),await c.ZP.get("/session/patient").then((t=>ya.value=t.data)),await c.ZP.get("/api/geolocation").then((t=>Ua.value=t.data)),Sa.value=await ya.value.province,Ca.value=await ya.value.city,await c.ZP.get("/api/geolocation").then((t=>xa.value=t.data.find((t=>t.province===Sa.value)))),xa.value=await xa.value.citiesOrMunicipalities.sort(((t,a)=>t.name>a.name?1:-1))}));const Ya=(0,s.Fl)((()=>Ra())),ja=(0,s.Fl)((()=>Oa())),Ta=(0,s.Fl)((()=>Va()));function Oa(){return Wt.value.sort(((t,a)=>new Date(a.schedule[0].date).getTime()-new Date(t.schedule[0].date).getTime())).filter((t=>t.referenceID.toLowerCase().includes(Wa.value.toLowerCase())))}function Ra(){return u.value.sort(((t,a)=>{new Date(t.schedule[0].date).getTime(),new Date(a.schedule[0].date).getTime()})).filter((t=>t.referenceID.toLowerCase().includes(Wa.value.toLowerCase())))}function Va(){return sa.value.sort(((t,a)=>{new Date(t.schedule[0].date).getTime(),new Date(a.schedule[0].date).getTime()})).filter((t=>t.referenceID.toLowerCase().includes(Wa.value.toLowerCase())))}async function Ka(t){Na.value=!1,Ca.value="",Sa.value=t,await c.ZP.get("/api/geolocation").then((a=>xa.value=a.data.find((a=>a.province===t)))),xa.value=await xa.value.citiesOrMunicipalities.sort(((t,a)=>t.name>a.name?1:-1))}function Ba(t){Pa.value=!1,Ca.value=t}function Ea(t){Ha.value=t.target.files[0],Ma.value=URL.createObjectURL(Ha.value),La.value=!0}async function Ga(){try{await c.ZP.put("/session/patient/",{name:[ya.value.name[0],ya.value.name[1]],email:ya.value.email,province:Sa.value,city:Ca.value,currentAddress:ya.value.currentAddress}),await c.ZP.put(`/api/user/${ya.value._id}`,{name:[ya.value.name[0],ya.value.name[1]],gmail:ya.value.email,province:Sa.value,city:Ca.value,currentAddress:ya.value.currentAddress}),za.value=!0,Aa.value="",await c.ZP.get("/session/patient").then((t=>ya.value=t.data)),await c.ZP.get("/api/geolocation").then((t=>Ua.value=t.data)),Sa.value=await ya.value.province,Ca.value=await ya.value.city,await c.ZP.get("/api/geolocation").then((t=>xa.value=t.data.find((t=>t.province===Sa.value)))),xa.value=await xa.value.citiesOrMunicipalities.sort(((t,a)=>t.name>a.name?1:-1))}catch(t){Aa.value=t}}async function Ja(t){try{await c.ZP.put(`/api/appointmentList/${t}`,{ifPatientCancelled:!0}),await c.ZP.post("/api/appointmentList/patients",{id:a.state.patientID,ongoing:!0}).then((t=>u.value=t.data)),await c.ZP.post("/api/appointmentList/patients",{id:a.state.patientID,ongoing:!1}).then((t=>Wt.value=t.data)),await c.ZP.post("/api/appointmentList/cancelledAppointments",{id:a.state.patientID}).then((t=>sa.value=t.data))}catch(e){Aa.value=e}}async function Qa(t){try{await c.ZP["delete"](`/api/appointmentList/${t}`),await c.ZP.post("/api/appointmentList/patients",{id:a.state.patientID,ongoing:!0}).then((t=>u.value=t.data)),await c.ZP.post("/api/appointmentList/patients",{id:a.state.patientID,ongoing:!1}).then((t=>Wt.value=t.data)),await c.ZP.post("/api/appointmentList/cancelledAppointments",{id:a.state.patientID}).then((t=>sa.value=t.data))}catch(e){Aa.value=e}}async function Xa(){Fa.value=!0;const t=new FormData;t.append("username",a.state.patientUsername),t.append("imgFile",Ha.value);try{await c.ZP.post("/api/imgUploadPatient",t,{headers:{"Content-Type":"multipart/form-data"}}).then((async t=>{t&&(a.commit("imgSuccess",!0),await e.push("/imgUploadSuccessPatient"))}))}catch(s){Aa.value=s}Fa.value=!1}return(t,e)=>{const c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(o.Z),(0,s._)("section",v,[(0,s._)("div",p,[0!==(0,i.SU)(ya).length?((0,s.wg)(),(0,s.iD)("div",m,[(0,s._)("div",h,[(0,s._)("div",_,[(0,s._)("div",w,[(0,i.SU)(a).state.checkProfileImg?((0,s.wg)(),(0,s.iD)("figure",g,[(0,i.SU)(Ma)?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"is-rounded image-inner",Src:(0,i.SU)(Ma)},null,8,b)):((0,s.wg)(),(0,s.iD)("img",{key:1,class:"is-rounded image-inner",src:`https://res.cloudinary.com/leindfraust/image/v${(new Date).getMonth()}${(new Date).getDate()}/upload/assets/patients/${(0,i.SU)(a).state.patientUsername}.jpg`},null,8,f)),k])):((0,s.wg)(),(0,s.iD)("figure",y,[(0,i.SU)(Ma)?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"is-rounded image-inner",Src:(0,i.SU)(Ma)},null,8,D)):((0,s.wg)(),(0,s.iD)("img",{key:1,class:"is-rounded image-inner",src:`https://ui-avatars.com/api/?name=${(0,i.SU)(a).state.patientUsername}`},null,8,U)),x])),(0,s._)("div",S,[(0,s._)("input",{id:"file-input",onChange:e[0]||(e[0]=t=>Ea(t)),class:"input",type:"file"},null,32)])]),(0,s._)("div",C,[(0,i.SU)(La)?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"button",onClick:e[1]||(e[1]=t=>((0,i.dq)(Ma)?Ma.value=null:Ma=null,(0,i.dq)(La)?La.value=!1:La=!1))},"Cancel")):(0,s.kq)("",!0),(0,i.SU)(La)?((0,s.wg)(),(0,s.iD)("button",{key:1,class:(0,l.C_)(["button is-info",{"is-loading":(0,i.SU)(Fa)}]),onClick:Xa},"Upload Photo",2)):(0,s.kq)("",!0)])]),(0,s._)("div",N,[(0,i.SU)(Aa)?((0,s.wg)(),(0,s.iD)("div",P,[(0,s.Uk)(" Oops, something went wrong. Try again later or "),(0,s.Wm)(c,{to:"/contactus"},{default:(0,s.w5)((()=>[(0,s.Uk)("contact us")])),_:1})])):(0,s.kq)("",!0),(0,i.SU)(za)?((0,s.wg)(),(0,s.iD)("div",A,"Changes have been pushed.")):(0,s.kq)("",!0),(0,s._)("div",z,[(0,s._)("div",Z,[(0,s._)("div",I,[$,(0,i.SU)(ya).email.includes("dummyemail@email.com")?((0,s.wg)(),(0,s.iD)("div",H,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":e[3]||(e[3]=t=>(0,i.SU)(ya).email=t),placeholder:"Register an email for this account."},null,512),[[n.nr,(0,i.SU)(ya).email]])])):((0,s.wg)(),(0,s.iD)("div",q,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":e[2]||(e[2]=t=>(0,i.SU)(ya).email=t)},null,512),[[n.nr,(0,i.SU)(ya).email]])]))])])]),(0,s._)("div",L,[(0,s._)("div",M,[(0,s._)("div",W,[F,(0,s._)("div",Y,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":e[4]||(e[4]=t=>(0,i.SU)(ya).name[0]=t)},null,512),[[n.nr,(0,i.SU)(ya).name[0]]])])]),(0,s._)("div",j,[T,(0,s._)("div",O,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":e[5]||(e[5]=t=>(0,i.SU)(ya).name[1]=t)},null,512),[[n.nr,(0,i.SU)(ya).name[1]]])])])])]),(0,s._)("div",R,[(0,s._)("div",V,[(0,s._)("div",K,[(0,s._)("div",B,[E,(0,s._)("div",{class:(0,l.C_)(["dropdown",{"is-active":(0,i.SU)(Na)}])},[(0,s._)("div",G,[(0,s._)("button",{class:"button",onClick:e[6]||(e[6]=t=>(0,i.dq)(Na)?Na.value=!(0,i.SU)(Na):Na=!(0,i.SU)(Na))},[""==(0,i.SU)(Sa)?((0,s.wg)(),(0,s.iD)("span",J,"Select")):((0,s.wg)(),(0,s.iD)("span",Q,(0,l.zw)((0,i.SU)(Sa)),1))])]),(0,s._)("div",X,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,i.SU)(Ua),(t=>((0,s.wg)(),(0,s.iD)("div",{class:"dropdown-content",key:t._id},[(0,s._)("a",{class:"dropdown-item",onClick:a=>Ka(t.province)},(0,l.zw)(t.province),9,tt)])))),128))])],2)])]),(0,s._)("div",at,[(0,s._)("div",et,[st,(0,s._)("div",{class:(0,l.C_)(["dropdown",{"is-active":(0,i.SU)(Pa)}])},[(0,s._)("div",it,[(0,s._)("button",{class:"button","aria-haspopup":"true",onClick:e[7]||(e[7]=t=>(0,i.dq)(Pa)?Pa.value=!(0,i.SU)(Pa):Pa=!(0,i.SU)(Pa)),disabled:""==(0,i.SU)(Sa)},[""==(0,i.SU)(Ca)?((0,s.wg)(),(0,s.iD)("span",nt,"Select")):((0,s.wg)(),(0,s.iD)("span",ot,(0,l.zw)((0,i.SU)(Ca)),1))],8,lt)]),(0,i.SU)(Sa)?((0,s.wg)(),(0,s.iD)("div",ct,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,i.SU)(xa),(t=>((0,s.wg)(),(0,s.iD)("div",{class:"dropdown-content",key:t.name},[(0,s._)("a",{class:"dropdown-item",onClick:a=>Ba(t.name)},(0,l.zw)(t.name),9,rt)])))),128))])):(0,s.kq)("",!0)],2)])]),(0,s._)("div",dt,[ut,(0,s._)("div",vt,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":e[8]||(e[8]=t=>(0,i.SU)(ya).currentAddress=t)},null,512),[[n.nr,(0,i.SU)(ya).currentAddress]])])])])]),(0,s._)("div",{class:"field is-grouped is-grouped-right"},[(0,s._)("p",{class:"control"},[(0,s._)("a",{class:"button is-info",onClick:Ga},"Save changes")])])])])])):(0,s.kq)("",!0),pt,(0,s._)("div",{class:(0,l.C_)(["dropdown",{"is-active":(0,i.SU)(Za)}])},[(0,s._)("div",mt,[(0,s._)("button",{class:"button",onClick:e[9]||(e[9]=t=>(0,i.dq)(Za)?Za.value=!(0,i.SU)(Za):Za=!(0,i.SU)(Za))},[(0,s._)("span",null,(0,l.zw)((0,i.SU)(Ia)?"Ongoing Appointments":(0,i.SU)($a)?"Past Appointments":"Cancelled Appointments"),1),ht])]),(0,s._)("div",_t,[(0,s._)("div",wt,[(0,s._)("a",{class:"dropdown-item",onClick:e[10]||(e[10]=t=>((0,i.dq)(Ia)?Ia.value=!0:Ia=!0,(0,i.dq)($a)?$a.value=!1:$a=!1,(0,i.dq)(qa)?qa.value=!1:qa=!1,(0,i.dq)(Za)?Za.value=!(0,i.SU)(Za):Za=!(0,i.SU)(Za)))}," Ongoing Appointments "),(0,s._)("a",{class:"dropdown-item",onClick:e[11]||(e[11]=t=>((0,i.dq)($a)?$a.value=!0:$a=!0,(0,i.dq)(Ia)?Ia.value=!1:Ia=!1,(0,i.dq)(qa)?qa.value=!1:qa=!1,(0,i.dq)(Za)?Za.value=!(0,i.SU)(Za):Za=!(0,i.SU)(Za)))}," Past Appointments "),(0,s._)("a",{class:"dropdown-item",onClick:e[12]||(e[12]=t=>((0,i.dq)(qa)?qa.value=!0:qa=!0,(0,i.dq)(Ia)?Ia.value=!1:Ia=!1,(0,i.dq)($a)?$a.value=!1:$a=!1,(0,i.dq)(Za)?Za.value=!(0,i.SU)(Za):Za=!(0,i.SU)(Za)))}," Cancelled Appointments ")])])],2),gt,(0,s._)("div",bt,[ft,(0,s._)("div",kt,[(0,s.wy)((0,s._)("input",{type:"text",class:"input",placeholder:"Search Reference ID","onUpdate:modelValue":e[13]||(e[13]=t=>(0,i.dq)(Wa)?Wa.value=t:Wa=t)},null,512),[[n.nr,(0,i.SU)(Wa)]])])]),(0,i.SU)(Ia)?((0,s.wg)(),(0,s.iD)("div",yt,[0!==Object.keys((0,i.SU)(Ya)).length?((0,s.wg)(),(0,s.iD)("div",Dt,[(0,s._)("table",Ut,[xt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,i.SU)(Ya),(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t._id},[(0,s._)("button",{class:"dropdown-item button has-text-danger",type:"button",onClick:a=>Ja(t._id)},"Cancel",8,St),Ct,(0,s._)("th",Nt,(0,l.zw)(t.referenceID),1),(0,s._)("th",Pt,(0,l.zw)(new Date(t.schedule[0].date).toDateString()),1),(0,s._)("th",At,(0,l.zw)(t.priorityNum),1),(0,s._)("th",zt,(0,l.zw)(t.hospital),1),(0,s._)("th",Zt,(0,l.zw)(t.doctorName),1),(0,s._)("td",It,(0,l.zw)(t.firstName),1),(0,s._)("td",$t,(0,l.zw)(t.lastName),1),(0,s._)("td",qt,(0,l.zw)(t.contactNum),1),(0,s._)("td",Ht,(0,l.zw)(t.birthDay),1),(0,s._)("td",Lt,(0,l.zw)(t.comments),1)])))),128))])])])):((0,s.wg)(),(0,s.iD)("div",Mt,Ft))])):(0,s.kq)("",!0),(0,i.SU)($a)?((0,s.wg)(),(0,s.iD)("div",Yt,[0!==Object.keys((0,i.SU)(ja)).length?((0,s.wg)(),(0,s.iD)("div",jt,[(0,s._)("table",Tt,[Ot,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,i.SU)(ja),(t=>((0,s.wg)(),(0,s.iD)("tbody",{key:t._id},[(0,s._)("tr",null,[(0,s._)("th",Rt,(0,l.zw)(t.ifPatientVisited?"Yes":"No"),1),(0,s._)("th",Vt,(0,l.zw)(t.referenceID),1),(0,s._)("th",Kt,(0,l.zw)(new Date(t.schedule[0].date).toDateString()),1),(0,s._)("th",Bt,(0,l.zw)(t.priorityNum),1),(0,s._)("th",Et,(0,l.zw)(t.hospital),1),(0,s._)("th",Gt,(0,l.zw)(t.doctorName),1),(0,s._)("td",Jt,(0,l.zw)(t.firstName),1),(0,s._)("td",Qt,(0,l.zw)(t.lastName),1),(0,s._)("td",Xt,(0,l.zw)(t.contactNum),1),(0,s._)("td",ta,(0,l.zw)(t.birthDay),1),(0,s._)("td",aa,(0,l.zw)(t.comments),1)])])))),128))])])):((0,s.wg)(),(0,s.iD)("div",ea,ia))])):(0,s.kq)("",!0),(0,i.SU)(qa)?((0,s.wg)(),(0,s.iD)("div",la,[0!==Object.keys((0,i.SU)(Ta)).length?((0,s.wg)(),(0,s.iD)("div",na,[(0,s._)("table",oa,[ca,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,i.SU)(Ta),(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t._id},[(0,s._)("button",{class:"dropdown-item button has-text-danger",type:"button",onClick:a=>Qa(t._id)},"Delete",8,ra),da,(0,s._)("th",ua,(0,l.zw)(t.referenceID),1),(0,s._)("th",va,(0,l.zw)(new Date(t.schedule[0].date).toDateString()),1),(0,s._)("th",pa,(0,l.zw)(t.priorityNum),1),(0,s._)("th",ma,(0,l.zw)(t.hospital),1),(0,s._)("th",ha,(0,l.zw)(t.doctorName),1),(0,s._)("td",_a,(0,l.zw)(t.firstName),1),(0,s._)("td",wa,(0,l.zw)(t.lastName),1),(0,s._)("td",ga,(0,l.zw)(t.contactNum),1),(0,s._)("td",ba,(0,l.zw)(t.birthDay),1),(0,s._)("td",fa,(0,l.zw)(t.comments),1)])))),128))])])])):((0,s.wg)(),(0,s.iD)("div",ka,Da))])):(0,s.kq)("",!0)])])],64)}}},xa=e(3744);const Sa=(0,xa.Z)(Ua,[["__scopeId","data-v-5eaa75c4"]]);var Ca=Sa},475:function(t,a,e){t.exports=e.p+"img/medi-search-horizontal.d15d9e4c.png"}}]);
//# sourceMappingURL=550.e5d6cbfb.js.map