{"version":3,"file":"js/398.7d5464e1.js","mappings":"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","sources":["webpack://client/./src/views/Public/UserProfile.vue","webpack://client/./src/views/Public/UserProfile.vue?4f4d"],"sourcesContent":["<script setup>\r\nimport NavigationTab from '../../components/NavigationTab.vue';\r\nimport axios from 'axios'\r\nimport { ref, onMounted, computed } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from 'vue-router';\r\n\r\nconst store = useStore()\r\nconst router = useRouter()\r\nconst appointmentListOngoing = ref([])\r\nconst appointmentListDone = ref([])\r\nconst appointmentListCancelled = ref([])\r\nconst patient = ref([]);\r\nconst geolocationData = ref([])\r\nconst citiesData = ref([])\r\nconst userProvince = ref('')\r\nconst userCity = ref('')\r\nconst dropDownProvince = ref(false)\r\nconst dropDownCity = ref(false)\r\nconst errMsg = ref('')\r\nconst successMsg = ref(false)\r\nconst appointmentModal = ref(false)\r\nconst navOngoingAppointments = ref(true)\r\nconst navPastAppointments = ref(false)\r\nconst navCancelledAppointments = ref(false)\r\nconst file = ref()\r\nconst uploadProfileButton = ref(false)\r\nconst imgPreviewFile = ref()\r\nconst searchBar = ref('')\r\nconst buttonProfileImgSubmitLoading = ref(false)\r\n\r\nonMounted(async () => {\r\n    await axios.post('/api/appointmentList/patients', { id: store.state.patientID, ongoing: true }).then(response => appointmentListOngoing.value = response.data);\r\n    await axios.post('/api/appointmentList/patients', { id: store.state.patientID, ongoing: false }).then(response => appointmentListDone.value = response.data);\r\n    await axios.post('/api/appointmentList/cancelledAppointments', { id: store.state.patientID }).then(response => appointmentListCancelled.value = response.data);\r\n    await axios.get(\"/session/patient\").then(response => patient.value = response.data);\r\n    await axios.get(\"/api/geolocation\").then(response => geolocationData.value = response.data)\r\n    userProvince.value = await patient.value.province\r\n    userCity.value = await patient.value.city\r\n\r\n    await axios.get('/api/geolocation').then(response => citiesData.value = response.data.find(x => x.province === userProvince.value))\r\n    citiesData.value = await citiesData.value.citiesOrMunicipalities.sort((a, b) => { return a.name > b.name ? 1 : -1 })\r\n});\r\n\r\nconst ongoingAppointments = computed(() => {\r\n    return sortOngoingAppointments()\r\n});\r\nconst pastAppointments = computed(() => {\r\n    return sortPastAppointments()\r\n});\r\n\r\nconst cancelledAppointments = computed(() => {\r\n    return sortCancelledAppointments()\r\n});\r\n\r\nfunction sortPastAppointments() {\r\n    return appointmentListDone.value.sort((a, b) => {\r\n        return new Date(a.schedule[0].date).getTime() - new Date(b.schedule[0].date).getTime()\r\n    }).filter(x => x.referenceID.toLowerCase().includes(searchBar.value.toLowerCase() || x.firstName.toLowerCase().includes(searchBar.value.toLowerCase()) || x.lastName.toLowerCase().includes(searchBar.value.toLowerCase())))\r\n\r\n}\r\nfunction sortOngoingAppointments() {\r\n    return appointmentListOngoing.value.sort((a, b) => {\r\n        return new Date(a.schedule[0].date).getTime() - new Date(b.schedule[0].date).getTime()\r\n    }).filter(x => x.referenceID.toLowerCase().includes(searchBar.value.toLowerCase()) || x.firstName.toLowerCase().includes(searchBar.value.toLowerCase()) || x.lastName.toLowerCase().includes(searchBar.value.toLowerCase()))\r\n}\r\n\r\nfunction sortCancelledAppointments() {\r\n    return appointmentListCancelled.value.sort((a, b) => {\r\n        new Date(a.schedule[0].date).getTime() - new Date(b.schedule[0].date).getTime()\r\n    }).filter(x => x.referenceID.toLowerCase().includes(searchBar.value.toLowerCase()) || x.firstName.toLowerCase().includes(searchBar.value.toLowerCase()) || x.lastName.toLowerCase().includes(searchBar.value.toLowerCase()))\r\n}\r\n//methods\r\nasync function selectProvince(province) {\r\n    dropDownProvince.value = false\r\n    userCity.value = ''\r\n    userProvince.value = province\r\n    await axios.get('/api/geolocation').then(response => citiesData.value = response.data.find(x => x.province === province))\r\n    citiesData.value = await citiesData.value.citiesOrMunicipalities.sort((a, b) => { return a.name > b.name ? 1 : -1 })\r\n}\r\nfunction selectCity(city) {\r\n    dropDownCity.value = false\r\n    userCity.value = city\r\n}\r\nfunction fileHandleInput(e) {\r\n    file.value = e.target.files[0]\r\n    imgPreviewFile.value = URL.createObjectURL(file.value)\r\n    uploadProfileButton.value = true\r\n}\r\nasync function updatePatient() {\r\n    try {\r\n        await axios.put('/session/patient/', {\r\n            name: [patient.value.name[0], patient.value.name[1]],\r\n            email: patient.value.email,\r\n            province: userProvince.value,\r\n            city: userCity.value,\r\n            currentAddress: patient.value.currentAddress\r\n        });\r\n        await axios.put(`/api/user/${patient.value._id}`, {\r\n            name: [patient.value.name[0], patient.value.name[1]],\r\n            gmail: patient.value.email,\r\n            province: userProvince.value,\r\n            city: userCity.value,\r\n            currentAddress: patient.value.currentAddress\r\n        });\r\n\r\n        successMsg.value = true\r\n        errMsg.value = ''\r\n\r\n        await axios.get(\"/session/patient\").then(response => patient.value = response.data);\r\n        await axios.get(\"/api/geolocation\").then(response => geolocationData.value = response.data)\r\n\r\n        userProvince.value = await patient.value.province\r\n        userCity.value = await patient.value.city\r\n\r\n        await axios.get('/api/geolocation').then(response => citiesData.value = response.data.find(x => x.province === userProvince.value))\r\n        citiesData.value = await citiesData.value.citiesOrMunicipalities.sort((a, b) => { return a.name > b.name ? 1 : -1 })\r\n    } catch (err) {\r\n        errMsg.value = err\r\n    }\r\n}\r\nasync function cancelAppointment(id) {\r\n    try {\r\n        await axios.put(`/api/appointmentList/${id}`, { ifPatientCancelled: true })\r\n        await axios.post('/api/appointmentList/patients', { id: store.state.patientID, ongoing: true }).then(response => appointmentListOngoing.value = response.data);\r\n        await axios.post('/api/appointmentList/patients', { id: store.state.patientID, ongoing: false }).then(response => appointmentListDone.value = response.data);\r\n        await axios.post('/api/appointmentList/cancelledAppointments', { id: store.state.patientID }).then(response => appointmentListCancelled.value = response.data);\r\n    } catch (err) {\r\n        errMsg.value = err\r\n    }\r\n}\r\n\r\nasync function deleteAppointment(id) {\r\n    try {\r\n        await axios.delete(`/api/appointmentList/${id}`)\r\n        await axios.post('/api/appointmentList/patients', { id: store.state.patientID, ongoing: true }).then(response => appointmentListOngoing.value = response.data);\r\n        await axios.post('/api/appointmentList/patients', { id: store.state.patientID, ongoing: false }).then(response => appointmentListDone.value = response.data);\r\n        await axios.post('/api/appointmentList/cancelledAppointments', { id: store.state.patientID }).then(response => appointmentListCancelled.value = response.data);\r\n    } catch (err) {\r\n        errMsg.value = err\r\n    }\r\n}\r\n\r\nasync function uploadProfilePhotoClient() {\r\n    buttonProfileImgSubmitLoading.value = true\r\n    const formData = new FormData()\r\n    formData.append('username', store.state.patientUsername)\r\n    formData.append('imgFile', file.value)\r\n\r\n    try {\r\n        await axios.post(\"/api/imgUploadPatient\", formData, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            }\r\n        }).then(async response => {\r\n            if (response) {\r\n                store.commit(\"imgSuccess\", true)\r\n                await router.push('/imgUploadSuccessPatient')\r\n            }\r\n        });\r\n    } catch (err) {\r\n        errMsg.value = err\r\n    }\r\n    buttonProfileImgSubmitLoading.value = false\r\n}\r\n</script>\r\n<template>\r\n    <NavigationTab />\r\n    <section class=\"section\">\r\n        <div id=\"wrapper-container\" style=\"width: 75%; margin: auto;\">\r\n            <div class=\"container\" v-if=\"patient.length !== 0\">\r\n                <div class=\"columns is-vcentered\">\r\n                    <div class=\"column is-4\">\r\n                        <div class=\"field\" id=\"file-img\">\r\n                            <figure class=\"image is-square image-outer\" v-if=\"store.state.checkProfileImg\">\r\n                                <img class=\"is-rounded image-inner\" v-if=\"imgPreviewFile\" :Src=\"imgPreviewFile\" />\r\n                                <img class=\"is-rounded image-inner\" v-else\r\n                                    :src=\"`https://res.cloudinary.com/leindfraust/image/v${new Date().getMonth()}${new Date().getDate()}/upload/assets/patients/${store.state.patientUsername}.jpg`\">\r\n                                <div class=\"buttons is-hidden-mobile\" style=\"bottom:5%; right:10%; position: absolute\">\r\n                                    <label for=\"file-input\" style=\"cursor: pointer\"><a class=\"button is-responsive\"\r\n                                            style=\"border-radius: 50%; height: 50px; width: 50px\"><i\r\n                                                class=\"fa-solid fa-camera\"></i>\r\n                                        </a></label>\r\n                                </div>\r\n                                <div class=\"buttons is-hidden-desktop\"\r\n                                    style=\"bottom: 15%; left:75%; position: absolute\">\r\n                                    <label for=\"file-input\" style=\"cursor: pointer\"><a\r\n                                            class=\"button is-large is-responsive\"\r\n                                            style=\"border-radius: 50%; height: 35px; width: 35px\"><i\r\n                                                class=\"fa-solid fa-camera\"></i>\r\n                                        </a></label>\r\n                                </div>\r\n                            </figure>\r\n                            <figure class=\"image is-square image-outer\" v-else>\r\n                                <img class=\"is-rounded image-inner\" v-if=\"imgPreviewFile\" :Src=\"imgPreviewFile\" />\r\n                                <img class=\"is-rounded image-inner\" v-else\r\n                                    :src=\"`https://ui-avatars.com/api/?name=${store.state.patientUsername}`\">\r\n                                <div class=\"buttons is-hidden-mobile\" style=\"bottom:5%; right:10%; position: absolute\">\r\n                                    <label for=\"file-input\" style=\"cursor: pointer\"><a\r\n                                            class=\"button is-medium is-responsive\"><i class=\"fa-solid fa-camera\"></i>\r\n                                        </a></label>\r\n                                </div>\r\n                                <div class=\"buttons is-hidden-desktop\"\r\n                                    style=\"bottom: 15%; left:75%; position: absolute\">\r\n                                    <label for=\"file-input\" style=\"cursor: pointer\"><a\r\n                                            class=\"button is-medium is-responsive\"><i class=\"fa-solid fa-camera\"></i>\r\n                                        </a></label>\r\n                                </div>\r\n                            </figure>\r\n                            <div class=\"control is-hidden\">\r\n                                <input id=\"file-input\" @change=\"fileHandleInput($event)\" class=\"input\" type=\"file\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"buttons is-centered\">\r\n                            <button class=\"button\" v-if=\"uploadProfileButton\"\r\n                                @click=\"imgPreviewFile = null, uploadProfileButton = false\">Cancel</button>\r\n                            <button class=\"button is-info\" :class=\"{ 'is-loading': buttonProfileImgSubmitLoading }\"\r\n                                v-if=\"uploadProfileButton\" @click=\"uploadProfilePhotoClient\">Upload Photo</button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"notification is-danger\" v-if=\"errMsg\">\r\n                            Oops, something went wrong. Try again later or\r\n                            <router-link :to=\"'/contactus'\">contact us</router-link>\r\n                        </div>\r\n                        <div class=\"notification is-success\" v-if=\"successMsg\">Changes have been pushed.</div>\r\n                        <div class=\"field is-horizontal\">\r\n                            <div class=\"field-body\">\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\">Email:</label>\r\n                                    <div class=\"controls\" v-if=\"!patient.email.includes('dummyemail@email.com')\">\r\n                                        <input type=\"text\" class=\"input\" v-model=\"patient.email\" />\r\n                                    </div>\r\n                                    <div class=\"controls\" v-else>\r\n                                        <input type=\"text\" class=\"input\" v-model=\"patient.email\"\r\n                                            placeholder=\"Register an email for this account.\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"field is-horizontal\">\r\n                            <div class=\"field-body\">\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\">First Name:</label>\r\n                                    <div class=\"controls\">\r\n                                        <input type=\"text\" class=\"input\" v-model=\"patient.name[0]\" />\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\">Last Name:</label>\r\n                                    <div class=\"controls\">\r\n                                        <input type=\"text\" class=\"input\" v-model=\"patient.name[1]\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"field is-horizontal\">\r\n                            <div class=\"field-body\">\r\n                                <div class=\"field\">\r\n                                    <div class=\"control\">\r\n                                        <label class=\"label\">Province:</label>\r\n                                        <div class=\"dropdown\" :class=\"{ 'is-active': dropDownProvince }\">\r\n                                            <div class=\"dropdown-trigger\">\r\n                                                <button class=\"button\" @click=\"dropDownProvince = !dropDownProvince\">\r\n                                                    <span v-if=\"userProvince == ''\">Select</span>\r\n                                                    <span v-else>{{ userProvince }}</span>\r\n                                                </button>\r\n                                            </div>\r\n                                            <div class=\"dropdown-menu\">\r\n                                                <div class=\"dropdown-content\" v-for=\"provinces in geolocationData\"\r\n                                                    :key=\"provinces._id\">\r\n                                                    <a class=\"dropdown-item\"\r\n                                                        @click=\"selectProvince(provinces.province)\">{{\r\n                                                            provinces.province\r\n                                                        }}</a>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"field\">\r\n                                    <div class=\"control\">\r\n                                        <div class=\"label\">City/Municipality:</div>\r\n                                        <div class=\"dropdown\" :class=\"{ 'is-active': dropDownCity }\">\r\n                                            <div class=\"dropdown-trigger\">\r\n                                                <button class=\"button\" aria-haspopup=\"true\"\r\n                                                    @click=\"dropDownCity = !dropDownCity\"\r\n                                                    :disabled=\"userProvince == ''\">\r\n                                                    <span v-if=\"userCity == ''\">Select</span>\r\n                                                    <span v-else>{{ userCity }}</span>\r\n                                                </button>\r\n                                            </div>\r\n                                            <div class=\"dropdown-menu\" v-if=\"userProvince\">\r\n                                                <div class=\"dropdown-content\" v-for=\"cities in citiesData\"\r\n                                                    :key=\"cities.name\">\r\n                                                    <a class=\"dropdown-item\" @click=\"selectCity(cities.name)\">{{\r\n                                                        cities.name\r\n                                                    }}</a>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\">Current Address:</label>\r\n                                    <div class=\"controls\">\r\n                                        <input type=\"text\" class=\"input\" v-model=\"patient.currentAddress\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"field is-grouped is-grouped-right\">\r\n                            <p class=\"control\">\r\n                                <a class=\"button is-info\" @click=\"updatePatient\">Save changes</a>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <br />\r\n            <div class=\"dropdown\" :class=\"{ 'is-active': appointmentModal }\">\r\n                <div class=\"dropdown-trigger\">\r\n                    <button class=\"button\" @click=\"appointmentModal = !appointmentModal\"><span>\r\n                            {{\r\n                                navOngoingAppointments? 'Ongoing Appointments': navPastAppointments ?\r\n                                    'Past Appointments' : 'Cancelled Appointments'\r\n                            }}</span><span class=\"icon is-small\">\r\n                            <i class=\"fas fa-angle-down\" aria-hidden=\"true\"></i>\r\n                        </span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"dropdown-menu\">\r\n                    <div class=\"dropdown-content\">\r\n                        <a class=\"dropdown-item\"\r\n                            @click=\"navOngoingAppointments = true, navPastAppointments = false, navCancelledAppointments = false, appointmentModal = !appointmentModal\">\r\n                            Ongoing Appointments\r\n                        </a>\r\n                        <a class=\"dropdown-item\"\r\n                            @click=\"navPastAppointments = true, navOngoingAppointments = false, navCancelledAppointments = false, appointmentModal = !appointmentModal\">\r\n                            Past Appointments\r\n                        </a>\r\n                        <a class=\"dropdown-item\"\r\n                            @click=\"navCancelledAppointments = true, navOngoingAppointments = false, navPastAppointments = false, appointmentModal = !appointmentModal\">\r\n                            Cancelled Appointments\r\n                        </a>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"block\"></div>\r\n            <div class=\"field has-addons\">\r\n                <div class=\"control\">\r\n                    <button class=\"button is-static fa fa-search\"></button>\r\n                </div>\r\n                <div class=\"control\">\r\n                    <input type=\"text\" class=\"input\" placeholder=\"Search Reference ID\" v-model=\"searchBar\" />\r\n                </div>\r\n            </div>\r\n            <div class=\"container box\" v-if=\"navOngoingAppointments\">\r\n                <div class=\"table-container\" v-if=\"Object.keys(ongoingAppointments).length !== 0\">\r\n                    <table class=\"table is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th class=\"has-text-black-ter\">Controls</th>\r\n                                <th class=\"has-text-black-ter\">Reference ID</th>\r\n                                <th class=\"has-text-black-ter\">Schedule</th>\r\n                                <th class=\"has-text-black-ter\">Priority No.</th>\r\n                                <th class=\"has-text-black-ter\">Hospital Appointed</th>\r\n                                <th class=\"has-text-black-ter\">Doctor Appointed</th>\r\n                                <th class=\"has-text-black-ter\">First Name</th>\r\n                                <th class=\"has-text-black-ter\">Last Name</th>\r\n                                <th class=\"has-text-black-ter\">Contact Number</th>\r\n                                <th class=\"has-text-black-ter\">Birthday</th>\r\n                                <th class=\"has-text-black-ter\">Symptoms/Comments</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr v-for=\"appointments in ongoingAppointments\" :key=\"appointments._id\">\r\n                                <button class=\"dropdown-item button has-text-danger\" type=\"button\"\r\n                                    @click=\"cancelAppointment(appointments._id)\">Cancel</button>\r\n                                <br />\r\n                                <th class=\"has-text-black-ter\">{{ appointments.referenceID }}</th>\r\n                                <th class=\"has-text-black-ter\">{{\r\n                                    new Date(appointments.schedule[0].date).toDateString()\r\n                                }}</th>\r\n                                <th class=\"has-text-black-ter\">{{ appointments.priorityNum }}</th>\r\n                                <th class=\"has-text-black-ter\">{{ appointments.hospital }}</th>\r\n                                <th class=\"has-text-black-ter\">{{ appointments.doctorName }}</th>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.firstName }}</td>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.lastName }}</td>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.contactNum }}</td>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.birthDay }}</td>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.comments }}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class=\"container\" v-else>\r\n                    <div class=\"notification is-info\">You do not have any ongoing appointments.</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"container box\" v-if=\"navPastAppointments\">\r\n                <div class=\"table-container\" v-if=\"Object.keys(pastAppointments).length !== 0\">\r\n                    <table class=\"table is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th class=\"has-text-black-ter\">Visited</th>\r\n                                <th class=\"has-text-black-ter\">Reference ID</th>\r\n                                <th class=\"has-text-black-ter\">Schedule</th>\r\n                                <th class=\"has-text-black-ter\">Priority No.</th>\r\n                                <th class=\"has-text-black-ter\">Hospital Appointed</th>\r\n                                <th class=\"has-text-black-ter\">Doctor Appointed</th>\r\n                                <th class=\"has-text-black-ter\">First Name</th>\r\n                                <th class=\"has-text-black-ter\">Last Name</th>\r\n                                <th class=\"has-text-black-ter\">Contact Number</th>\r\n                                <th class=\"has-text-black-ter\">Birthday</th>\r\n                                <th class=\"has-text-black-ter\">Symptoms/Comments</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody v-for=\"appointments in pastAppointments\" :key=\"appointments._id\">\r\n                            <tr>\r\n                                <th class=\"has-text-black-ter\">{{ appointments.ifPatientVisited ? 'Yes' : 'No' }}</th>\r\n                                <th class=\"has-text-black-ter\">{{ appointments.referenceID }}</th>\r\n                                <th class=\"has-text-black-ter\">{{\r\n                                    new Date(appointments.schedule[0].date).toDateString()\r\n                                }}</th>\r\n                                <th class=\"has-text-black-ter\">{{ appointments.priorityNum }}</th>\r\n                                <th class=\"has-text-black-ter\">{{ appointments.hospital }}</th>\r\n                                <th class=\"has-text-black-ter\">{{ appointments.doctorName }}</th>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.firstName }}</td>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.lastName }}</td>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.contactNum }}</td>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.birthDay }}</td>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.comments }}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class=\"container\" v-else>\r\n                    <div class=\"notification is-info\">You do not have any past appointments.</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"container box\" v-if=\"navCancelledAppointments\">\r\n                <div class=\"table-container\" v-if=\"Object.keys(cancelledAppointments).length !== 0\">\r\n                    <table class=\"table is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th class=\"has-text-black-ter\">Controls</th>\r\n                                <th class=\"has-text-black-ter\">Reference ID</th>\r\n                                <th class=\"has-text-black-ter\">Schedule</th>\r\n                                <th class=\"has-text-black-ter\">Priority No.</th>\r\n                                <th class=\"has-text-black-ter\">Hospital Appointed</th>\r\n                                <th class=\"has-text-black-ter\">Doctor Appointed</th>\r\n                                <th class=\"has-text-black-ter\">First Name</th>\r\n                                <th class=\"has-text-black-ter\">Last Name</th>\r\n                                <th class=\"has-text-black-ter\">Contact Number</th>\r\n                                <th class=\"has-text-black-ter\">Birthday</th>\r\n                                <th class=\"has-text-black-ter\">Symptoms/Comments</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr v-for=\"appointments in cancelledAppointments\" :key=\"appointments._id\">\r\n                                <button class=\"dropdown-item button has-text-danger\" type=\"button\"\r\n                                    @click=\"deleteAppointment(appointments._id)\">Delete</button>\r\n                                <br />\r\n                                <th class=\"has-text-black-ter\">{{ appointments.referenceID }}</th>\r\n                                <th class=\"has-text-black-ter\">{{\r\n                                    new Date(appointments.schedule[0].date).toDateString()\r\n                                }}</th>\r\n                                <th class=\"has-text-black-ter\">{{ appointments.priorityNum }}</th>\r\n                                <th class=\"has-text-black-ter\">{{ appointments.hospital }}</th>\r\n                                <th class=\"has-text-black-ter\">{{ appointments.doctorName }}</th>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.firstName }}</td>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.lastName }}</td>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.contactNum }}</td>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.birthDay }}</td>\r\n                                <td class=\"has-text-black-ter\">{{ appointments.comments }}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class=\"container\" v-else>\r\n                    <div class=\"notification is-info\">You do not have any cancelled appointments.</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n<style scoped>\r\n@media (max-width: 991.98px) {\r\n    #wrapper-container {\r\n        width: 100% !important\r\n    }\r\n}\r\n\r\n.image-outer {\r\n    background: center center no-repeat url('../../assets/images/background-figure-style.png');\r\n    background-size: contain;\r\n}\r\n\r\n.image-inner {\r\n    padding: 25px\r\n}\r\n\r\n.section {\r\n    background: center center no-repeat url('../../assets/images/background-client-profile.png');\r\n    background-size: cover;\r\n}\r\n</style>","import script from \"./UserProfile.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UserProfile.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UserProfile.vue?vue&type=style&index=0&id=7c08a266&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\ronan\\\\Documents\\\\Projects\\\\Appointment-Scheduler-Webapp\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7c08a266\"]])\n\nexport default __exports__"],"names":["store","useStore","router","useRouter","appointmentListOngoing","ref","appointmentListDone","appointmentListCancelled","patient","geolocationData","citiesData","userProvince","userCity","dropDownProvince","dropDownCity","errMsg","successMsg","appointmentModal","navOngoingAppointments","navPastAppointments","navCancelledAppointments","file","uploadProfileButton","imgPreviewFile","searchBar","buttonProfileImgSubmitLoading","onMounted","async","axios","id","state","patientID","ongoing","then","response","value","data","province","city","find","x","citiesOrMunicipalities","sort","a","b","name","ongoingAppointments","computed","sortOngoingAppointments","pastAppointments","sortPastAppointments","cancelledAppointments","sortCancelledAppointments","Date","schedule","date","getTime","filter","referenceID","toLowerCase","includes","firstName","lastName","selectProvince","selectCity","fileHandleInput","e","target","files","URL","createObjectURL","updatePatient","email","currentAddress","_id","gmail","err","cancelAppointment","ifPatientCancelled","deleteAppointment","uploadProfilePhotoClient","formData","FormData","append","patientUsername","headers","commit","push","__exports__"],"sourceRoot":""}