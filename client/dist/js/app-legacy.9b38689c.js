(function(){"use strict";var e={4839:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var a=n(9963),i=n(405),s=n(6252);function r(e,t,n,a,i,r){var o=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(o)}var o={name:"App"},c=n(3744);const l=(0,c.Z)(o,[["render",r]]);var u=l,d=n(8637),p=n(4702),m=(0,d.MT)({plugins:[(0,p.Z)()],state:{notificationClicked:!1,accountCreated:!1,userAuth:!1,superUserAuth:!1,statusAvailability:!1,alias:"",doctorDetails:[],patientUsername:"",patientID:null,doctorID:null,specialistList:[],patientDetails:[],profileImg:null,imgSuccess:!1,imgSuccessManager:!1,managerHospital:"",hospitalDetails:"",hospitalName:"",specializationList:["Allergists","Anesthesiologists","Cardiologists","Colon and Rectal Surgeons","Critical Care Medicine Specialists"," Dermatologists","Endocrinologists","Emergency Medicine Specialists","Family Physicians","Gastroenterologists","Geriatric Medicine Specialists","Hematologists","Hospice and Palliative Medicine Specialists","Infectious Disease Specialists","Internists","Medical Geneticists","Nephrologists","Neurologists","Obstetricians and Gynecologists","Oncologists","Ophthalmologists","Osteopaths","Otolaryngologists","Pathologists","Pediatricians","Physiatrists","Plastic Surgeons","Podiatrists","Preventive Medicine Specialists","Psychiatrists","Pulmonologists","Radiologists","Rheumatologists","Sleep Medicine Specialists","Sports Medicine Specialists","General Surgeons","Urologists"]},getters:{getStatusAvail:function(e){return e.statusAvailability},getSpecializationList:function(e){return e.specializationList}},mutations:{notificationClicked:function(e,t){e.notificationClicked=t},accountCreated:function(e,t){e.accountCreated=t},alias:function(e,t){e.alias=t},doctorDetails:function(e,t){e.doctorDetails=t},patientUsername:function(e,t){e.patientUsername=t},patientID:function(e,t){e.patientID=t},doctorID:function(e,t){e.doctorID=t},statusTrue:function(e){e.statusAvailability=!0},specialistList:function(e,t){e.specialistList=t},patientDetails:function(e,t){e.patientDetails=t},profileImg:function(e,t){e.profileImg=t},imgSuccess:function(e,t){e.imgSuccess=t},imgSuccessManager:function(e,t){e.imgSuccessManager=t},userType:function(e,t){e.userType=t},superUserAuth:function(e,t){e.superUserAuth=t},managerHospital:function(e,t){e.managerHospital=t},hospitalDetails:function(e,t){e.hospitalDetails=t},hospitalName:function(e,t){e.hospitalName=t},statusAvailability:function(e,t){e.statusAvailability=t}}}),f=m,h=(n(1539),n(2119)),v=n(3577),g=function(e){return(0,s.dD)("data-v-221b70ff"),e=e(),(0,s.Cn)(),e},w={class:"hero is-fullheight"},_={class:"hero-body"},b={class:"container has-text-centered"},k={class:"container box",id:"covidAPI",style:{width:"70%"}},y=g((function(){return(0,s._)("h1",{class:"title has-text-left"},"Latest COVID-19 Data",-1)})),x=g((function(){return(0,s._)("hr",null,null,-1)})),D={class:"columns"},C={class:"column"},U=g((function(){return(0,s._)("h4",{class:"title is-2"},"Worldwide ",-1)})),A={class:"container is-fluid has-text-left"},S={class:"subtitle"},P=g((function(){return(0,s._)("b",null,"Total Active Cases:",-1)})),M={class:"subtitle"},R=g((function(){return(0,s._)("b",null,"Total Deaths:",-1)})),z={class:"subtitle"},N=g((function(){return(0,s._)("b",null,"Total Recoveries:",-1)})),I={class:"column"},T=g((function(){return(0,s._)("h4",{class:"title is-2"},"Philippines 叼",-1)})),q={class:"container is-fluid has-text-left"},H={class:"subtitle"},L=g((function(){return(0,s._)("b",null,"Total Active Cases:",-1)})),V={class:"subtitle"},O=g((function(){return(0,s._)("b",null,"Total Deaths:",-1)})),E={class:"subtitle"},Z=g((function(){return(0,s._)("b",null,"Total Recoveries:",-1)}));function F(e,t,n,a,i,r){var o=(0,s.up)("NavigationTabVue"),c=(0,s.up)("HospitalFinderVue");return(0,s.wg)(),(0,s.iD)("section",w,[(0,s.Wm)(o),(0,s._)("div",_,[(0,s._)("div",b,[(0,s.Wm)(c),(0,s._)("div",k,[y,x,(0,s._)("div",D,[(0,s._)("div",C,[U,(0,s._)("div",A,[(0,s._)("p",S,[P,(0,s.Uk)(" "+(0,v.zw)(i.covidAPIWorldWide.active)+"+ ",1)]),(0,s._)("p",M,[R,(0,s.Uk)(" "+(0,v.zw)(i.covidAPIWorldWide.deaths)+"+ ",1)]),(0,s._)("p",z,[N,(0,s.Uk)(" "+(0,v.zw)(i.covidAPIWorldWide.recovered)+"+ ",1)])])]),(0,s._)("div",I,[T,(0,s._)("div",q,[(0,s._)("p",H,[L,(0,s.Uk)(" "+(0,v.zw)(i.covidAPIPh.active)+"+ ",1)]),(0,s._)("p",V,[O,(0,s.Uk)(" "+(0,v.zw)(i.covidAPIPh.deaths)+"+ ",1)]),(0,s._)("p",E,[Z,(0,s.Uk)(" "+(0,v.zw)(i.covidAPIPh.recovered)+"+ ",1)])])])])])])])])}var Y=n(8534),B=(n(5666),n(7941),n(2707),n(8309),n(7327),n(6699),n(2023),n(2222),function(e){return(0,s.dD)("data-v-4c0422e0"),e=e(),(0,s.Cn)(),e}),$=B((function(){return(0,s._)("h1",{class:"title"},"Find and make an appointment on hospitals near you.",-1)})),j=B((function(){return(0,s._)("div",{class:"modal-background"},null,-1)})),K=B((function(){return(0,s._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,s._)("div",{class:"loader",style:{margin:"auto"}})],-1)})),W=[j,K],G={class:"container"},Q={class:"dropdown-trigger"},X={class:"field"},J={class:"control"},ee=["disabled"],te={key:0,class:"notification is-light is-danger"},ne=(0,s.Uk)(" location to start booking an "),ae=B((function(){return(0,s._)("b",null,"appointment",-1)})),ie=(0,s.Uk)(". "),se={class:"dropdown-menu"},re={key:0,class:"dropdown-content has-text-left"},oe=["onClick"],ce={key:1,class:"dropdown-content has-text-left"},le=B((function(){return(0,s._)("p",{class:"dropdown-item has-text-danger"}," Region not found or supported, please try again. ",-1)})),ue=[le],de={key:0,class:"container block"},pe=B((function(){return(0,s._)("br",null,null,-1)})),me={key:0,class:"block"},fe=B((function(){return(0,s._)("div",{class:"notification box",id:"notification",style:{width:"50%",margin:"auto","background-color":"white"}},[(0,s.Uk)(" You must "),(0,s._)("a",{class:"has-text-success",href:"/user/login"},"login"),(0,s.Uk)(". or "),(0,s._)("a",{class:"has-text-danger",href:"/user/signup"},"create an account"),(0,s.Uk)(". to make an appointment. ")],-1)})),he=[fe],ve={class:"columns"},ge={class:"column is-2 has-text-left"},we={class:"box"},_e=B((function(){return(0,s._)("p",{class:"title is-5"},"Filter",-1)})),be={class:"field has-text-left"},ke={class:"control"},ye=B((function(){return(0,s._)("hr",null,null,-1)})),xe=B((function(){return(0,s._)("span",{style:{color:"#b5b5b5"}},"路",-1)})),De=(0,s.Uk)("All "),Ce=[xe,De],Ue=B((function(){return(0,s._)("span",{style:{color:"#b5b5b5"}},"路",-1)})),Ae=(0,s.Uk)("Public "),Se=[Ue,Ae],Pe=B((function(){return(0,s._)("span",{style:{color:"#b5b5b5"}},"路",-1)})),Me=(0,s.Uk)("Private "),Re=[Pe,Me],ze=B((function(){return(0,s._)("hr",null,null,-1)})),Ne={class:"breadcrumb has-dot-separator","aria-label":"breadcrumbs"},Ie=B((function(){return(0,s._)("span",{style:{color:"#b5b5b5"}},"路",-1)})),Te=["onClick"],qe={key:0,class:"column"},He={class:"column is-5"},Le={class:"image is-square"},Ve=["src"],Oe={class:"column"},Ee={class:"title"},Ze={class:"subtitle"},Fe=["src"],Ye=B((function(){return(0,s._)("br",null,null,-1)})),Be=B((function(){return(0,s._)("br",null,null,-1)})),$e=B((function(){return(0,s._)("p",{class:"subtitle"},"Contacts:",-1)})),je={key:0,class:"block"},Ke={class:"subtitle"},We=["onClick"],Ge={key:1,class:"container box notification is-danger has-text-centered"},Qe=B((function(){return(0,s._)("h1",{class:"title",style:{"margin-top":"12.5%"}},"Hospitals unavailable. Coming soon...",-1)})),Xe=[Qe];function Je(e,t,n,i,r,o){var c=this;return(0,s.wg)(),(0,s.iD)(s.HY,null,[$,(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.isHospitalLoading}])},W,2),(0,s._)("div",G,[(0,s._)("div",{class:(0,v.C_)(["dropdown",{"is-active":r.isActiveDropdown}])},[(0,s._)("div",Q,[(0,s._)("div",X,[(0,s._)("div",J,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.province=e}),style:{width:"300px"},placeholder:"What region are you located?",onClick:t[1]||(t[1]=function(){return o.regionSelect&&o.regionSelect.apply(o,arguments)}),disabled:r.locationPermissionDenied},null,8,ee),[[a.nr,r.province]])]),r.locationPermissionDenied?((0,s.wg)(),(0,s.iD)("div",te,[(0,s._)("a",{class:"has-text-success",onClick:t[2]||(t[2]=function(){return o.getUserLocation&&o.getUserLocation.apply(o,arguments)})},"Enable"),ne,ae,ie])):(0,s.kq)("",!0)]),(0,s._)("div",se,[0!==Object.keys(o.geolocationIndexed).length?((0,s.wg)(),(0,s.iD)("div",re,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.geolocationIndexed,(function(e){return(0,s.wg)(),(0,s.iD)("a",{class:"dropdown-item",key:e._id,onClick:function(t){return o.selectRegion(e.province)}},(0,v.zw)(e.province),9,oe)})),128))])):((0,s.wg)(),(0,s.iD)("div",ce,ue))])])],2)]),""!=r.citiesOrMunicipalities?((0,s.wg)(),(0,s.iD)("div",de,[pe,0==this.checkUser?((0,s.wg)(),(0,s.iD)("div",me,he)):(0,s.kq)("",!0),(0,s._)("div",ve,[(0,s._)("div",ge,[(0,s._)("ul",we,[_e,(0,s._)("div",be,[(0,s._)("div",ke,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.hospital=e}),style:{width:"300px"},placeholder:"Search Hospital..."},null,512),[[a.nr,r.hospital]])])]),ye,(0,s._)("li",null,[(0,s._)("a",{onClick:t[4]||(t[4]=function(){return o.filterAll&&o.filterAll.apply(o,arguments)})},Ce)]),(0,s._)("li",null,[(0,s._)("a",{onClick:t[5]||(t[5]=function(){return o.filterPublic&&o.filterPublic.apply(o,arguments)})},Se)]),(0,s._)("li",null,[(0,s._)("a",{onClick:t[6]||(t[6]=function(){return o.filterPrivate&&o.filterPrivate.apply(o,arguments)})},Re)]),ze,(0,s._)("nav",Ne,[(0,s._)("ul",null,[Ie,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.citiesOrMunicipalities.citiesOrMunicipalities.sort((function(e,t){return e.name>t.name?1:-1})),(function(e,t){return(0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s._)("a",{onClick:function(t){return o.filterByCity(e.name)}},(0,v.zw)(e.name),9,Te)])})),128))])])])]),0!==r.geoHospitalNearestUser.length?((0,s.wg)(),(0,s.iD)("div",qe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.geoHospitalNearestUserIndexed.filter((function(e){return e.type==c.filter1||e.type==c.filter2})).filter((function(e){return e.city.includes(c.city)})),(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"columns has-text-left box",id:"hospital",style:{"margin-bottom":"5%"},key:e._id},[(0,s._)("div",He,[(0,s._)("figure",Le,[(0,s._)("img",{loading:"lazy",src:"https://res.cloudinary.com/leindfraust/image/upload/v1/assets/managers/".concat(e.hospital,".jpg")},null,8,Ve)])]),(0,s._)("div",Oe,[(0,s._)("h1",Ee,(0,v.zw)(e.hospital),1),(0,s._)("p",Ze," "+(0,v.zw)(e.barangayORStreet)+", "+(0,v.zw)(e.city)+", "+(0,v.zw)(e.province),1),(0,s._)("iframe",{loading:"lazy",width:"500",height:"300",id:"geoIframe",src:"https://maps.google.com/maps?q=".concat(e.location.coordinates[1],",").concat(e.location.coordinates[0],"&hl=es;z=14&output=embed")},null,8,Fe),Ye,Be,$e,"undefined"!==typeof e.details[0].contacts?((0,s.wg)(),(0,s.iD)("ul",je,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.details[0].contacts,(function(e,t){return(0,s.wg)(),(0,s.iD)("li",{key:t},(0,v.zw)(e.contact),1)})),128))])):(0,s.kq)("",!0),(0,s._)("p",Ke,(0,v.zw)(parseInt(e.distance)/1e3)+" km away from you.",1),r.checkUser?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"button is-link",onClick:function(t){return o.bookAppointment(e)}},"Book an Appointment",8,We)):(0,s.kq)("",!0)])])})),128))])):r.isHospitalLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ge,Xe))])])):(0,s.kq)("",!0)],64)}n(9826);var et=n(9669),tt=n.n(et),nt={name:"HospitalFinder",computed:{geolocationIndexed:function(){var e=this;return this.geolocation.filter((function(t){return t.province.toLowerCase().includes(e.province.toLowerCase())}))},geoHospitalNearestUserIndexed:function(){var e=this;return!!this.geoHospitalNearestUser&&this.geoHospitalNearestUser.filter((function(t){return t.hospital.toLowerCase().includes(e.hospital.toLowerCase())}))}},created:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().get("/api/geolocation").then((function(t){return e.geolocation=t.data}));case 2:e.getUserLocation();case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!==e.$store.state.patientID?e.checkUser=!0:e.checkUser=!1;case 1:case"end":return t.stop()}}),t)})))()},data:function(){return{locationPermissionDenied:!1,city:"",isHospitalLoading:!1,checkUser:"",hospital:"",geolocation:[],filter1:"Private",filter2:"Public",citiesOrMunicipalities:[],province:"",userLatitude:"",userLongitude:"",isActiveDropdown:!1,geoHospitalNearestUser:""}},methods:{bookAppointment:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.commit("hospitalDetails",e);case 2:return n.next=4,t.$router.push("/user/".concat(t.$store.state.patientUsername,"/doctors"));case 4:case"end":return n.stop()}}),n)})))()},filterByCity:function(e){this.city=e,this.filter1="Private",this.filter2="Public"},filterAll:function(){this.city="",this.filter1="Private",this.filter2="Public"},filterPrivate:function(){this.city="",this.filter1="Private",this.filter2="Private"},filterPublic:function(){this.city="",this.filter1="Public",this.filter2="Public"},regionSelect:function(){this.locationPermissionDenied||(this.isActiveDropdown=!0)},selectRegion:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isHospitalLoading=!0,t.province=e,t.citiesOrMunicipalities=t.geolocation.find((function(t){return t.province===e})),t.isActiveDropdown=!1,n.next=6,tt().post("/api/geoFindHospitalNearestUser",{province:t.province,latitude:t.userLatitude,longitude:t.userLongitude}).then((function(e){return t.geoHospitalNearestUser=e.data}));case 6:t.isHospitalLoading=!1;case 7:case"end":return n.stop()}}),n)})))()},getUserLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.geoUserPosition,this.geoUserPositionError):alert("Geolocation is not supported by this browser")},geoUserPosition:function(e){this.userLatitude=e.coords.latitude,this.userLongitude=e.coords.longitude},geoUserPositionError:function(e){switch(e.code){case e.PERMISSION_DENIED:this.locationPermissionDenied=!0;break;case e.POSITION_UNAVAILABLE:alert("Unable to obtain Geolocation information.");break;case e.TIMEOUT:alert("Request timed out.");break;case e.UNKNOWN_ERROR:alert("An unknown error occured, please try again.");break}}}};const at=(0,c.Z)(nt,[["render",Je],["__scopeId","data-v-4c0422e0"]]);var it=at,st=function(e){return(0,s.dD)("data-v-0b046bae"),e=e(),(0,s.Cn)(),e},rt={class:"navbar",role:"navigation","aria-label":"main navigation"},ot={class:"navbar-brand"},ct=st((function(){return(0,s._)("a",{class:"navbar-item",href:"/"},[(0,s._)("img",{src:"https://bulma.io/images/bulma-logo.png",width:"112"})],-1)})),lt=st((function(){return(0,s._)("span",{"aria-hidden":"true"},null,-1)})),ut=st((function(){return(0,s._)("span",{"aria-hidden":"true"},null,-1)})),dt=st((function(){return(0,s._)("span",{"aria-hidden":"true"},null,-1)})),pt=[lt,ut,dt],mt={class:"navbar-start"},ft=st((function(){return(0,s._)("a",{class:"navbar-item"},"About",-1)})),ht={key:0,class:"navbar-end"},vt={key:0,class:"has-text-danger"},gt={class:"fa-solid fa-bell animate__animated animate__heartBeat animate__infinite"},wt={class:"is-size-7"},_t={key:1,class:"has-text-info"},bt=st((function(){return(0,s._)("i",{class:"fa-solid fa-bell"},null,-1)})),kt=[bt],yt={key:0,class:"navbar-dropdown is-right notif-list"},xt=["onClick"],Dt=["onClick"],Ct={key:1,class:"navbar-dropdown is-right"},Ut=st((function(){return(0,s._)("div",{class:"navbar-item"},"No new notifications.",-1)})),At=[Ut],St={class:"navbar-link"},Pt=["src"],Mt={class:"navbar-dropdown"},Rt=(0,s.Uk)("Profile"),zt=(0,s.Uk)("Security"),Nt=st((function(){return(0,s._)("hr",{class:"navbar-divider"},null,-1)})),It=st((function(){return(0,s._)("strong",null,"Logout",-1)})),Tt=[It],qt={key:1,class:"navbar-end"},Ht={class:"navbar-item"},Lt={class:"buttons"},Vt=(0,s.Uk)("Log in"),Ot=st((function(){return(0,s._)("strong",null,"Sign up",-1)})),Et=st((function(){return(0,s._)("div",{class:"modal-background"},null,-1)})),Zt={class:"modal-content box"},Ft={class:"section"},Yt={class:"title"},Bt={class:"subtitle"},$t={class:"subtitle"};function jt(e,t,n,a,i,r){var o=this,c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",rt,[(0,s._)("div",ot,[ct,(0,s._)("a",{role:"button",class:(0,v.C_)(["navbar-burger",{"is-active":i.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:t[0]||(t[0]=function(){return r.navbar&&r.navbar.apply(r,arguments)})},pt,2)]),(0,s._)("div",{id:"navbar",class:(0,v.C_)(["navbar-menu",{"is-active":i.isActive}])},[(0,s._)("div",mt,[ft,(0,s._)("a",{class:"navbar-item",onClick:t[1]||(t[1]=function(e){return o.$router.push("/contactus")})},"Contact Us")]),""!=i.patient?((0,s.wg)(),(0,s.iD)("div",ht,[(0,s._)("div",{class:(0,v.C_)(["navbar-item has-dropdown",{"is-active":i.isActiveNotifications}])},[(0,s._)("a",{class:"navbar-link",onClick:t[2]||(t[2]=function(){return r.notification&&r.notification.apply(r,arguments)})},[i.notifications.find((function(e){return!0===e.new}))?((0,s.wg)(),(0,s.iD)("span",vt,[(0,s._)("i",gt,[(0,s._)("span",wt,(0,v.zw)(i.notifications.filter((function(e){return e.new})).length),1)])])):((0,s.wg)(),(0,s.iD)("span",_t,kt))]),0!==i.notifications.length?((0,s.wg)(),(0,s.iD)("div",yt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.notifications.sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})),(function(e,t){return(0,s.wg)(),(0,s.iD)("div",{class:"navbar-item",key:t},[(0,s._)("div",{class:(0,v.C_)(["notification is-info",{"is-light":!e.new}])},[(0,s._)("a",{style:{"text-decoration":"none"},onClick:function(n){return r.openNotif(e,t)}},"From Dr. "+(0,v.zw)(e.from),9,xt),(0,s._)("button",{class:"delete",onClick:function(t){return r.deleteNotif(e)}},null,8,Dt)],2)])})),128))])):((0,s.wg)(),(0,s.iD)("div",Ct,At))],2),(0,s._)("div",{class:(0,v.C_)(["navbar-item has-dropdown",{"is-active":i.isActiveMenuDropdown}]),onClick:t[4]||(t[4]=function(e){return i.isActiveMenuDropdown=!i.isActiveMenuDropdown})},[(0,s._)("a",St,[(0,s._)("img",{src:i.imgPreUrl+i.patient+i.svgExtUrl},null,8,Pt),(0,s.Uk)(" "+(0,v.zw)(i.patient),1)]),(0,s._)("div",Mt,[(0,s.Wm)(c,{to:"/user/".concat(i.patient,"/profile"),class:"navbar-item"},{default:(0,s.w5)((function(){return[Rt]})),_:1},8,["to"]),(0,s.Wm)(c,{to:"/user/".concat(i.patient,"/security"),class:"navbar-item"},{default:(0,s.w5)((function(){return[zt]})),_:1},8,["to"]),Nt,(0,s._)("a",{class:"navbar-item has-text-danger",onClick:t[3]||(t[3]=function(){return r.logout&&r.logout.apply(r,arguments)})},Tt)])],2)])):((0,s.wg)(),(0,s.iD)("div",qt,[(0,s._)("div",Ht,[(0,s._)("div",Lt,[(0,s.Wm)(c,{to:"/user/login",class:"button is-light"},{default:(0,s.w5)((function(){return[Vt]})),_:1}),(0,s.Wm)(c,{to:"/user/signup",class:"button is-primary"},{default:(0,s.w5)((function(){return[Ot]})),_:1})])])]))],2)]),(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":i.isActiveModal}])},[Et,(0,s._)("div",Zt,[(0,s._)("section",Ft,[(0,s._)("p",Yt,"From Dr. "+(0,v.zw)(i.viewNotif.from),1),(0,s._)("p",Bt,(0,v.zw)(new Date(i.viewNotif.date).toDateString()),1),(0,s._)("p",$t,(0,v.zw)(i.viewNotif.message),1)])]),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[5]||(t[5]=function(){return r.closeNotificationModal&&r.closeNotificationModal.apply(r,arguments)})})],2)],64)}var Kt=n(9367),Wt=(0,Kt.io)({autoConnect:!1}),Gt=Wt,Qt={name:"NavigationTab",mounted:function(){var e=this;this.$store.state.patientID&&(Gt.connect(),Gt.emit("join room",this.$store.state.patientID),Gt.on("send messages",(function(t){e.notifications=t})),Gt.on("delete messages",(function(t){e.notifications=t})),Gt.on("messages",(function(t){e.notifications=t})))},data:function(){return{isActiveNotifications:!1,isActiveModal:!1,isActiveMenuDropdown:!1,isActive:!1,patient:this.$store.state.patientUsername,imgPreUrl:"https://avatars.dicebear.com/api/micah/",svgExtUrl:".svg",notifications:[],viewNotif:[]}},methods:{navbar:function(){this.isActive=!this.isActive},logout:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.commit("patientID",null);case 2:return t.next=4,e.$store.commit("patientUsername","");case 4:return t.next=6,tt()["delete"]("/session/patient");case 6:return t.next=8,e.$router.push("/user/login");case 8:Gt.disconnect();case 9:case"end":return t.stop()}}),t)})))()},notification:function(){this.isActiveNotifications=!this.isActiveNotifications},deleteNotif:function(e){Gt.emit("delete message",this.$store.state.patientID,e)},openNotif:function(e,t){this.viewNotif=e,this.isActiveModal=!0,this.viewNotif.new&&(this.notifications[t].new=!1,Gt.emit("update message",this.notifications))},closeNotificationModal:function(){this.isActiveModal=!1}}};const Xt=(0,c.Z)(Qt,[["render",jt],["__scopeId","data-v-0b046bae"]]);var Jt=Xt,en={name:"HomePage",components:{NavigationTabVue:Jt,HospitalFinderVue:it},data:function(){return{userPatient:null,covidAPIPh:[],covidAPIWorldWide:[]}},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().get("/session/patient").then((function(t){return e.userPatient=t.data}));case 2:return t.next=4,e.userPatient.username;case 4:if(!t.sent){t.next=9;break}return e.$store.commit("patientUsername",e.userPatient.username),e.$store.commit("patientID",e.userPatient._id),t.next=9,e.$router.push("/user/".concat(e.userPatient.username));case 9:return t.next=11,tt().get("https://disease.sh/v3/covid-19/countries/philippines").then((function(t){return e.covidAPIPh=t.data}));case 11:return t.next=13,tt().get("https://disease.sh/v3/covid-19/all").then((function(t){return e.covidAPIWorldWide=t.data}));case 13:case"end":return t.stop()}}),t)})))()}};const tn=(0,c.Z)(en,[["render",F],["__scopeId","data-v-221b70ff"]]);var nn=tn,an=(n(2526),n(1817),function(e){return(0,s.dD)("data-v-efaf2c0c"),e=e(),(0,s.Cn)(),e}),sn=an((function(){return(0,s._)("div",{class:"modal-background"},null,-1)})),rn=an((function(){return(0,s._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,s._)("div",{class:"loader",style:{margin:"auto"}})],-1)})),on=[sn,rn],cn={class:"section"},ln={class:"columns"},un={class:"column"},dn={key:0,class:"container box"},pn={class:"title"},mn={class:"subtitle"},fn={class:"subtitle is-6"},hn={class:"image is-16by9"},vn=["src"],gn=an((function(){return(0,s._)("br",null,null,-1)})),wn={class:"columns"},_n={class:"column"},bn=["src"],kn={class:"column"},yn=an((function(){return(0,s._)("p",{class:"subtitle"},"Contacts:",-1)})),xn={key:0,class:"block"},Dn={class:"column"},Cn={class:"box container"},Un={class:"block"},An=an((function(){return(0,s._)("h1",{class:"title"},"Pick a specialist.",-1)})),Sn={key:0,class:"subtitle"},Pn=(0,s.Uk)(" Having trouble picking a specialist? Get appointed to a "),Mn=(0,s.Uk)(". "),Rn={key:1,class:"columns is-multiline is-mobile"},zn=["onClick"],Nn={key:0,class:"image is-4by3"},In=["src"],Tn={key:1,class:"subtitle has-text-centered"},qn={key:2,class:"container"},Hn={key:0},Ln=an((function(){return(0,s._)("br",null,null,-1)})),Vn=an((function(){return(0,s._)("p",{class:"subtitle has-text-centered"},"No doctors are currently available in this specialization.",-1)})),On=[Ln,Vn],En={key:1},Zn=an((function(){return(0,s._)("br",null,null,-1)})),Fn=an((function(){return(0,s._)("h1",{class:"title is-3"},"Choose a doctor:",-1)})),Yn={class:"field"},Bn={class:"control"},$n={key:2},jn={key:0},Kn={class:"media"},Wn={class:"media-left"},Gn={class:"image is-64x64"},Qn=["src"],Xn={class:"media-content"},Jn={class:"title is-4"},ea={class:"subtitle is-6"},ta=["onClick"],na={key:1},aa={key:0,class:"notification is-info"};function ia(e,t,n,i,r,o){var c=(0,s.up)("NavigationTab");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c),(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.isDoctorLoading}])},on,2),(0,s._)("section",cn,[(0,s._)("div",ln,[(0,s._)("div",un,[r.hospitalDetails?((0,s.wg)(),(0,s.iD)("div",dn,[(0,s._)("h1",pn,(0,v.zw)(r.hospitalDetails.hospital),1),(0,s._)("p",mn," "+(0,v.zw)(r.hospitalDetails.barangayORStreet)+", "+(0,v.zw)(r.hospitalDetails.city)+", "+(0,v.zw)(r.hospitalDetails.province),1),(0,s._)("p",fn,(0,v.zw)(r.hospitalDetails.details[0].description),1),(0,s._)("figure",hn,[(0,s._)("img",{src:"https://res.cloudinary.com/leindfraust/image/upload/v1/assets/managers/".concat(r.hospitalDetails.hospital,".jpg")},null,8,vn)]),gn,(0,s._)("div",wn,[(0,s._)("div",_n,[(0,s._)("iframe",{src:"https://maps.google.com/maps?q=".concat(r.hospitalDetails.location.coordinates[1],",").concat(r.hospitalDetails.location.coordinates[0],"&hl=es;z=14&output=embed")},null,8,bn)]),(0,s._)("div",kn,[yn,"undefined"!==typeof r.hospitalDetails.details[0].contacts?((0,s.wg)(),(0,s.iD)("ul",xn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.hospitalDetails.details[0].contacts,(function(e){return(0,s.wg)(),(0,s.iD)("li",{key:e.contact},(0,v.zw)(e.contact),1)})),128))])):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0)]),(0,s._)("div",Dn,[(0,s._)("div",Cn,[(0,s._)("div",Un,[An,r.specializationClicked?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",Sn,[Pn,(0,s._)("a",{class:"has-text-link",onClick:t[0]||(t[0]=function(e){return o.getDoctors("General Practitioner")})},"General Practitioner"),Mn])),r.specializationClicked?((0,s.wg)(),(0,s.iD)("div",qn,[(0,s._)("button",{class:"button",onClick:t[1]||(t[1]=function(){return o.viewSpecializations&&o.viewSpecializations.apply(o,arguments)})},"猬锔 Specializations"),""==r.doctorList?((0,s.wg)(),(0,s.iD)("div",Hn,On)):((0,s.wg)(),(0,s.iD)("div",En,[Zn,Fn,(0,s._)("div",Yn,[(0,s._)("div",Bn,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.doctorSearchBar=e}),placeholder:"Search..."},null,512),[[a.nr,r.doctorSearchBar]])])])])),r.specializationClicked?((0,s.wg)(),(0,s.iD)("div",$n,[0!==Object.keys(o.doctorSearch).length?((0,s.wg)(),(0,s.iD)("div",jn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.doctorSearch,(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"card-content",key:e._id},[(0,s._)("div",Kn,[(0,s._)("figure",Wn,[(0,s._)("p",Gn,[(0,s._)("img",{src:"http://res.cloudinary.com/leindfraust/image/upload/v1/assets/doctors/".concat(e.alias,".jpg")},null,8,Qn)])]),(0,s._)("div",Xn,[(0,s._)("p",Jn,(0,v.zw)(e.name),1),(0,s._)("p",ea,(0,v.zw)(r.pickedSpecialist),1),(0,s._)("button",{class:"button",onClick:function(t){return o.pickDoctor(e)}},"Appoint",8,ta)])])])})),128))])):((0,s.wg)(),(0,s.iD)("div",na,[""!=r.doctorList?((0,s.wg)(),(0,s.iD)("div",aa,"No such doctor is available right now.")):(0,s.kq)("",!0)]))])):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("div",Rn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.specialistList,(function(e,t){return(0,s.wg)(),(0,s.iD)("div",{class:"column is-4",key:t},[(0,s._)("a",{onClick:function(t){return o.getDoctors(e.specialist)}},["General Practitioner"!==e.specialist?((0,s.wg)(),(0,s.iD)("figure",Nn,[(0,s._)("img",{src:"https://ui-avatars.com/api/?name=".concat(e.specialist)},null,8,In)])):(0,s.kq)("",!0),"General Practitioner"!==e.specialist?((0,s.wg)(),(0,s.iD)("p",Tn,(0,v.zw)(e.specialist),1)):(0,s.kq)("",!0)],8,zn)])})),128))]))])])])])])],64)}var sa={name:"DoctorList",components:{NavigationTab:Jt},data:function(){return{hospitalDetails:this.$store.state.hospitalDetails,patientDetails:null,doctorList:null,specialistList:this.$store.state.hospitalDetails.specializations.sort(),pickedSpecialist:null,specializationClicked:!1,doctorSearchBar:"",isDoctorLoading:!1}},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().get("/session/patient").then((function(t){return e.patientDetails=t.data}));case 2:case"end":return t.stop()}}),t)})))()},computed:{doctorSearch:function(){var e=this;return!!this.doctorList&&this.doctorList.filter((function(t){return t.name.toLowerCase().includes(e.doctorSearchBar.toLowerCase())}))}},methods:{getDoctors:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.doctorSearchBar="",t.isDoctorLoading=!0,t.specializationClicked=!0,t.pickedSpecialist=e,n.next=6,tt().post("/api/checkDoctorAvailability",{hospital:t.hospitalDetails.hospital,specialist:e}).then((function(e){return t.doctorList=e?e.data.filter((function(e){return e.schedule.find((function(e){return new Date(e.date).getTime()>(new Date).getTime()}))})):""})).catch((function(e){return console.log(e)}));case 6:t.isDoctorLoading=!1;case 7:case"end":return n.stop()}}),n)})))()},viewSpecializations:function(){this.specializationClicked=!1},pickDoctor:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return f.commit("doctorDetails",e),f.commit("statusAvailability",!0),f.commit("hospitalName",t.hospitalDetails.hospital),n.next=5,t.$router.push("/user/".concat(t.patientDetails.username,"/registration"));case 5:case"end":return n.stop()}}),n)})))()}}};const ra=(0,c.Z)(sa,[["render",ia],["__scopeId","data-v-efaf2c0c"]]);var oa=ra,ca=function(e){return(0,s.dD)("data-v-0b42f602"),e=e(),(0,s.Cn)(),e},la={class:"section",style:{"background-color":"whitesmoke"}},ua=ca((function(){return(0,s._)("div",{class:"modal-background"},null,-1)})),da=ca((function(){return(0,s._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,s._)("div",{class:"loader",style:{margin:"auto"}})],-1)})),pa=[ua,da],ma={key:0,class:"notification is-danger"},fa=(0,s.Uk)("Something went wrong, please try again later or "),ha=ca((function(){return(0,s._)("a",{href:"/contactus"},"Contact us",-1)})),va=[fa,ha],ga={class:"container"},wa={class:"tabs is-centered"},_a=ca((function(){return(0,s._)("a",{style:{"pointer-events":"none"}},"Basic Details",-1)})),ba=[_a],ka=ca((function(){return(0,s._)("a",{style:{"pointer-events":"none"}},"Schedules",-1)})),ya=[ka],xa={class:"section animate__animated animate__fadeInLeft",style:{width:"40%",margin:"auto","background-color":"white","border-radius":"5px","box-shadow":"5px 10px rgb(221, 221, 221)"}},Da={class:"field"},Ca={key:0},Ua=ca((function(){return(0,s._)("div",{class:"has-text-danger"},"All fields are required.*",-1)})),Aa=ca((function(){return(0,s._)("label",{class:"label"},"First name",-1)})),Sa={class:"control"},Pa=["value"],Ma=ca((function(){return(0,s._)("label",{class:"label"},"Last Name",-1)})),Ra={class:"control"},za=ca((function(){return(0,s._)("label",{class:"label"},"Contact Number:",-1)})),Na={class:"block control"},Ia=ca((function(){return(0,s._)("label",{class:"label"},"What are you feeling?",-1)})),Ta=ca((function(){return(0,s._)("label",{class:"label"},"Birthday",-1)})),qa={class:"control"},Ha={class:"is-block"},La=["onClick"],Va=["value"],Oa={class:"block control"},Ea=ca((function(){return(0,s._)("label",{class:"label"},"Current Address",-1)})),Za=["value"],Fa=ca((function(){return(0,s._)("br",null,null,-1)})),Ya={class:"block has-text-centered"},Ba=["disabled"],$a=ca((function(){return(0,s._)("br",null,null,-1)})),ja={key:0},Ka={class:"field"},Wa=ca((function(){return(0,s._)("h1",{class:"subtitle has-text-black has-text-weight-bold"},"Pick your preferred schedule:",-1)})),Ga=ca((function(){return(0,s._)("hr",null,null,-1)})),Qa={class:"controls"},Xa={class:"radio"},Ja=["onClick"],ei={class:"subtitle has-text-black"},ti=ca((function(){return(0,s._)("br",null,null,-1)})),ni={class:"has-text-black"},ai={style:{"pointer-events":"none"},class:"button statusSched"},ii={key:0,class:"has-text-success"},si={key:1,class:"has-text-danger"},ri=ca((function(){return(0,s._)("br",null,null,-1)})),oi=ca((function(){return(0,s._)("br",null,null,-1)})),ci=ca((function(){return(0,s._)("br",null,null,-1)})),li={class:"block has-text-centered"},ui=["disabled"];function di(e,t,n,i,r,o){var c=(0,s.up)("NavigationTab"),l=(0,s.up)("v-date-picker");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c),(0,s._)("section",la,[(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.isLoading}])},pa,2),r.errMsg?((0,s.wg)(),(0,s.iD)("div",ma,va)):(0,s.kq)("",!0),(0,s._)("div",ga,[(0,s._)("div",wa,[(0,s._)("ul",null,[(0,s._)("li",{class:(0,v.C_)({"is-active":r.isActiveTabOne})},ba,2),(0,s._)("li",{class:(0,v.C_)({"is-active":r.isActiveTabTwo})},ya,2)])]),(0,s._)("section",xa,[(0,s._)("form",Da,[r.basicDetailsDone?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ca,[Ua,Aa,(0,s._)("div",Sa,[(0,s._)("input",{class:"input",type:"text",value:r.firstName,placeholder:"First Name",required:""},null,8,Pa)]),Ma,(0,s._)("div",Ra,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.lastName=e}),placeholder:"Last Name",required:""},null,512),[[a.nr,r.lastName]])]),za,(0,s._)("div",Na,[(0,s.wy)((0,s._)("input",{class:"input",type:"number","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.contactNum=e}),placeholder:"Contact Number",required:""},null,512),[[a.nr,r.contactNum]])]),Ia,(0,s.wy)((0,s._)("textarea",{class:"textarea","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.comments=e}),placeholder:"Your symptoms, general well being etc...",required:""},null,512),[[a.nr,r.comments]]),Ta,(0,s._)("div",qa,[(0,s.Wm)(l,{class:"block",modelValue:r.birthDay,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.birthDay=e})},{default:(0,s.w5)((function(e){var t=e.inputValue,n=e.togglePopover;return[(0,s._)("div",Ha,[(0,s._)("a",{style:{margin:"auto"},onClick:function(e){return n()}},[(0,s._)("input",{style:{cursor:"pointer"},value:t,class:"input",readonly:""},null,8,Va)],8,La)])]})),_:1},8,["modelValue"])]),(0,s._)("div",Oa,[Ea,(0,s._)("input",{class:"input",type:"text",value:r.currentAddress},null,8,Za)]),Fa,(0,s._)("div",Ya,[(0,s._)("button",{type:"button",class:"button is-success",disabled:""==r.firstName||""==r.lastName||null==r.birthDay||""==r.contactNum||""==r.comments||""==r.currentAddress,onClick:t[4]||(t[4]=function(){return o.proceedSched&&o.proceedSched.apply(o,arguments)})},"Proceed",8,Ba)])]))]),$a,r.basicDetailsDone?((0,s.wg)(),(0,s.iD)("div",ja,[(0,s._)("form",Ka,[Wa,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.doctorSched.filter((function(e){return new Date(e.date).getTime()>(new Date).getTime()})).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})),(function(e,t){return(0,s.wg)(),(0,s.iD)("div",{key:e.id,style:{width:"75%",margin:"auto"}},[Ga,(0,s._)("div",Qa,[(0,s._)("label",Xa,[(0,s._)("input",{type:"radio",class:"radioSched",name:"schedule",onClick:function(n){return o.pickSched(t,e,e.prefix)}},null,8,Ja),(0,s._)("span",ei,(0,v.zw)(new Date(e.date).toDateString()),1),ti,(0,s._)("span",ni,(0,v.zw)(e.timeStart)+" - "+(0,v.zw)(e.timeEnd),1)]),(0,s._)("a",ai,[r.schedAvailability?((0,s.wg)(),(0,s.iD)("span",ii,"Available")):((0,s.wg)(),(0,s.iD)("span",si,"Unavailable"))])]),ri])})),128)),oi,ci,(0,s._)("div",li,[(0,s._)("span",null,[(0,s._)("button",{class:"button is-danger",type:"button",style:{"margin-right":"5%"},onClick:t[5]||(t[5]=function(){return o.goBack&&o.goBack.apply(o,arguments)})},"Go Back"),(0,s._)("button",{type:"button",class:"button is-primary",disabled:null==r.schedule,onClick:t[6]||(t[6]=function(){return o.appoint&&o.appoint.apply(o,arguments)})},"Submit appointment",8,ui)])])])])):(0,s.kq)("",!0)])])])],64)}var pi={name:"RegForm",components:{NavigationTab:Jt},data:function(){return{checkPatientRecord:null,patient:null,doctorSched:f.state.doctorDetails.schedule,firstName:null,lastName:null,birthDay:null,comments:null,contactNum:null,schedule:null,currentAddress:null,priorityNum:null,patientsAppointed:null,doctorDetails:f.state.doctorDetails,basicDetailsDone:!1,isActiveTabOne:!0,isActiveTabTwo:!1,isLoading:!1,schedAvailability:!1,radioIndex:null,prefix:null,hospital:f.state.hospitalName,refID:null,errMsg:!1}},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().get("/session/patient").then((function(t){return e.patient=t.data}));case 2:return t.next=4,e.patient.name[0];case 4:return e.firstName=t.sent,t.next=7,e.patient.name[1];case 7:return e.lastName=t.sent,t.next=10,e.doctorDetails.patients.find((function(t){return t.patient===e.patient._id}));case 10:return e.checkPatientRecord=t.sent,t.next=13,e.patient.currentAddress;case 13:e.currentAddress=t.sent;case 14:case"end":return t.stop()}}),t)})))()},methods:{appoint:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){var n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,n=document.getElementsByClassName("radioSched"),a=document.getElementsByClassName("statusSched"),t.next=5,tt().get("/api/appointmentList").then((function(t){return e.patientsAppointed=t.data.filter((function(t){return t.schedule[0].date===e.schedule.date&&t.doctorID==e.doctorDetails._id})).length}));case 5:return t.next=7,e.patientsAppointed;case 7:if(t.t0=t.sent,t.t1=e.schedule.appointmentLimit,!(t.t0<t.t1)){t.next=46;break}return t.next=12,tt().get("/api/appointmentList").then((function(t){return e.priorityNum=t.data.filter((function(t){return t.schedule[0].date===e.schedule.date&&t.doctorID==e.doctorDetails._id})).length+1}));case 12:if("undefined"!==typeof e.checkPatientRecord&&e.checkPatientRecord){t.next=30;break}return t.prev=13,e.generateRefID(),t.next=17,tt().post("/api/patientUpdate",{doctorID:e.doctorDetails._id,patientID:e.patient._id,patientFullName:e.firstName+" "+e.lastName});case 17:return t.next=19,tt().post("/api/appointmentList",{referenceID:e.refID,hospital:e.hospital,doctorID:e.doctorDetails._id,doctorName:e.doctorDetails.name,patientID:e.patient._id,firstName:e.firstName,lastName:e.lastName,contactNum:e.contactNum,birthDay:e.birthDay.toDateString(),comments:e.comments,schedule:e.schedule,priorityNum:e.prefix+"-"+e.priorityNum});case 19:return i={referenceID:e.refID,hospital:e.hospital,doctor:e.doctorDetails.name,firstName:e.firstName,lastName:e.lastName,contactNum:e.contactNum,birthDay:e.birthDay.toDateString(),comments:e.comments,schedule:e.schedule,priorityNum:e.prefix+"-"+e.priorityNum},f.commit("patientDetails",i),t.next=23,e.$router.push("/success");case 23:t.next=28;break;case 25:t.prev=25,t.t2=t["catch"](13),e.errMsg=t.t2;case 28:t.next=44;break;case 30:return t.prev=30,e.generateRefID(),t.next=34,tt().post("/api/appointmentList",{referenceID:e.refID,hospital:e.hospital,doctorID:e.doctorDetails._id,doctorName:e.doctorDetails.name,patientID:e.patient._id,firstName:e.firstName,lastName:e.lastName,contactNum:e.contactNum,birthDay:e.birthDay.toDateString(),comments:e.comments,schedule:e.schedule,priorityNum:e.prefix+"-"+e.priorityNum});case 34:return s={referenceID:e.refID,hospital:e.hospital,doctor:e.doctorDetails.name,firstName:e.firstName,lastName:e.lastName,contactNum:e.contactNum,birthDay:e.birthDay.toDateString(),comments:e.comments,schedule:e.schedule,priorityNum:e.prefix+"-"+e.priorityNum},e.isLoading=!1,f.commit("patientDetails",s),t.next=39,e.$router.push("/success");case 39:t.next=44;break;case 41:t.prev=41,t.t3=t["catch"](30),e.errMsg=t.t3;case 44:t.next=52;break;case 46:e.isLoading=!1,e.schedAvailability=!1,e.schedule=null,n[e.radioIndex].checked=!1,n[e.radioIndex].disabled=!0,a[e.radioIndex].style.display="block";case 52:case"end":return t.stop()}}),t,null,[[13,25],[30,41]])})))()},proceedSched:function(){this.isActiveTabOne=!1,this.isActiveTabTwo=!0,this.basicDetailsDone=!0},goBack:function(){this.isActiveTabOne=!0,this.isActiveTabTwo=!1,this.basicDetailsDone=!1},pickSched:function(e,t,n){var a=this;return(0,Y.Z)(regeneratorRuntime.mark((function i(){var s,r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:for(a.radioIndex=e,a.isLoading=!0,s=document.getElementsByClassName("radioSched"),r=document.getElementsByClassName("statusSched"),o=0;o<r.length;o++)r[o].style.display="none";return i.next=7,t;case 7:return a.schedule=i.sent,i.next=10,tt().get("/api/appointmentList").then((function(e){return a.patientsAppointed=e.data.filter((function(e){return e.schedule[0].date===a.schedule.date&&e.doctorID==a.doctorDetails._id})).length}));case 10:return i.next=12,a.patientsAppointed;case 12:if(i.t0=i.sent,i.t1=a.schedule.appointmentLimit,!(i.t0<i.t1)){i.next=21;break}a.isLoading=!1,a.schedAvailability=!0,a.prefix=n,r[e].style.display="block",i.next=27;break;case 21:a.isLoading=!1,a.schedAvailability=!1,a.schedule=null,s[e].checked=!1,s[e].disabled=!0,r[e].style.display="block";case 27:case"end":return i.stop()}}),i)})))()},generateRefID:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,a=0;a<12;a++)e+=t.charAt(Math.floor(Math.random()*n));this.refID=e.toUpperCase()}}};const mi=(0,c.Z)(pi,[["render",di],["__scopeId","data-v-0b42f602"]]);var fi=mi,hi=function(e){return(0,s.dD)("data-v-7015c895"),e=e(),(0,s.Cn)(),e},vi={class:"hero is-fullheight"},gi={class:"hero-body animate__animated animate__fadeInLeft"},wi={class:"box has-text-centered",style:{margin:"auto"}},_i={class:"container is-fluid",style:{width:"100%",margin:"auto"}},bi={class:"field",style:{"margin-top":"5%"}},ki=hi((function(){return(0,s._)("h1",{class:"title has-text-link has-text-left"},"Nice to see you Doc.",-1)})),yi={class:"control"},xi={class:"control",style:{"margin-top":"2%"}},Di={key:0,class:"has-text-danger",style:{"margin-top":"5%"}},Ci={key:1,class:"has-text-danger",style:{"margin-top":"5%"}},Ui=hi((function(){return(0,s._)("hr",null,null,-1)})),Ai=hi((function(){return(0,s._)("h1",{class:"title"},"Or",-1)}));function Si(e,t,n,i,r,o){var c=(0,s.up)("ForgotPassword");return(0,s.wg)(),(0,s.iD)("section",vi,[(0,s._)("div",gi,[(0,s._)("div",wi,[(0,s._)("div",_i,[(0,s._)("form",bi,[ki,(0,s._)("div",yi,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e}),placeholder:"username",onKeyup:t[1]||(t[1]=(0,a.D2)((function(){return o.login&&o.login.apply(o,arguments)}),["enter"])),required:""},null,544),[[a.nr,r.username]])]),(0,s._)("div",xi,[(0,s.wy)((0,s._)("input",{class:"input",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.password=e}),placeholder:"password",onKeyup:t[3]||(t[3]=(0,a.D2)((function(){return o.login&&o.login.apply(o,arguments)}),["enter"])),required:""},null,544),[[a.nr,r.password]])]),r.incorrectUserPass?((0,s.wg)(),(0,s.iD)("p",Di,(0,v.zw)(r.validateMessage),1)):0==r.incorrectUserPass?((0,s.wg)(),(0,s.iD)("p",Ci,(0,v.zw)(r.validateMessage),1)):(0,s.kq)("",!0),(0,s._)("button",{type:"button",class:"button is-primary",onClick:t[4]||(t[4]=function(){return o.login&&o.login.apply(o,arguments)})},"Login"),Ui,Ai,(0,s._)("a",{onClick:t[5]||(t[5]=function(){return o.signup&&o.signup.apply(o,arguments)}),class:"is-danger"},"Create an account")])]),(0,s.Wm)(c,{userType:"doctor"})])])])}var Pi=n(4934),Mi=new Pi.Cloudinary({cloud_name:"leindfraust"}),Ri=Mi,zi=n(9615),Ni={name:"LoginDoctor",component:zi["default"],data:function(){return{username:null,password:null,userDoctor:null,incorrectUserPass:Boolean,validateMessage:"",specializations:null,profileImg:null}},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().get("/session/doctor").then((function(t){return e.userDoctor=t.data}));case 2:return t.next=4,e.userDoctor.alias;case 4:if(!t.sent){t.next=10;break}return f.commit("alias",e.userDoctor.alias),f.commit("doctorID",e.userDoctor._id),f.commit("profileImg",Ri.imageTag("assets/doctors/".concat(e.userDoctor.alias,".jpg")).toHtml()),t.next=10,e.$router.push("/doctor/user/".concat(e.userDoctor.alias));case 10:case"end":return t.stop()}}),t)})))()},methods:{login:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.username;case 2:if(t.t1=t.sent,t.t0=null==t.t1,t.t0){t.next=6;break}t.t0=null==e.password;case 6:if(!t.t0){t.next=13;break}e.incorrectUserPass=!1,e.validateMessage="empty username or password",e.username=null,e.password=null,t.next=31;break;case 13:return t.next=15,tt().post("/api/auth/doctor",{username:e.username,password:e.password}).then((function(t){return e.userDoctor=t.data}));case 15:return t.next=17,e.userDoctor;case 17:if(!t.sent){t.next=27;break}return f.commit("alias",e.userDoctor.alias),f.commit("doctorID",e.userDoctor._id),t.next=22,tt().post("/session/doctor",{verified:e.userDoctor.verified,_id:e.userDoctor._id,licenseNo:e.userDoctor.licenseNo,alias:e.userDoctor.alias,fullname:e.userDoctor.name,specialist:e.userDoctor.specialist,gmail:e.userDoctor.gmail,hospitalOrigin:e.userDoctor.hospitalOrigin,schedule:e.userDoctor.schedule,username:e.userDoctor.username,messageHistory:e.userDoctor.messageHistory});case 22:return f.commit("profileImg",Ri.imageTag("assets/doctors/".concat(e.userDoctor.alias,".jpg")).toHtml()),t.next=25,e.$router.push("/doctor/user/".concat(e.userDoctor.alias));case 25:t.next=31;break;case 27:e.validateMessage="Incorrect username or password",e.incorrectUserPass=!0,e.username=null,e.password=null;case 31:case"end":return t.stop()}}),t)})))()},signup:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push("/doctor/signup");case 2:case"end":return t.stop()}}),t)})))()}},components:{ForgotPassword:zi["default"]}};const Ii=(0,c.Z)(Ni,[["render",Si],["__scopeId","data-v-7015c895"]]);var Ti=Ii,qi=function(e){return(0,s.dD)("data-v-7ca83518"),e=e(),(0,s.Cn)(),e},Hi={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Li={class:"columns"},Vi={class:"column is-2"},Oi={class:"column",style:{"background-color":"whitesmoke"}},Ei={class:"section",style:{"background-color":"whitesmoke"}},Zi=qi((function(){return(0,s._)("h1",{class:"title"},"APPOINTMENTS",-1)})),Fi={class:"field"},Yi={class:"control"},Bi={key:0,class:"container is-widescreen is-fullhd"},$i={key:0,class:"subtitle"},ji=qi((function(){return(0,s._)("b",null,"TODAY",-1)})),Ki=[ji],Wi={class:"subtitle has-text-black"},Gi={class:"table-container"},Qi={class:"table is-striped is-narrow is-fullwidth is-bordered"},Xi=qi((function(){return(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"has-text-black-ter"},"Controls"),(0,s._)("th",{class:"has-text-black-ter"},"Reference ID"),(0,s._)("th",{class:"has-text-black-ter"},"Priority No."),(0,s._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,s._)("th",{class:"has-text-black-ter"},"First Name"),(0,s._)("th",{class:"has-text-black-ter"},"Last Name"),(0,s._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,s._)("th",{class:"has-text-black-ter"},"Birthday"),(0,s._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1)})),Ji=["onClick"],es=qi((function(){return(0,s._)("br",null,null,-1)})),ts=qi((function(){return(0,s._)("div",{class:"modal-background"},null,-1)})),ns={class:"modal-content animate__animated animate__fadeInLeft"},as={class:"field customField has-text-centered"},is=qi((function(){return(0,s._)("label",{class:"label"},"First Name",-1)})),ss={class:"control"},rs=qi((function(){return(0,s._)("label",{class:"label"},"Last Name",-1)})),os={class:"control"},cs=qi((function(){return(0,s._)("label",{class:"label"},"Contact Number",-1)})),ls={class:"control"},us=qi((function(){return(0,s._)("label",{class:"label"},"Birthday",-1)})),ds={class:"control"},ps={class:"has-text-black-ter"},ms={class:"has-text-black-ter"},fs={class:"has-text-black-ter"},hs={class:"has-text-black-ter"},vs={class:"has-text-black-ter"},gs={class:"has-text-black-ter"},ws={class:"has-text-black-ter"},_s={class:"has-text-black-ter"},bs={key:1,class:"section"},ks=qi((function(){return(0,s._)("div",{class:"notification is-info"},[(0,s._)("h1",{class:"title is-5"},"No upcoming appointments.")],-1)})),ys=[ks];function xs(e,t,n,i,r,o){var c=(0,s.up)("DoctorMenu");return(0,s.wg)(),(0,s.iD)("div",Hi,[(0,s._)("div",Li,[(0,s._)("div",Vi,[(0,s.Wm)(c)]),(0,s._)("div",Oi,[(0,s._)("section",Ei,[Zi,(0,s._)("div",Fi,[(0,s._)("div",Yi,[(0,s.wy)((0,s._)("input",{class:"input",type:"text",style:{width:"50% !important"},"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.searchBar=e}),placeholder:"Search..."},null,512),[[a.nr,r.searchBar]])])]),0!==Object.keys(o.appointmentSchedules).length?((0,s.wg)(),(0,s.iD)("div",Bi,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.appointmentSchedules,(function(e,n){return(0,s.wg)(),(0,s.iD)("div",{class:"box",key:n,style:(0,v.j5)(new Date(n).toDateString()==(new Date).toDateString()?"box-shadow: rgb(10 10 10 / 10%) 0px 0.5em 1em -0.125em, #485fc7 0px 0px 0px 1px !important;":"")},[new Date(n).toDateString()==(new Date).toDateString()?((0,s.wg)(),(0,s.iD)("h1",$i,Ki)):(0,s.kq)("",!0),(0,s._)("h1",Wi,"Schedule: "+(0,v.zw)(new Date(n).toDateString()),1),(0,s._)("div",Gi,[(0,s._)("table",Qi,[Xi,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(function(e){return(0,s.wg)(),(0,s.iD)("tbody",{key:e._id},[(0,s._)("tr",null,[(0,s._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:function(t){return o.toggleModal(e.firstName,e.lastName,e.emailAdd,e.contactNum,e.birthDay,e._id)}},"Edit",8,Ji),es,(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.isActiveModal}])},[ts,(0,s._)("div",ns,[(0,s._)("form",as,[is,(0,s._)("div",ss,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.firstName=e}),placeholder:"First Name",required:""},null,512),[[a.nr,r.firstName]])]),rs,(0,s._)("div",os,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.lastName=e}),placeholder:"Last Name",required:""},null,512),[[a.nr,r.lastName]])]),cs,(0,s._)("div",ls,[(0,s.wy)((0,s._)("input",{class:"input",type:"number","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.contactNum=e}),placeholder:"Contact Number",required:""},null,512),[[a.nr,r.contactNum]])]),us,(0,s._)("div",ds,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.birthDay=e}),placeholder:"Birthday",required:""},null,512),[[a.nr,r.birthDay]])]),(0,s._)("button",{class:"button is-primary",type:"button",onClick:t[5]||(t[5]=function(){return o.updateData&&o.updateData.apply(o,arguments)})},"Submit")])]),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[6]||(t[6]=function(){return o.toggleModal&&o.toggleModal.apply(o,arguments)})})],2),(0,s._)("th",ps,(0,v.zw)(e.referenceID),1),(0,s._)("th",ms,(0,v.zw)(e.priorityNum),1),(0,s._)("th",fs,(0,v.zw)(e.hospital),1),(0,s._)("td",hs,(0,v.zw)(e.firstName),1),(0,s._)("td",vs,(0,v.zw)(e.lastName),1),(0,s._)("td",gs,(0,v.zw)(e.contactNum),1),(0,s._)("td",ws,(0,v.zw)(e.birthDay),1),(0,s._)("td",_s,(0,v.zw)(e.comments),1)])])})),128))])])],4)})),128))])):((0,s.wg)(),(0,s.iD)("section",bs,ys))])])])])}var Ds=n(6486),Cs=n.n(Ds),Us=function(e){return(0,s.dD)("data-v-68c92300"),e=e(),(0,s.Cn)(),e},As={class:"navbar is-hidden-desktop"},Ss={class:"navbar-brand"},Ps={class:"navbar-item"},Ms={class:"label"},Rs=Us((function(){return(0,s._)("span",{"aria-hidden":"true"},null,-1)})),zs=Us((function(){return(0,s._)("span",{"aria-hidden":"true"},null,-1)})),Ns=Us((function(){return(0,s._)("span",{"aria-hidden":"true"},null,-1)})),Is=[Rs,zs,Ns],Ts={class:"has-text-centered block",style:{padding:"5px"}},qs={class:"is-hidden-mobile is-hidden-touch image is-square",style:{margin:"auto"}},Hs=["innerHTML"],Ls={class:"is-hidden-desktop image is-128x128",style:{margin:"auto"}},Vs=["innerHTML"],Os={key:0,class:"title is-5"},Es={class:"menu-list block"},Zs=Us((function(){return(0,s._)("p",{class:"menu-label"},"General",-1)})),Fs=Us((function(){return(0,s._)("p",{class:"menu-label"},"Verification and Information",-1)})),Ys=Us((function(){return(0,s._)("p",{class:"menu-label"},"Support",-1)})),Bs=Us((function(){return(0,s._)("hr",null,null,-1)}));function $s(e,t,n,a,i,r){var o=this;return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",As,[(0,s._)("div",Ss,[(0,s._)("a",Ps,[(0,s._)("label",Ms,(0,v.zw)(i.alias),1)]),(0,s._)("a",{role:"button",class:(0,v.C_)(["navbar-burger",{"is-active":!i.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:t[0]||(t[0]=function(){return r.menuNav&&r.menuNav.apply(r,arguments)})},Is,2)])]),(0,s._)("aside",{class:(0,v.C_)(["menu",{"is-hidden-mobile":i.isActive,fixedMenu:i.isActive}]),style:{"background-color":"white",padding:"20px","box-shadow":"5px 10px rgba(240, 240, 240, 0.966)"}},[(0,s._)("div",Ts,[(0,s._)("figure",qs,[(0,s._)("span",{innerHTML:i.profileImg},null,8,Hs)]),(0,s._)("figure",Ls,[(0,s._)("span",{innerHTML:i.profileImg},null,8,Vs)]),i.isActive?((0,s.wg)(),(0,s.iD)("h5",Os,(0,v.zw)(i.alias),1)):(0,s.kq)("",!0)]),(0,s._)("ul",Es,[Zs,(0,s._)("li",null,[(0,s._)("a",{onClick:t[1]||(t[1]=function(){return r.routeHome&&r.routeHome.apply(r,arguments)})},"Appointments")]),(0,s._)("li",null,[(0,s._)("a",{onClick:t[2]||(t[2]=function(){return r.patientLogs&&r.patientLogs.apply(r,arguments)})},"Patient History")]),(0,s._)("li",null,[(0,s._)("a",{onClick:t[3]||(t[3]=function(){return r.openSchedule&&r.openSchedule.apply(r,arguments)})},"Schedule")]),Fs,(0,s._)("li",null,[(0,s._)("a",{onClick:t[4]||(t[4]=function(){return r.profile&&r.profile.apply(r,arguments)})},"Profile")]),(0,s._)("li",null,[(0,s._)("a",{onClick:t[5]||(t[5]=function(){return r.openSecurity&&r.openSecurity.apply(r,arguments)})},"Security")]),Ys,(0,s._)("li",null,[(0,s._)("a",{onClick:t[6]||(t[6]=function(){return e.openFAQs&&e.openFAQs.apply(e,arguments)})},"FAQ")]),(0,s._)("li",null,[(0,s._)("a",{onClick:t[7]||(t[7]=function(e){return o.$router.push("/contactus")})},"Contact Us")])]),Bs,(0,s._)("button",{onClick:t[8]||(t[8]=function(){return r.logout&&r.logout.apply(r,arguments)}),class:"button is-danger",type:"button"},"Logout")],2)],64)}var js={name:"AdminMenu",data:function(){return{alias:f.state.alias,profileImg:f.state.profileImg,isActive:!0}},methods:{logout:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return f.commit("alias",null),t.next=3,tt()["delete"]("/session/doctor");case 3:return t.next=5,e.$router.push("/doctor/login");case 5:case"end":return t.stop()}}),t)})))()},routeHome:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push("/doctor/user/".concat(e.alias));case 2:case"end":return t.stop()}}),t)})))()},profile:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push("/doctor/user/".concat(e.alias,"/profile"));case 2:case"end":return t.stop()}}),t)})))()},patientLogs:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push("/doctor/user/".concat(e.alias,"/patients"));case 2:case"end":return t.stop()}}),t)})))()},openSecurity:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push("/doctor/user/".concat(e.alias,"/security"));case 2:case"end":return t.stop()}}),t)})))()},openSchedule:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push("/doctor/user/".concat(e.alias,"/schedule"));case 2:case"end":return t.stop()}}),t)})))()},menuNav:function(){this.isActive=!this.isActive}}};const Ks=(0,c.Z)(js,[["render",$s],["__scopeId","data-v-68c92300"]]);var Ws=Ks,Gs={name:"DoctorDashboard",components:{DoctorMenu:Ws},data:function(){return{alias:f.state.alias,profileImg:f.state.profileImg,isActiveModal:!1,id:null,firstName:null,lastName:null,birthDay:null,contactNum:null,searchBar:"",schedule:null,appointmentSched:[]}},computed:{appointmentSchedules:function(){var e=this;return!!this.appointmentSched&&Cs().groupBy(this.appointmentSched.filter((function(t){return t.firstName.toLowerCase().includes(e.searchBar.toLowerCase())||t.lastName.toLowerCase().includes(e.searchBar.toLowerCase())||t.referenceID.toLowerCase().includes(e.searchBar.toLowerCase())})).sort((function(e,t){return new Date(e.schedule[0].date).getTime()-new Date(t.schedule[0].date).getTime()})).filter((function(e){return new Date(e.schedule[0].date).getTime()>=(new Date).getTime()&&new Date(e.schedule[0].date).getMonth()>=(new Date).getMonth()})),"schedule[0].date")}},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().post("/api/appointmentList/doctors",{id:f.state.doctorID}).then((function(t){return e.appointmentSched=t.data}));case 2:case"end":return t.stop()}}),t)})))()},methods:{updateData:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().put("/api/appointmentList/".concat(e.id),{firstName:e.firstName,lastName:e.lastName,emailAdd:e.emailAddress,contactNum:e.contactNum,birthDay:e.birthDay});case 2:return t.next=4,tt().get("/api/appointmentList").then((function(t){return e.appointmentSched=t.data.filter((function(e){return e.doctorID===f.state.doctorID}))}));case 4:e.isActiveModal=!e.isActiveModal;case 5:case"end":return t.stop()}}),t)})))()},toggleModal:function(e,t,n,a,i,s){var r=this;return(0,Y.Z)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:r.isActiveModal=!r.isActiveModal,r.firstName=e,r.lastName=t,r.emailAddress=n,r.contactNum=a,r.birthDay=i,r.id=s;case 7:case"end":return o.stop()}}),o)})))()}}};const Qs=(0,c.Z)(Gs,[["render",xs],["__scopeId","data-v-7ca83518"]]);var Xs=Qs,Js=function(e){return(0,s.dD)("data-v-cf487660"),e=e(),(0,s.Cn)(),e},er={class:"section",style:{"background-color":"whitesmoke"}},tr={class:"container box animate__animated animate__fadeInLeft",style:{margin:"auto",width:"50%"}},nr={key:0,class:"notification is-danger"},ar=(0,s.Uk)(" Oops, something went wrong. Try again later or "),ir=(0,s.Uk)("contact us"),sr={action:"/api/imgUploadDoctor",method:"post",enctype:"multipart/form-data"},rr={class:"field is-horizontal"},or={class:"field-body"},cr={class:"field"},lr=Js((function(){return(0,s._)("label",{class:"label"},"License code:",-1)})),ur={class:"control"},dr={class:"field"},pr=Js((function(){return(0,s._)("label",{class:"label"},"Alias",-1)})),mr={key:0},fr={key:0,class:"help is-danger"},hr=(0,s.Uk)(" Unavailable "),vr={key:0,class:"fas fa-spinner fa-spin"},gr={key:1,class:"help is-success"},wr=(0,s.Uk)(" Available "),_r={key:0,class:"fas fa-spinner fa-spin"},br={class:"control"},kr={class:"field"},yr={class:"field-body"},xr={class:"field"},Dr=Js((function(){return(0,s._)("label",{class:"label"},"Full Name",-1)})),Cr={class:"control"},Ur=Js((function(){return(0,s._)("div",{class:"field"},[(0,s._)("label",{class:"label"},"Profile Picture"),(0,s._)("div",{class:"control"},[(0,s._)("input",{class:"input",type:"file",name:"imgFile",required:""})])],-1)})),Ar={class:"field"},Sr=Js((function(){return(0,s._)("label",{class:"label"},"Registration Code",-1)})),Pr={key:0},Mr={key:0,class:"help is-success"},Rr=(0,s.Uk)(" Registration code is correct. "),zr={key:0,class:"fas fa-spinner fa-spin"},Nr={key:1,class:"help is-danger"},Ir=(0,s.Uk)(" Incorrect registration code, please refer to your hospital for your registration code. "),Tr={key:0,class:"fas fa-spinner fa-spin"},qr={class:"control"},Hr={class:"field is-horizontal"},Lr={class:"field-body"},Vr={class:"field"},Or=Js((function(){return(0,s._)("label",{class:"label"},"Username",-1)})),Er={key:0},Zr={key:0,class:"help is-danger"},Fr=(0,s.Uk)(" Unavailable "),Yr={key:0,class:"fas fa-spinner fa-spin"},Br={key:1,class:"help is-success"},$r=(0,s.Uk)(" Available "),jr={key:0,class:"fas fa-spinner fa-spin"},Kr={class:"control"},Wr={class:"field"},Gr=Js((function(){return(0,s._)("label",{class:"label"},"Gmail",-1)})),Qr={class:"control"},Xr={class:"field is-horizontal"},Jr={class:"field-body"},eo={class:"field"},to=Js((function(){return(0,s._)("label",{class:"label"},"Password",-1)})),no={class:"control"},ao={class:"subtitle has-text-danger"},io={class:"field"},so=Js((function(){return(0,s._)("label",{class:"label"},"Repeat Password",-1)})),ro={class:"control"},oo={class:"subtitle has-text-danger"},co={class:"columns"},lo={class:"column"},uo=Js((function(){return(0,s._)("label",{class:"label"},"Specializations you possess(Select all that applies)",-1)})),po={class:"panel"},mo={class:"panel-block"},fo={style:{"max-height":"20em",overflow:"auto"}},ho=["value"],vo=["onClick"],go={class:"column"},wo=Js((function(){return(0,s._)("label",{class:"label"},"Selected",-1)})),_o={class:"columns is-multiline"},bo={class:"column",id:"selectedSpecializations",style:{"max-height":"26em",overflow:"auto"}},ko=["onClick"],yo={class:"has-text-right"},xo=["disabled"];function Do(e,t,n,i,r,o){var c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("section",er,[(0,s._)("div",tr,[r.errMsg?((0,s.wg)(),(0,s.iD)("div",nr,[ar,(0,s.Wm)(c,{to:"/contactus"},{default:(0,s.w5)((function(){return[ir]})),_:1})])):(0,s.kq)("",!0),(0,s._)("form",sr,[(0,s._)("div",rr,[(0,s._)("div",or,[(0,s._)("div",cr,[lr,(0,s._)("div",ur,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.licenseCode=e}),placeholder:"license code",required:""},null,512),[[a.nr,r.licenseCode]])])]),(0,s._)("div",dr,[pr,""!==r.aliasFound?((0,s.wg)(),(0,s.iD)("div",mr,[r.aliasFound?((0,s.wg)(),(0,s.iD)("p",fr,[hr,r.loadingAlias?((0,s.wg)(),(0,s.iD)("i",vr)):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("p",gr,[wr,r.loadingAlias?((0,s.wg)(),(0,s.iD)("i",_r)):(0,s.kq)("",!0)]))])):(0,s.kq)("",!0),(0,s._)("div",br,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.alias=e}),placeholder:"alias",name:"alias",required:"",onInput:t[2]||(t[2]=function(){return o.aliasFindTimeout&&o.aliasFindTimeout.apply(o,arguments)})},null,544),[[a.nr,r.alias]])])])])]),(0,s._)("div",kr,[(0,s._)("div",yr,[(0,s._)("div",xr,[Dr,(0,s._)("div",Cr,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.name=e}),placeholder:"Last name, First name, Extension name, Middle name",required:""},null,512),[[a.nr,r.name]])])]),Ur])]),(0,s._)("div",Ar,[Sr,""!==r.registrationCodeFound?((0,s.wg)(),(0,s.iD)("div",Pr,[r.registrationCodeFound?((0,s.wg)(),(0,s.iD)("p",Mr,[Rr,r.loadingRegistrationCode?((0,s.wg)(),(0,s.iD)("i",zr)):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("p",Nr,[Ir,r.loadingRegistrationCode?((0,s.wg)(),(0,s.iD)("i",Tr)):(0,s.kq)("",!0)]))])):(0,s.kq)("",!0),(0,s._)("div",qr,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.registrationCode=e}),onInput:t[5]||(t[5]=function(){return o.registrationCodeFindTimeout&&o.registrationCodeFindTimeout.apply(o,arguments)}),placeholder:"registration code",required:""},null,544),[[a.nr,r.registrationCode]])])]),(0,s._)("div",Hr,[(0,s._)("div",Lr,[(0,s._)("div",Vr,[Or,""!==r.usernameFound?((0,s.wg)(),(0,s.iD)("div",Er,[r.usernameFound?((0,s.wg)(),(0,s.iD)("p",Zr,[Fr,r.loadingUsername?((0,s.wg)(),(0,s.iD)("i",Yr)):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("p",Br,[$r,r.loadingUsername?((0,s.wg)(),(0,s.iD)("i",jr)):(0,s.kq)("",!0)]))])):(0,s.kq)("",!0),(0,s._)("div",Kr,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.username=e}),onInput:t[7]||(t[7]=function(){return o.usernameFindTimeout&&o.usernameFindTimeout.apply(o,arguments)}),placeholder:"username",required:""},null,544),[[a.nr,r.username]])])]),(0,s._)("div",Wr,[Gr,(0,s._)("div",Qr,[(0,s.wy)((0,s._)("input",{class:"input",type:"email","onUpdate:modelValue":t[8]||(t[8]=function(e){return r.gmail=e}),placeholder:"gmail",required:""},null,512),[[a.nr,r.gmail]])])])])]),(0,s._)("div",Xr,[(0,s._)("div",Jr,[(0,s._)("div",eo,[to,(0,s._)("div",no,[(0,s.wy)((0,s._)("input",{class:"input",type:"password","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.password=e}),placeholder:"password",required:""},null,512),[[a.nr,r.password]])]),(0,s._)("p",ao,(0,v.zw)(r.passwordMatch),1)]),(0,s._)("div",io,[so,(0,s._)("div",ro,[(0,s.wy)((0,s._)("input",{class:"input",type:"password","onUpdate:modelValue":t[10]||(t[10]=function(e){return r.passwordRepeat=e}),placeholder:"repeat password",required:""},null,512),[[a.nr,r.passwordRepeat]])]),(0,s._)("p",oo,(0,v.zw)(r.passwordMatch),1)])])]),(0,s._)("div",co,[(0,s._)("div",lo,[uo,(0,s._)("nav",po,[(0,s._)("div",mo,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[11]||(t[11]=function(e){return r.searchBarSpecialization=e}),placeholder:"Search"},null,512),[[a.nr,r.searchBarSpecialization]])]),(0,s._)("div",fo,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.specializationListIndexed,(function(e,t){return(0,s.wg)(),(0,s.iD)("div",{class:"panel-block",key:t,value:e},[(0,s._)("a",{onClick:function(t){return o.selectSpecialization(e)}},(0,v.zw)(e),9,vo)],8,ho)})),128))])])]),(0,s._)("div",go,[wo,(0,s._)("div",_o,[(0,s._)("div",bo,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.specializationsSelected,(function(e,t){return(0,s.wg)(),(0,s.iD)("button",{type:"button",key:t,class:"button is-light",style:{margin:"5px"}},[(0,s.Uk)((0,v.zw)(e)+" ",1),(0,s._)("span",{class:"has-text-danger",onClick:function(t){return o.undoSpecialization(e)}},"X",8,ko)])})),128))])])])]),(0,s._)("div",yo,[(0,s._)("button",{type:"submit",value:"Submit",class:"button is-primary",onClick:t[12]||(t[12]=function(e){return o.create(e)}),disabled:""==r.specializationsSelected},"Create account",8,xo)])])])])}var Co={name:"SignUp",computed:{specializationListIndexed:function(){var e=this;return this.specializationList.filter((function(t){return t.toLowerCase().includes(e.searchBarSpecialization.toLowerCase())}))}},data:function(){return{licenseCode:"",alias:"",name:"",registrationCode:"",username:"",password:"",passwordRepeat:"",gmail:"",passwordMatch:null,aliasFound:"",usernameFound:"",registrationCodeFound:"",loadingUsername:!1,loadingAlias:!1,loadingRegistrationCode:!1,specializationsSelected:[],specializationList:this.$store.getters.getSpecializationList,searchBarSpecialization:"",errMsg:"",searchTimeoutUsername:null,searchTimeoutAlias:null,searchTimeoutRegistrationCode:null}},methods:{registrationCodeFindTimeout:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.searchTimeoutRegistrationCode&&(clearTimeout(e.searchTimeoutRegistrationCode),e.searchTimeoutRegistrationCode=null),e.searchTimeoutRegistrationCode=setTimeout(e.registrationCodeFinder,500);case 2:case"end":return t.stop()}}),t)})))()},usernameFindTimeout:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.searchTimeoutUsername&&(clearTimeout(e.searchTimeoutUsername),e.searchTimeoutUsername=null),e.searchTimeoutUsername=setTimeout(e.usernameFinder,500);case 2:case"end":return t.stop()}}),t)})))()},aliasFindTimeout:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.searchTimeoutAlias&&(clearTimeout(e.searchTimeoutAlias),e.searchTimeoutAlias=null),e.searchTimeoutAlias=setTimeout(e.aliasFinder,500);case 2:case"end":return t.stop()}}),t)})))()},registrationCodeFinder:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingRegistrationCode=!0,t.next=3,tt().post("/api/doctor/check_registrationCode",{registrationCode:e.registrationCode}).then((function(t){e.registrationCodeFound=t.data}));case 3:""==e.registrationCode&&(e.registrationCodeFound=""),e.loadingRegistrationCode=!1;case 5:case"end":return t.stop()}}),t)})))()},usernameFinder:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingUsername=!0,t.next=3,tt().post("/api/doctor/check_username",{username:e.username}).then((function(t){e.usernameFound=t.data}));case 3:""==e.username&&(e.usernameFound=""),e.loadingUsername=!1;case 5:case"end":return t.stop()}}),t)})))()},aliasFinder:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingAlias=!0,t.next=3,tt().post("/api/doctor/check_alias",{alias:e.alias}).then((function(t){e.aliasFound=t.data}));case 3:""==e.alias&&(e.aliasFound=""),e.loadingAlias=!1;case 5:case"end":return t.stop()}}),t)})))()},create:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.password===t.passwordRepeat){n.next=18;break}return t.passwordMatch="password do not match",n.next=4,e.preventDefault();case 4:if(!t.registrationCode){n.next=8;break}if(null==t.registrationCodeFound&&t.registrationCodeFound){n.next=8;break}return n.next=8,e.preventDefault();case 8:if(!t.alias){n.next=12;break}if(null!=t.aliasFound&&!t.aliasFound){n.next=12;break}return n.next=12,e.preventDefault();case 12:if(!t.username){n.next=16;break}if(null!=t.usernameFound&&!t.usernameFound){n.next=16;break}return n.next=16,e.preventDefault();case 16:n.next=31;break;case 18:if(t.passwordMatch=null,!t.registrationCode){n.next=23;break}if(null!=t.registrationCodeFound&&t.registrationCodeFound){n.next=23;break}return n.next=23,e.preventDefault();case 23:if(!t.alias){n.next=27;break}if(null!=t.aliasFound&&!t.aliasFound){n.next=27;break}return n.next=27,e.preventDefault();case 27:if(!t.username){n.next=31;break}if(null!=t.usernameFound&&!t.usernameFound){n.next=31;break}return n.next=31,e.preventDefault();case 31:if(t.password!==t.passwordRepeat||t.aliasFound||t.usernameFound||!t.registrationCodeFound){n.next=36;break}return n.next=34,tt().post("/api/doctor",{alias:t.alias,licenseNo:t.licenseCode,name:t.name,gmail:t.gmail,specialist:t.specializationsSelected,username:t.username,password:t.password}).catch((function(e){return t.errMsg=e}));case 34:return n.next=36,t.$store.commit("imgSuccess",!0);case 36:case"end":return n.stop()}}),n)})))()},selectSpecialization:function(e){this.specializationsSelected.find((function(t){return t===e}))||this.specializationsSelected.push(e)},undoSpecialization:function(e){this.specializationsSelected=this.specializationsSelected.filter((function(t){return t!==e}))}}};const Uo=(0,c.Z)(Co,[["render",Do],["__scopeId","data-v-cf487660"]]);var Ao=Uo,So=function(e){return(0,s.dD)("data-v-e1030822"),e=e(),(0,s.Cn)(),e},Po={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Mo={class:"columns"},Ro={class:"column is-2"},zo={class:"column",style:{"background-color":"whitesmoke"}},No={class:"section"},Io=So((function(){return(0,s._)("h1",{class:"title"},"SETUP SCHEDULES",-1)})),To=So((function(){return(0,s._)("div",{class:"modal-background"},null,-1)})),qo={class:"modal-content"},Ho={class:"card"},Lo={class:"card-content"},Vo={class:"content has-text-centered"},Oo={class:"control block"},Eo=So((function(){return(0,s._)("label",{class:"label"},"Prefix:",-1)})),Zo=So((function(){return(0,s._)("label",{class:"label"},"Time start:",-1)})),Fo=So((function(){return(0,s._)("br",null,null,-1)})),Yo=So((function(){return(0,s._)("label",{class:"label"},"Time end:",-1)})),Bo={class:"control block"},$o=So((function(){return(0,s._)("label",{class:"label"},"Appointment limit:",-1)})),jo={class:"block"},Ko=["disabled"],Wo=So((function(){return(0,s._)("div",{class:"modal-background"},null,-1)})),Go=So((function(){return(0,s._)("div",{class:"modal-content loader"},null,-1)})),Qo=[Wo,Go],Xo={class:"columns"},Jo={class:"column"},ec={key:0,class:"notification is-success has-text-centered"},tc={class:"column"},nc={class:"container"},ac=So((function(){return(0,s._)("h1",{class:"subtitle has-text-weight-bold"},"Ongoing Schedules:",-1)})),ic={key:0,class:"columns is-multiline",style:{overflow:"scroll","max-height":"30em"}},sc={class:"block card"},rc={class:"card-content"},oc={class:"content"},cc={class:"title is-5 has-text-black has-text-left"},lc={class:"icon-text"},uc={class:"icon"},dc=["onClick"],pc=So((function(){return(0,s._)("i",{class:"fa-solid fa-trash-can"},null,-1)})),mc=[pc],fc={class:"has-text-black"},hc={class:"has-text-black"},vc={class:"has-text-black"},gc={key:1,class:"notification is-warning"},wc=So((function(){return(0,s._)("h1",{class:"title is-5"},"No ongoing schedules.",-1)})),_c=[wc];function bc(e,t,n,i,r,o){var c=(0,s.up)("DoctorMenu"),l=(0,s.up)("v-date-picker"),u=(0,s.up)("v-calendar");return(0,s.wg)(),(0,s.iD)("div",Po,[(0,s._)("div",Mo,[(0,s._)("div",Ro,[(0,s.Wm)(c)]),(0,s._)("div",zo,[(0,s._)("section",No,[Io,(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.isActive}])},[To,(0,s._)("div",qo,[(0,s._)("div",Ho,[(0,s._)("div",Lo,[(0,s._)("div",Vo,[(0,s._)("div",Oo,[Eo,(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.prefix=e}),style:{width:"33%"},placeholder:"e.g. ROOM305"},null,512),[[a.nr,r.prefix]])]),Zo,(0,s.Wm)(l,{modelValue:r.timeStart,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.timeStart=e}),mode:"time",timezone:r.timezone,class:"block"},null,8,["modelValue","timezone"]),Fo,Yo,(0,s.Wm)(l,{modelValue:r.timeEnd,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.timeEnd=e}),mode:"time",timezone:r.timezone,class:"block"},null,8,["modelValue","timezone"]),(0,s._)("div",Bo,[$o,(0,s.wy)((0,s._)("input",{class:"input",type:"number","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.appointmentLimits=e}),style:{width:"33%"}},null,512),[[a.nr,r.appointmentLimits]])]),(0,s._)("div",jo,[(0,s._)("button",{class:"button is-primary",type:"button",onClick:t[4]||(t[4]=function(){return o.addSched&&o.addSched.apply(o,arguments)}),disabled:""==r.prefix},"Confirm",8,Ko)])])])])]),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[5]||(t[5]=function(){return o.modalClose&&o.modalClose.apply(o,arguments)})})],2),(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.loading}])},Qo,2),(0,s._)("div",Xo,[(0,s._)("div",Jo,[r.uploadSchedSuccess?((0,s.wg)(),(0,s.iD)("div",ec,"Schedules Added/Updated! ")):(0,s.kq)("",!0),(0,s.Wm)(u,{columns:e.$screens({default:1,lg:2}),rows:e.$screens({default:1,lg:2}),"is-expanded":e.$screens({default:!0,lg:!1}),modelValue:r.date,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.date=e}),"min-date":new Date,"disabled-dates":[{start:new Date,end:new Date}],attributes:o.attributes,onDayclick:o.modalUp,timezone:r.timezone},null,8,["columns","rows","is-expanded","modelValue","min-date","disabled-dates","attributes","onDayclick","timezone"])]),(0,s._)("div",tc,[(0,s._)("div",nc,[ac,0!==Object.keys(o.daysIndexed).length?((0,s.wg)(),(0,s.iD)("div",ic,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.daysIndexed,(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"column is-6",key:e.id},[(0,s._)("div",sc,[(0,s._)("div",rc,[(0,s._)("div",oc,[(0,s._)("p",cc,[(0,s.Uk)((0,v.zw)(new Date(e.date).toDateString())+" ",1),(0,s._)("span",lc,[(0,s._)("span",uc,[(0,s._)("a",{class:"has-text-black-ter",onClick:function(t){return o.modalUp(e.dayDetail)}},mc,8,dc)])])]),(0,s._)("p",fc,"Prefix: "+(0,v.zw)(e.prefix),1),(0,s._)("p",hc,(0,v.zw)(e.timeStart)+" - "+(0,v.zw)(e.timeEnd),1),(0,s._)("p",vc,"Appointment limit: "+(0,v.zw)(e.appointmentLimit),1)])])])])})),128))])):((0,s.wg)(),(0,s.iD)("div",gc,_c))])])])])])])])}n(1249),n(4553),n(561);var kc={name:"SchedulerPage",components:{DoctorMenu:Ws},data:function(){return{alias:f.state.alias,profileImg:f.state.profileImg,userID:"",date:new Date,timeStart:"",timeEnd:"",timezone:"Asia/Hong_Kong",prefix:"",days:[],appointmentLimits:10,checkServer:null,isActive:!1,uploadSchedSuccess:!1,loading:!1}},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().get("/session/doctor").then((function(t){return e.days=t.data.schedule}));case 2:return t.next=4,tt().get("/session/doctor").then((function(t){return e.userID=t.data._id}));case 4:case"end":return t.stop()}}),t)})))()},computed:{dates:function(){return this.days.map((function(e){return new Date(e.date).toDateString()}))},attributes:function(){return this.dates.map((function(e){return{highlight:!0,dates:e}}))},daysIndexed:function(){return""!==this.days&&this.sortDate()}},methods:{sortDate:function(){return this.days.sort((function(e,t){new Date(e.date).getTime(),new Date(t.date).getTime()})).filter((function(e){return new Date(e.date).getTime()>(new Date).getTime()}))},onDayClick:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,t.days.push({dayDetail:e,id:e.id,date:e.date,timeStart:t.timeStart.toLocaleTimeString(),timeEnd:t.timeEnd.toLocaleTimeString(),appointmentLimit:t.appointmentLimits,prefix:t.prefix}),n.next=4,tt().put("/api/doctor/".concat(t.userID),{schedule:t.days});case 4:return n.next=6,tt().put("/session/doctor",{schedule:t.days});case 6:return n.next=8,tt().get("/session/doctor").then((function(e){return t.days=e.data.schedule}));case 8:t.uploadSchedSuccess=!0,t.loading=!1;case 10:case"end":return n.stop()}}),n)})))()},modalUp:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!==e&&void 0!==e&&e.isDisabled){n.next=18;break}if(t.isActive=!0,a=t.days.findIndex((function(t){return t.id===e.id})),!(a>=0)){n.next=15;break}return t.loading=!0,t.days.splice(a,1),t.isActive=!1,n.next=9,tt().put("/api/doctor/".concat(t.userID),{schedule:t.days});case 9:return n.next=11,tt().put("/session/doctor",{schedule:t.days});case 11:return n.next=13,tt().get("/session/doctor").then((function(e){return t.days=e.data.schedule}));case 13:t.uploadSchedSuccess=!0,t.loading=!1;case 15:t.day=e,t.timeStart=e.date,t.timeEnd=e.date;case 18:case"end":return n.stop()}}),n)})))()},addSched:function(e){e=this.day,this.onDayClick(e),this.isActive=!this.isActive},modalClose:function(){this.isActive=!this.isActive}}};const yc=(0,c.Z)(kc,[["render",bc],["__scopeId","data-v-e1030822"]]);var xc=yc,Dc=function(e){return(0,s.dD)("data-v-23e6c0e9"),e=e(),(0,s.Cn)(),e},Cc={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Uc={class:"columns"},Ac={class:"column is-2"},Sc={class:"column",style:{"background-color":"whitesmoke"}},Pc={class:"section",style:{"background-color":"whitesmoke"}},Mc=Dc((function(){return(0,s._)("h1",{class:"title"},"PROFILE",-1)})),Rc={class:"container box is-fluid"},zc={key:0,class:"message is-danger"},Nc=Dc((function(){return(0,s._)("div",{class:"message-header"},[(0,s._)("p",null,"YOU ARE NOT VERIFIED ")],-1)})),Ic=Dc((function(){return(0,s._)("div",{class:"message-body"},[(0,s.Uk)(" To get started, please visit "),(0,s._)("b",null,"Security"),(0,s.Uk)(" tab under "),(0,s._)("b",null,"VERIFICATION AND INFORMATION.")],-1)})),Tc=[Nc,Ic],qc={key:1,class:"message is-success"},Hc=Dc((function(){return(0,s._)("div",{class:"message-header"},[(0,s._)("p",null,"YOU ARE VERIFIED ")],-1)})),Lc=Dc((function(){return(0,s._)("div",{class:"message-body"},[(0,s.Uk)(" Your basic information is "),(0,s._)("b",null,"locked"),(0,s.Uk)(". To edit, please go to the "),(0,s._)("b",null,"Security"),(0,s.Uk)(" tab. ")],-1)})),Vc=[Hc,Lc],Oc={class:"columns is-gapless"},Ec={class:"column is-6"},Zc=["innerHTML"],Fc={id:"formUpload",action:"/api/imgUpload",method:"post",enctype:"multipart/form-data",style:{margin:"auto",width:"50%"},class:"field"},Yc={class:"control"},Bc=["value"],$c=Dc((function(){return(0,s._)("div",{class:"has-text-centered"},[(0,s._)("button",{type:"submit",value:"Upload",class:"button is-primary"},"Change profile picture")],-1)})),jc=Dc((function(){return(0,s._)("br",null,null,-1)})),Kc={class:"column"},Wc={class:"field"},Gc={class:"control"},Qc=Dc((function(){return(0,s._)("label",{class:"label"},[(0,s._)("b",null,"License No.")],-1)})),Xc=["disabled"],Jc={class:"field is-horizontal"},el={class:"field-body"},tl={class:"field"},nl={class:"control"},al=Dc((function(){return(0,s._)("label",{class:"label"},[(0,s._)("b",null,"Full Name:")],-1)})),il=["disabled"],sl={class:"field"},rl={class:"control"},ol=Dc((function(){return(0,s._)("label",{class:"label"},[(0,s._)("b",null,"Gmail:")],-1)})),cl=["disabled"],ll={class:"field"},ul={class:"control"},dl={key:1,class:"notification is-success is-light"},pl={class:"field"},ml={class:"control"},fl=Dc((function(){return(0,s._)("label",{class:"label"},[(0,s._)("b",null,"Managed Hospitals:")],-1)})),hl=["onClick"],vl=(0,s.Uk)(" "),gl={class:"dropdown-trigger"},wl={class:"dropdown-menu"},_l=["onClick"],bl={class:"field"},kl={class:"control"},yl=Dc((function(){return(0,s._)("label",{class:"label"},[(0,s._)("b",null,"Specializations:")],-1)})),xl=["onClick"],Dl=(0,s.Uk)(" "),Cl={class:"dropdown-trigger"},Ul={class:"dropdown-menu"},Al=["onClick"],Sl=Dc((function(){return(0,s._)("div",{class:"modal-background"},null,-1)})),Pl={class:"modal-content"},Ml={key:0,class:"field box"},Rl=Dc((function(){return(0,s._)("label",{class:"label"},"Please check your email for the verification code.",-1)})),zl={class:"control"},Nl=Dc((function(){return(0,s._)("br",null,null,-1)})),Il={class:"has-text-centered"},Tl=["disabled"],ql={key:0,class:"notification is-danger"},Hl={key:1,class:"notification is-danger"};function Ll(e,t,n,i,r,o){var c=(0,s.up)("DoctorMenu");return(0,s.wg)(),(0,s.iD)("div",Cc,[(0,s._)("div",Uc,[(0,s._)("div",Ac,[(0,s.Wm)(c)]),(0,s._)("div",Sc,[(0,s._)("section",Pc,[Mc,(0,s._)("div",Rc,[r.verified?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("article",zc,Tc)),r.verified?((0,s.wg)(),(0,s.iD)("article",qc,Vc)):(0,s.kq)("",!0),(0,s._)("div",Oc,[(0,s._)("div",Ec,[(0,s._)("span",{id:"profile-img",innerHTML:r.profileImg},null,8,Zc),(0,s._)("form",Fc,[(0,s._)("div",Yc,[(0,s._)("input",{type:"hidden",name:"alias",value:r.alias},null,8,Bc),(0,s._)("input",{class:"input",type:"file",name:"imgFile",onClick:t[0]||(t[0]=function(){return o.imgSuccess&&o.imgSuccess.apply(o,arguments)}),required:""}),$c])])]),jc,(0,s._)("div",Kc,[(0,s._)("div",Wc,[(0,s._)("div",Gc,[Qc,(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.licenseNo=e}),style:{width:"33%"},disabled:1==r.verified},null,8,Xc),[[a.nr,r.licenseNo]])])]),(0,s._)("div",Jc,[(0,s._)("div",el,[(0,s._)("div",tl,[(0,s._)("div",nl,[al,(0,s.wy)((0,s._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.fullname=e}),disabled:1==r.verified},null,8,il),[[a.nr,r.fullname]])])]),(0,s._)("div",sl,[(0,s._)("div",rl,[ol,(0,s.wy)((0,s._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.gmail=e}),disabled:1==r.verified},null,8,cl),[[a.nr,r.gmail]])])])])]),(0,s._)("div",ll,[(0,s._)("div",ul,[r.verified?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"button is-link",type:"button",onClick:t[4]||(t[4]=function(){return o.updateInfo&&o.updateInfo.apply(o,arguments)})},"Save changes")),r.infoValidate?((0,s.wg)(),(0,s.iD)("div",dl,(0,v.zw)(r.infoValidateMessage),1)):(0,s.kq)("",!0)])]),(0,s._)("div",pl,[(0,s._)("div",ml,[fl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.hospitalOrigin,(function(e){return(0,s.wg)(),(0,s.iD)("button",{class:"button",key:e.hospital},[(0,s.Uk)((0,v.zw)(e.hospital)+" ",1),(0,s._)("span",{class:"has-text-danger",onClick:function(t){return o.pullHospital(e.hospital)}},"x",8,hl)])})),128)),vl,(0,s._)("div",{class:(0,v.C_)(["dropdown",{"is-active":r.isActiveDropdownHospital}])},[(0,s._)("div",gl,[(0,s._)("button",{onClick:t[5]||(t[5]=function(){return o.dropdownHospital&&o.dropdownHospital.apply(o,arguments)}),class:"button"},"+")]),(0,s._)("div",wl,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.hospitalList,(function(e,t){return(0,s.wg)(),(0,s.iD)("div",{class:"dropdown-content",key:t},[(0,s._)("a",{class:"dropdown-item",onClick:function(t){return o.promptVerificationHospital(e.hospital)}},(0,v.zw)(e.hospital),9,_l)])})),128))])],2)])]),(0,s._)("div",bl,[(0,s._)("div",kl,[yl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.specialist,(function(e,t){return(0,s.wg)(),(0,s.iD)("button",{class:"button",style:{margin:"5px"},key:t},[(0,s.Uk)((0,v.zw)(e)+" ",1),(0,s._)("span",{class:"has-text-danger",onClick:function(t){return o.pullSpecialization(e)}},"x",8,xl)])})),128)),Dl,(0,s._)("div",{class:(0,v.C_)(["dropdown",{"is-active":r.isActiveDropdownSpecialist}])},[(0,s._)("div",Cl,[(0,s._)("button",{onClick:t[6]||(t[6]=function(){return o.dropdownSpecialist&&o.dropdownSpecialist.apply(o,arguments)}),class:"button"},"+")]),(0,s._)("div",Ul,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.specializationList,(function(e,t){return(0,s.wg)(),(0,s.iD)("div",{class:"dropdown-content",key:t},[(0,s._)("a",{class:"dropdown-item",onClick:function(t){return o.addSpecialization(e)}},(0,v.zw)(e),9,Al)])})),128))])],2)])])])])]),(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.modalActive}])},[Sl,(0,s._)("div",Pl,[r.codeSent?((0,s.wg)(),(0,s.iD)("div",Hl,"You can only request a verification code once, please try again in 10 minutes.")):((0,s.wg)(),(0,s.iD)("div",Ml,[Rl,(0,s._)("div",zl,[(0,s.wy)((0,s._)("input",{class:"input","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.verificationCode=e}),type:"text",placeholder:"code"},null,512),[[a.nr,r.verificationCode]])]),Nl,(0,s._)("div",Il,[(0,s._)("button",{class:"button is-primary",onClick:t[8]||(t[8]=function(){return o.addHospital&&o.addHospital.apply(o,arguments)}),disabled:""==r.verificationCode},"Confirm",8,Tl)]),r.errorCode?((0,s.wg)(),(0,s.iD)("div",ql,"Invalid login code, please check your email thoroughly.")):(0,s.kq)("",!0)]))]),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[9]||(t[9]=function(){return o.modalClose&&o.modalClose.apply(o,arguments)})})],2)])])])])}var Vl={name:"DoctorProfile",data:function(){return{alias:f.state.alias,fullname:null,password:null,passwordRepeat:null,infoValidate:null,infoValidateMessage:null,doctorDetails:null,id:null,profileImg:f.state.profileImg,hospitalOrigin:null,specialist:null,hospital:null,gmail:null,specializationList:this.$store.getters.getSpecializationList,hospitalList:[],isActiveDropdownSpecialist:!1,isActiveDropdownHospital:!1,licenseNo:null,verified:null,modalActive:!1,verificationCode:"",errorCode:!1,codeSent:!1,selectedHospital:""}},components:{DoctorMenu:Ws},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().get("/session/doctor").then((function(t){return e.doctorDetails=t.data}));case 2:return t.next=4,e.doctorDetails.verified;case 4:return e.verified=t.sent,t.next=7,e.doctorDetails.licenseNo;case 7:return e.licenseNo=t.sent,t.next=10,e.doctorDetails.fullname;case 10:return e.fullname=t.sent,t.next=13,e.doctorDetails._id;case 13:return e.id=t.sent,t.next=16,e.doctorDetails.specialist;case 16:return e.specialist=t.sent,t.next=19,e.doctorDetails.gmail;case 19:return e.gmail=t.sent,t.next=22,e.doctorDetails.hospitalOrigin;case 22:return e.hospitalOrigin=t.sent,t.next=25,tt().get("/api/manager").then((function(t){return e.hospitalList=t.data}));case 25:case"end":return t.stop()}}),t)})))()},methods:{updateInfo:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.verified){t.next=9;break}return t.next=3,tt().put("/api/doctor/".concat(e.id),{licenseNo:e.licenseNo,name:e.fullname,gmail:e.gmail});case 3:return t.next=5,tt().put("/session/doctor",{licenseNo:e.licenseNo,name:e.fullname,gmail:e.gmail});case 5:return t.next=7,tt().get("/session/doctor").then((function(t){return e.fullname=t.data.fullname}));case 7:e.infoValidate=!0,e.infoValidateMessage="changes saved successfully";case 9:case"end":return t.stop()}}),t)})))()},imgSuccess:function(){f.commit("imgSuccess",!0)},showPass:function(){for(var e=document.getElementsByClassName("password"),t=0;t<e.length;t++)"password"===e[t].type?e[t].type="text":e[t].type="password"},dropdownSpecialist:function(){this.isActiveDropdownSpecialist=!this.isActiveDropdownSpecialist},dropdownHospital:function(){this.isActiveDropdownHospital=!this.isActiveDropdownHospital},addSpecialization:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.specialist.find((function(t){return t===e}))){n.next=9;break}return t.specialist.push(e),t.isActiveDropdownSpecialist=!1,n.next=5,tt().put("/api/doctor/".concat(t.id),{specialist:t.specialist});case 5:return n.next=7,tt().put("/session/doctor",{specialist:t.specialist});case 7:return n.next=9,tt().get("/session/doctor").then((function(e){return t.specialist=e.data.specialist}));case 9:case"end":return n.stop()}}),n)})))()},promptVerificationHospital:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.hospitalOrigin.find((function(t){return t.hospital===e}))){n.next=6;break}return t.selectedHospital=e,t.modalActive=!0,a=Math.floor(1e3+9e3*Math.random()),n.next=6,tt().post("/api/code/email",{email:t.gmail}).then(function(){var e=(0,Y.Z)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.data){e.next=7;break}return e.next=3,tt().post("/api/code",{email:t.gmail,code:a});case 3:return e.next=5,tt().post("/api/OTPMail",{email:t.gmail,code:a});case 5:e.next=8;break;case 7:t.codeSent=!0;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return n.stop()}}),n)})))()},addHospital:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().post("/api/code/verify",{code:e.verificationCode}).then(function(){var t=(0,Y.Z)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.data){t.next=16;break}if(e.errorCode){t.next=13;break}return e.hospitalOrigin.push({hospital:e.selectedHospital}),t.next=5,tt().put("/api/doctor/".concat(e.id),{hospitalOrigin:e.hospitalOrigin});case 5:return t.next=7,tt().put("/session/doctor",{hospitalOrigin:e.hospitalOrigin});case 7:return t.next=9,tt().get("/session/doctor").then((function(t){return e.hospitalOrigin=t.data.hospitalOrigin}));case 9:e.selectedHospital="",e.modalActive=!1,t.next=14;break;case 13:e.errorCode=!0;case 14:t.next=17;break;case 16:e.errorCode=!0;case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},pullSpecialization:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.specialist=t.specialist.filter((function(t){return t!==e})),n.next=3,tt().put("/api/doctor/".concat(t.id),{specialist:t.specialist});case 3:return n.next=5,tt().put("/session/doctor",{specialist:t.specialist});case 5:return n.next=7,tt().get("/session/doctor").then((function(e){return t.specialist=e.data.specialist}));case 7:case"end":return n.stop()}}),n)})))()},pullHospital:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.hospitalOrigin=t.hospitalOrigin.filter((function(t){return t.hospital!==e})),n.next=3,tt().put("/api/doctor/".concat(t.id),{hospitalOrigin:t.hospitalOrigin});case 3:return n.next=5,tt().put("/session/doctor",{hospitalOrigin:t.hospitalOrigin});case 5:return n.next=7,tt().get("/session/doctor").then((function(e){return t.hospitalOrigin=e.data.hospitalOrigin}));case 7:case"end":return n.stop()}}),n)})))()},modalClose:function(){this.modalActive=!1}}};const Ol=(0,c.Z)(Vl,[["render",Ll],["__scopeId","data-v-23e6c0e9"]]);var El=Ol,Zl={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Fl={class:"columns"},Yl={class:"column is-2"},Bl={class:"column",style:{"background-color":"whitesmoke"}},$l=(0,s._)("div",{class:"modal-background"},null,-1),jl={class:"modal-content"},Kl={class:"section box"},Wl={class:"field is-horizontal"},Gl={class:"field-body"},Ql={class:"field"},Xl={class:"control"},Jl=(0,s._)("label",{class:"label"},"From:",-1),eu=["value"],tu={class:"field"},nu={class:"control"},au=(0,s._)("div",{class:"label"},"To(Patient):",-1),iu={class:"dropdown-trigger"},su={key:0},ru={key:1},ou={class:"dropdown-menu"},cu=["onClick"],lu={class:"field"},uu={class:"control"},du=(0,s._)("label",{class:"label"},"Message:",-1),pu={class:"field"},mu={class:"control has-text-right"},fu=["disabled"],hu={key:0,class:"has-text-success"},vu=(0,s.Uk)(" A message has been sent to "),gu=(0,s.Uk)(". "),wu=(0,s._)("p",{class:"subtitle"},"Messaging History",-1),_u={key:1,class:"container"},bu=(0,s._)("p",{class:"subtitle is-size-6 has-text-right"},"Are you sure you want to delete all messages?",-1),ku={class:"buttons is-right"},yu={key:2},xu={class:"notification",style:{margin:"5%"}},Du={class:"content"},Cu=["onClick"],Uu={key:3},Au=(0,s._)("p",null,"No past messages yet.",-1),Su=[Au],Pu={class:"section",style:{"background-color":"whitesmoke"}},Mu={class:"container is-widescreen is-fullhd",style:{padding:"15"}},Ru={class:"title"},zu=(0,s.Uk)(" APPOINTMENT HISTORY "),Nu={class:"field"},Iu={class:"control"},Tu={key:0,class:"container"},qu={class:"subtitle has-text-black"},Hu={class:"table-container"},Lu={class:"table is-striped is-narrow is-fullwidth is-bordered"},Vu=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"has-text-black-ter"},"Reference ID"),(0,s._)("th",{class:"has-text-black-ter"},"Priority No."),(0,s._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,s._)("th",{class:"has-text-black-ter"},"First Name"),(0,s._)("th",{class:"has-text-black-ter"},"Last Name"),(0,s._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,s._)("th",{class:"has-text-black-ter"},"Birthday"),(0,s._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1),Ou={class:"has-text-black-ter"},Eu={class:"has-text-black-ter"},Zu={class:"has-text-black-ter"},Fu={class:"has-text-black-ter"},Yu={class:"has-text-black-ter"},Bu={class:"has-text-black-ter"},$u={class:"has-text-black-ter"},ju={class:"has-text-black-ter"},Ku={key:1,class:"notification is-info"};function Wu(e,t,n,i,r,o){var c=(0,s.up)("DoctorMenu");return(0,s.wg)(),(0,s.iD)("div",Zl,[(0,s._)("div",Fl,[(0,s._)("div",Yl,[(0,s.Wm)(c)]),(0,s._)("div",Bl,[(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.isActiveModal}])},[$l,(0,s._)("div",jl,[(0,s._)("div",Kl,[(0,s._)("div",Wl,[(0,s._)("div",Gl,[(0,s._)("div",Ql,[(0,s._)("div",Xl,[Jl,(0,s._)("input",{class:"input",type:"text",value:"Dr. "+r.doctorName,disabled:""},null,8,eu)])]),(0,s._)("div",tu,[(0,s._)("div",nu,[au,(0,s._)("div",{class:(0,v.C_)(["dropdown",{"is-active":r.isActiveDropdown}])},[(0,s._)("div",iu,[(0,s._)("button",{class:"button",onClick:t[0]||(t[0]=function(){return o.openPatients&&o.openPatients.apply(o,arguments)})},[""==r.selectedPatient?((0,s.wg)(),(0,s.iD)("span",su,"Select")):((0,s.wg)(),(0,s.iD)("span",ru,(0,v.zw)(r.selectedPatient),1))])]),(0,s._)("div",ou,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.patients.patients,(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"dropdown-content",key:e._id},[(0,s._)("a",{class:"dropdown-item",onClick:function(t){return o.selectPatient(e.patient,e.patientName)}},(0,v.zw)(e.patientName),9,cu)])})),128))])],2)])])])]),(0,s._)("div",lu,[(0,s._)("div",uu,[du,(0,s.wy)((0,s._)("textarea",{class:"textarea",placeholder:"Message","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.noticeMsg=e})},null,512),[[a.nr,r.noticeMsg]])])]),(0,s._)("div",pu,[(0,s._)("div",mu,[(0,s._)("button",{class:"button is-primary",onClick:t[2]||(t[2]=function(){return o.sendNotif&&o.sendNotif.apply(o,arguments)}),disabled:""==r.selectedPatient||""==r.noticeMsg},"Send",8,fu)])]),r.notificationSent?((0,s.wg)(),(0,s.iD)("p",hu,[vu,(0,s._)("b",null,(0,v.zw)(r.messageSuccessSelectedPatient),1),gu])):(0,s.kq)("",!0),(0,s._)("a",{class:"button is-size-6 has-text-danger is-pulled-right",onClick:t[3]||(t[3]=function(e){return r.clearMsgPrompt=!0})},"Clear message history"),wu,r.clearMsgPrompt?((0,s.wg)(),(0,s.iD)("div",_u,[bu,(0,s._)("div",ku,[(0,s._)("button",{class:"button",onClick:t[4]||(t[4]=function(){return o.clearNotif&&o.clearNotif.apply(o,arguments)})},"Yes"),(0,s._)("button",{class:"button",onClick:t[5]||(t[5]=function(e){return r.clearMsgPrompt=!1})},"No")])])):(0,s.kq)("",!0),0!==Object.keys(r.messageHistory).length?((0,s.wg)(),(0,s.iD)("div",yu,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.messageHistory,(function(e,t){return(0,s.wg)(),(0,s.iD)("div",{class:"container",key:t},[(0,s._)("div",xu,[(0,s._)("div",Du,[(0,s._)("p",null,"To: "+(0,v.zw)(e.to),1),(0,s._)("p",null,"Message: "+(0,v.zw)(e.message),1),(0,s._)("p",null,"Date: "+(0,v.zw)(new Date(e.date).toLocaleString()),1)]),(0,s._)("button",{class:"delete",onClick:function(t){return o.deleteNotif(e)}},null,8,Cu)])])})),128))])):((0,s.wg)(),(0,s.iD)("div",Uu,Su))])]),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[6]||(t[6]=function(){return o.modalInactive&&o.modalInactive.apply(o,arguments)})})],2),(0,s._)("section",Pu,[(0,s._)("div",Mu,[(0,s._)("h1",Ru,[zu,(0,s._)("button",{class:"button is-info",onClick:t[7]||(t[7]=function(){return o.modalActive&&o.modalActive.apply(o,arguments)})},"Send a message to a patient")]),(0,s._)("div",Nu,[(0,s._)("div",Iu,[(0,s.wy)((0,s._)("input",{class:"input",type:"text",style:{width:"50% !important"},"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.searchBar=e}),placeholder:"Search..."},null,512),[[a.nr,r.searchBar]])])]),0!==Object.keys(o.appointmentSchedules).length?((0,s.wg)(),(0,s.iD)("div",Tu,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.appointmentSchedules,(function(e,t){return(0,s.wg)(),(0,s.iD)("div",{class:(0,v.C_)(["box",{"is-hidden":new Date(t).toDateString()==(new Date).toDateString()}]),key:t},[(0,s._)("h1",qu,"Schedule: "+(0,v.zw)(new Date(t).toDateString()),1),(0,s._)("div",Hu,[(0,s._)("table",Lu,[Vu,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(function(e){return(0,s.wg)(),(0,s.iD)("tbody",{key:e._id},[(0,s._)("tr",null,[(0,s._)("th",Ou,(0,v.zw)(e.referenceID),1),(0,s._)("th",Eu,(0,v.zw)(e.priorityNum),1),(0,s._)("th",Zu,(0,v.zw)(e.hospital),1),(0,s._)("td",Fu,(0,v.zw)(e.firstName),1),(0,s._)("td",Yu,(0,v.zw)(e.lastName),1),(0,s._)("td",Bu,(0,v.zw)(e.contactNum),1),(0,s._)("td",$u,(0,v.zw)(e.birthDay),1),(0,s._)("td",ju,(0,v.zw)(e.comments),1)])])})),128))])])],2)})),128))])):((0,s.wg)(),(0,s.iD)("div",Ku,"No previous appointments."))])])])])])}var Gu={name:"PatientLogs",components:{DoctorMenu:Ws},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().post("/api/appointmentList/doctors",{id:e.$store.state.doctorID}).then((function(t){return e.appointmentSched=t.data}));case 2:return t.next=4,tt().get("/api/doctor").then((function(t){return e.patients=t.data.find((function(t){return t.alias==e.alias}))}));case 4:return t.next=6,tt().get("/session/doctor").then((function(t){return e.doctorName=t.data.fullname}));case 6:return t.next=8,tt().get("/session/doctor").then((function(t){return e.messageHistory=t.data.messageHistory.reverse()}));case 8:case"end":return t.stop()}}),t)})))()},data:function(){return{clearMsgPrompt:!1,searchBar:"",appointmentSched:[],alias:this.$store.state.alias,patients:[],isActiveDropdown:!1,isActiveModal:!1,selectedPatient:"",messageSuccessSelectedPatient:"",doctorName:"",noticeMsg:"",notificationSent:!1,messageHistory:[]}},computed:{appointmentSchedules:function(){var e=this;return!!this.appointmentSched&&Cs().groupBy(this.appointmentSched.filter((function(t){return t.firstName.toLowerCase().includes(e.searchBar.toLowerCase())||t.lastName.toLowerCase().includes(e.searchBar.toLowerCase())||t.referenceID.toLowerCase().includes(e.searchBar.toLowerCase())})).sort((function(e,t){return new Date(t.schedule[0].date).getTime()-new Date(e.schedule[0].date).getTime()})).filter((function(e){return new Date(e.schedule[0].date).getTime()<(new Date).getTime()})),"schedule[0].date")}},methods:{selectPatient:function(e,t){this.selectedPatient=t,this.isActiveDropdown=!1,Gt.emit("join room",e)},openPatients:function(){this.isActiveDropdown=!this.isActiveDropdown,this.notificationSent=!1},modalActive:function(){this.isActiveModal=!0,Gt.connect()},modalInactive:function(){this.isActiveModal=!1,this.selectedPatient="",Gt.disconnect()},sendNotif:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.messageSuccessSelectedPatient=e.selectedPatient,Gt.emit("message",e.noticeMsg,e.doctorName,new Date),t.next=4,tt().post("/api/pushMsg",{id:e.$store.state.doctorID,message:{to:e.selectedPatient,message:e.noticeMsg,date:new Date}}).then((function(e){return n=e.data})).catch((function(e){console.log(e)}));case 4:return t.next=6,tt().put("/session/doctor",{messageHistory:n});case 6:e.messageHistory=n.reverse(),e.noticeMsg="",e.selectedPatient="",e.notificationSent=!0;case 10:case"end":return t.stop()}}),t)})))()},deleteNotif:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,tt().post("/api/pullMsg",{id:t.$store.state.doctorID,message:e}).then((function(e){return a=e.data})).catch((function(e){console.log(e)}));case 2:return n.next=4,tt().put("/session/doctor",{messageHistory:a});case 4:t.messageHistory=a.reverse();case 5:case"end":return n.stop()}}),n)})))()},clearNotif:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().post("/api/clearMsg",{id:e.$store.state.doctorID}).then((function(t){return e.messageHistory=t.data})).catch((function(e){return console.log(e)}));case 2:return t.next=4,tt().put("/session/doctor",{messageHistory:e.messageHistory});case 4:e.clearMsgPrompt=!1;case 5:case"end":return t.stop()}}),t)})))()}}};const Qu=(0,c.Z)(Gu,[["render",Wu]]);var Xu=Qu,Ju=function(e){return(0,s.dD)("data-v-5fba7b41"),e=e(),(0,s.Cn)(),e},ed={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},td={class:"columns"},nd={class:"column is-2"},ad={class:"column",style:{"background-color":"whitesmoke"}},id={class:"section",style:{"background-color":"whitesmoke"}},sd=Ju((function(){return(0,s._)("h1",{class:"title"},"SECURITY",-1)})),rd={class:"container box"},od={key:0,class:"message is-danger"},cd=Ju((function(){return(0,s._)("div",{class:"message-header"},[(0,s._)("p",null,"YOU ARE NOT VERIFIED ")],-1)})),ld=Ju((function(){return(0,s._)("div",{class:"message-body"},[(0,s.Uk)(" To get verified, link your "),(0,s._)("b",null,"email account"),(0,s.Uk)(". ")],-1)})),ud=[cd,ld],dd={class:"columns"},pd={class:"column"},md=Ju((function(){return(0,s._)("h1",{class:"title"},"Change password:",-1)})),fd=Ju((function(){return(0,s._)("div",{class:"block"},null,-1)})),hd={class:"field"},vd={class:"control"},gd=Ju((function(){return(0,s._)("label",{class:"label"},"Current password",-1)})),wd={key:0,class:"notification is-warning"},_d={class:"field"},bd={class:"control"},kd=Ju((function(){return(0,s._)("label",{class:"label"},"Create new password:",-1)})),yd={key:0,class:"notification is-danger"},xd={class:"field"},Dd={class:"control"},Cd=Ju((function(){return(0,s._)("label",{class:"label"},"Repeat new password:",-1)})),Ud={key:0,class:"notification is-danger"},Ad={class:"field"},Sd={class:"control"},Pd={class:"checkbox"},Md=(0,s.Uk)(" Show password "),Rd={class:"field"},zd={class:"control"},Nd=["disabled"],Id={key:0,class:"notification is-success"},Td={class:"column"},qd=Ju((function(){return(0,s._)("div",{class:"modal-background"},null,-1)})),Hd={key:0,class:"modal-content box section",id:"OTPModal",style:{width:"33%"}},Ld={key:0,class:"notification is-info is-light"},Vd={key:1,class:"notification is-danger"},Od={key:2,class:"field"},Ed={class:"control has-text-centered"},Zd=["disabled"],Fd={key:3,class:"has-text-centered"},Yd=["disabled"],Bd={key:0,class:"notification is-danger"},$d={key:1,class:"modal-content box section",id:"OTPModal",style:{width:"33%"}},jd={key:0,class:"field"},Kd=Ju((function(){return(0,s._)("div",{class:"notification is-success is-light"},"Verify your email.",-1)})),Wd={class:"control has-text-centered"},Gd={class:"has-text-centered"},Qd=["disabled"],Xd={key:1,class:"field"},Jd={key:0,class:"notification is-info is-light"},ep={key:1,class:"notification is-danger is-light"},tp={key:0},np={key:1},ap={class:"control has-text-centered"},ip=["disabled"],sp={key:2,class:"has-text-centered"},rp=["disabled"],op={key:0,class:"notification is-danger"},cp={class:"field"},lp={class:"control"},up=Ju((function(){return(0,s._)("label",{class:"label"},[(0,s._)("b",null,"License No.")],-1)})),dp=["disabled"],pp={class:"field is-horizontal"},mp={class:"field-body"},fp={class:"field"},hp={class:"control"},vp=Ju((function(){return(0,s._)("label",{class:"label"},[(0,s._)("b",null,"Full Name:")],-1)})),gp=["disabled"],wp={class:"field"},_p={class:"control"},bp={class:"label"},kp=(0,s.Uk)(" Email "),yp={key:0,class:"has-text-success"},xp=Ju((function(){return(0,s._)("b",null,"Verified ",-1)})),Dp=[xp],Cp={key:1,class:"has-text-danger"},Up=Ju((function(){return(0,s._)("b",null,"Requires verification ",-1)})),Ap=[Up],Sp=["disabled"],Pp={key:0,class:"notification is-success is-light"};function Mp(e,t,n,i,r,o){var c=(0,s.up)("DoctorMenu"),l=(0,s.up)("ForgotPassword");return(0,s.wg)(),(0,s.iD)("div",ed,[(0,s._)("div",td,[(0,s._)("div",nd,[(0,s.Wm)(c)]),(0,s._)("div",ad,[(0,s._)("section",id,[sd,(0,s._)("div",rd,[r.verified?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("article",od,ud)),(0,s._)("div",dd,[(0,s._)("div",pd,[md,null!=r.gmail?((0,s.wg)(),(0,s.j4)(l,{key:0,userType:"doctor",email:r.gmail},null,8,["email"])):(0,s.kq)("",!0),fd,(0,s._)("div",hd,[(0,s._)("div",vd,[gd,(0,s.wy)((0,s._)("input",{class:"input password",size:"5",type:"password","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.currentPassword=e}),required:""},null,512),[[a.nr,r.currentPassword]])]),r.incorrectPasswordValidate?((0,s.wg)(),(0,s.iD)("div",wd,(0,v.zw)(r.currentPasswordValidateMessage),1)):(0,s.kq)("",!0)]),(0,s._)("div",_d,[(0,s._)("div",bd,[kd,(0,s.wy)((0,s._)("input",{class:(0,v.C_)(["input password",{"is-danger":r.passwordValidate}]),size:"5",type:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.password=e}),required:""},null,2),[[a.nr,r.password]])]),r.passwordValidate?((0,s.wg)(),(0,s.iD)("div",yd,(0,v.zw)(r.passwordValidateMessage),1)):(0,s.kq)("",!0)]),(0,s._)("div",xd,[(0,s._)("div",Dd,[Cd,(0,s.wy)((0,s._)("input",{class:(0,v.C_)(["input password",{"is-danger":r.passwordValidate}]),size:"5",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.passwordRepeat=e}),required:""},null,2),[[a.nr,r.passwordRepeat]])]),r.passwordValidate?((0,s.wg)(),(0,s.iD)("div",Ud,(0,v.zw)(r.passwordValidateMessage),1)):(0,s.kq)("",!0)]),(0,s._)("div",Ad,[(0,s._)("div",Sd,[(0,s._)("label",Pd,[(0,s._)("input",{type:"checkbox",onClick:t[3]||(t[3]=function(){return o.showPass&&o.showPass.apply(o,arguments)})}),Md])])]),(0,s._)("div",Rd,[(0,s._)("div",zd,[(0,s._)("button",{class:"button is-danger",type:"submit",onClick:t[4]||(t[4]=function(){return o.updatePassword&&o.updatePassword.apply(o,arguments)}),disabled:null==r.currentPassword||null==r.password||null==r.passwordRepeat},"Confirm",8,Nd),r.passwordSuccess?((0,s.wg)(),(0,s.iD)("div",Id,"Password has been changed.")):(0,s.kq)("",!0)])])]),(0,s._)("div",Td,[(0,s._)("p",null,[r.verified?((0,s.wg)(),(0,s.iD)("a",{key:0,class:"has-text-info",onClick:t[5]||(t[5]=function(){return o.modalUpEditInfo&&o.modalUpEditInfo.apply(o,arguments)})},"[Edit Information]")):((0,s.wg)(),(0,s.iD)("a",{key:1,class:"has-text-danger",onClick:t[6]||(t[6]=function(){return o.modalUpInfoVerify&&o.modalUpInfoVerify.apply(o,arguments)})},"[Verify Now]"))]),(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.isActiveModal}])},[qd,r.verified?((0,s.wg)(),(0,s.iD)("div",Hd,[r.codeError?((0,s.wg)(),(0,s.iD)("div",Vd,"You can only request a verification code once, please try again in 10 minutes.")):((0,s.wg)(),(0,s.iD)("div",Ld,"We have sent you a verification code on your email.")),r.codeError?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Od,[(0,s._)("div",Ed,[(0,s.wy)((0,s._)("input",{class:"input",type:"number",maxlength:"4",id:"OTP","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.OTP=e}),oninput:"this.value=this.value.slice(0,this.maxLength)",disabled:r.codeError},null,8,Zd),[[a.nr,r.OTP]])])])),r.codeError?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Fd,[(0,s._)("button",{class:"button is-info",disabled:""===r.OTP,onClick:t[8]||(t[8]=function(){return o.confirmOTPEditInfo&&o.confirmOTPEditInfo.apply(o,arguments)})},"Confirm",8,Yd),r.incorrectCode?((0,s.wg)(),(0,s.iD)("div",Bd,"Incorrect code, please check your email thoroughly.")):(0,s.kq)("",!0)])),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[9]||(t[9]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)})})])):((0,s.wg)(),(0,s.iD)("div",$d,[r.verifyEmailSent?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",jd,[Kd,(0,s._)("div",Wd,[(0,s.wy)((0,s._)("input",{class:"input",type:"email","onUpdate:modelValue":t[10]||(t[10]=function(e){return r.gmail=e})},null,512),[[a.nr,r.gmail]])]),(0,s._)("div",Gd,[(0,s._)("button",{class:"button is-success",onClick:t[11]||(t[11]=function(){return o.sendVerificationEmail&&o.sendVerificationEmail.apply(o,arguments)}),disabled:""===r.gmail},"Verify",8,Qd)])])),r.verifyEmailSent?((0,s.wg)(),(0,s.iD)("div",Xd,[r.codeError?((0,s.wg)(),(0,s.iD)("div",ep,[r.emailTaken?((0,s.wg)(),(0,s.iD)("span",tp,"Email address is already taken.")):((0,s.wg)(),(0,s.iD)("span",np,"You can only request a verification code once, please try again in 10 minutes."))])):((0,s.wg)(),(0,s.iD)("div",Jd,"We have sent you a verification code on your email.")),(0,s._)("div",ap,[r.codeError?(0,s.kq)("",!0):(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,class:"input",type:"number",maxlength:"4",id:"OTP","onUpdate:modelValue":t[12]||(t[12]=function(e){return r.OTP=e}),oninput:"this.value=this.value.slice(0,this.maxLength)",disabled:r.codeError||""==r.OTP},null,8,ip)),[[a.nr,r.OTP]])]),r.codeError?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",sp,[(0,s._)("button",{class:"button is-info",disabled:""===r.OTP,onClick:t[13]||(t[13]=function(){return o.verifyEmail&&o.verifyEmail.apply(o,arguments)})},"Confirm",8,rp),r.incorrectCode?((0,s.wg)(),(0,s.iD)("div",op,"Incorrect code, please check your email thoroughly.")):(0,s.kq)("",!0)]))])):(0,s.kq)("",!0),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[14]||(t[14]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)})})]))],2),(0,s._)("div",cp,[(0,s._)("div",lp,[up,(0,s.wy)((0,s._)("input",{class:(0,v.C_)(["input",{"is-success":r.authorized}]),type:"text","onUpdate:modelValue":t[15]||(t[15]=function(e){return r.licenseNo=e}),style:{width:"33%"},disabled:!r.authorized},null,10,dp),[[a.nr,r.licenseNo]])])]),(0,s._)("div",pp,[(0,s._)("div",mp,[(0,s._)("div",fp,[(0,s._)("div",hp,[vp,(0,s.wy)((0,s._)("input",{class:(0,v.C_)(["input",{"is-success":r.authorized}]),size:"5",type:"text","onUpdate:modelValue":t[16]||(t[16]=function(e){return r.fullname=e}),disabled:!r.authorized},null,10,gp),[[a.nr,r.fullname]])])]),(0,s._)("div",wp,[(0,s._)("div",_p,[(0,s._)("label",bp,[kp,r.verified?((0,s.wg)(),(0,s.iD)("span",yp,Dp)):((0,s.wg)(),(0,s.iD)("span",Cp,Ap))]),(0,s.wy)((0,s._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":t[17]||(t[17]=function(e){return r.gmail=e}),disabled:""},null,512),[[a.nr,r.gmail]])])])])]),(0,s._)("button",{class:"button is-link",disabled:!r.authorized,onClick:t[18]||(t[18]=function(){return o.updateInfo&&o.updateInfo.apply(o,arguments)})},"Confirm",8,Sp),r.updateInfoSuccess?((0,s.wg)(),(0,s.iD)("div",Pp,"Changes have been updated successfully.")):(0,s.kq)("",!0)])])])])])])])}n(8783),n(3948);var Rp={name:"DoctorSecurity",components:{DoctorMenu:Ws,ForgotPassword:(0,s.RC)((function(){return Promise.resolve().then(n.bind(n,9615))}))},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().get("/session/doctor").then((function(t){return e.doctorDetails=t.data}));case 2:return t.next=4,e.doctorDetails.verified;case 4:return e.verified=t.sent,t.next=7,e.doctorDetails._id;case 7:return e.id=t.sent,t.next=10,e.doctorDetails.licenseNo;case 10:return e.licenseNo=t.sent,t.next=13,e.doctorDetails.fullname;case 13:return e.fullname=t.sent,t.next=16,e.doctorDetails.gmail;case 16:e.gmail=t.sent;case 17:case"end":return t.stop()}}),t)})))()},data:function(){return{doctorDetails:[],OTP:null,id:null,isActiveModal:!1,currentPassword:null,currentPasswordValidate:null,currentPasswordValidateMessage:null,currentValidateMessage:null,passwordValidateMessage:null,incorrectPasswordValidate:null,passwordValidate:null,password:null,passwordRepeat:null,passwordSuccess:!1,verified:null,licenseNo:null,fullname:null,gmail:null,authorized:!1,verifyEmailSent:!1,emailTaken:!1,codeError:!1,updateInfoSuccess:!1,incorrectCode:!1,errMsg:""}},methods:{updatePassword:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.currentPassword;case 2:if(t.t2=t.sent,t.t1=""!==t.t2,!t.t1){t.next=6;break}t.t1=""!==e.password;case 6:if(t.t0=t.t1,!t.t0){t.next=9;break}t.t0=""!==e.passwordRepeat;case 9:if(!t.t0){t.next=27;break}if(e.password===e.passwordRepeat){t.next=16;break}e.passwordValidate=!0,e.passwordValidateMessage="Passwords do not match",e.passwordSuccess=!1,t.next=27;break;case 16:return t.prev=16,t.next=19,tt().put("/api/updatePassword/doctor",{doctorID:e.id,currentPassword:e.currentPassword,newPassword:e.password}).then((function(t){t.data?(e.incorrectPasswordValidate=!1,e.passwordValidate=!1,e.passwordSuccess=!0,e.currentPassword=null,e.password=null,e.passwordRepeat=null):(e.passwordValidate=!1,e.passwordSuccess=!1,e.incorrectPasswordValidate=!0,e.currentPasswordValidateMessage="Incorrect current password")}));case 19:t.next=27;break;case 21:t.prev=21,t.t3=t["catch"](16),e.passwordValidate=!1,e.passwordSuccess=!1,e.incorrectPasswordValidate=!0,e.errMsg=t.t3;case 27:case"end":return t.stop()}}),t,null,[[16,21]])})))()},showPass:function(){for(var e=document.getElementsByClassName("password"),t=0;t<e.length;t++)"password"===e[t].type?e[t].type="text":e[t].type="password"},modalUpEditInfo:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Math.floor(1e3+9e3*Math.random()),t.next=3,tt().post("/api/code/email",{email:e.gmail}).then(function(){var t=(0,Y.Z)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a.data){t.next=8;break}return e.isActiveModal=!0,t.next=4,tt().post("/api/code",{email:e.gmail,code:n});case 4:return t.next=6,tt().post("/api/OTPMail",{email:e.gmail,code:n});case 6:t.next=10;break;case 8:e.isActiveModal=!0,e.codeError=!0;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()},modalUpInfoVerify:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isActiveModal=!0;case 1:case"end":return t.stop()}}),t)})))()},sendVerificationEmail:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],a=Math.floor(1e3+9e3*Math.random()),t.next=4,tt().get("/api/doctor").then((function(t){return n=t.data.find((function(t){return t.gmail===e.gmail}))}));case 4:if("undefined"===typeof n){t.next=9;break}return t.next=7,tt().post("/api/code/email",{email:e.gmail}).then(function(){var t=(0,Y.Z)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.data){t.next=8;break}return t.next=3,tt().post("/api/code",{email:e.gmail,code:a});case 3:return t.next=5,tt().post("/api/OTPMail",{email:e.gmail,code:a});case 5:e.verifyEmailSent=!0,t.next=10;break;case 8:e.verifyEmailSent=!0,e.codeError=!0;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:t.next=12;break;case 9:e.verifyEmailSent=!0,e.codeError=!0,e.emailTaken=!0;case 12:case"end":return t.stop()}}),t)})))()},confirmOTPEditInfo:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().post("/api/code/verify",{code:e.OTP}).then((function(t){t.data?e.codeError||(e.authorized=!0,e.isActiveModal=!1):e.incorrectCode=!0}));case 2:case"end":return t.stop()}}),t)})))()},verifyEmail:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().post("/api/code/verify",{code:e.OTP}).then(function(){var t=(0,Y.Z)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.data;case 2:if(!t.sent){t.next=18;break}if(e.codeError){t.next=15;break}return t.next=6,tt().put("/api/doctor/".concat(e.id),{gmail:e.gmail,verified:!0});case 6:return t.next=8,tt().put("/session/doctor",{gmail:e.gmail,verified:!0});case 8:if(e.verified=!0,e.isActiveModal=!1,e.isActiveModal){t.next=13;break}return t.next=13,tt().get("/session/doctor").then((function(t){return e.doctorDetails=t.data}));case 13:t.next=16;break;case 15:e.incorrectCode=!0;case 16:t.next=19;break;case 18:e.incorrectCode=!0;case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},updateInfo:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.verified){t.next=8;break}return t.next=3,tt().put("/api/doctor/".concat(e.id),{licenseNo:e.licenseNo,name:e.fullname});case 3:return t.next=5,tt().put("/session/doctor",{licenseNo:e.licenseNo,name:e.fullname});case 5:return t.next=7,tt().get("/session/doctor").then((function(t){return e.fullname=t.data.fullname}));case 7:e.updateInfoSuccess=!0;case 8:case"end":return t.stop()}}),t)})))()},closeModal:function(){this.isActiveModal=!1}}};const zp=(0,c.Z)(Rp,[["render",Mp],["__scopeId","data-v-5fba7b41"]]);var Np=zp,Ip={class:"section is-medium"},Tp={class:"subtitle has-text-centered"},qp=(0,s.Uk)(" You have been successfuly appointed to "),Hp=(0,s.Uk)(" at "),Lp=(0,s.Uk)(", "),Vp=(0,s.Uk)(" - "),Op=(0,s.Uk)(" in "),Ep=(0,s.Uk)(". "),Zp={class:"subtitle has-text-centered"},Fp=(0,s.Uk)("Your "),Yp=(0,s._)("b",null,"priority number",-1),Bp=(0,s.Uk)(" is "),$p=(0,s._)("br",null,null,-1),jp={class:"subtitle is-6 has-text-centered has-text-weight-bold"},Kp=(0,s._)("hr",null,null,-1),Wp=(0,s._)("h1",{class:"title"},"Patient Details ",-1),Gp=(0,s._)("br",null,null,-1),Qp={class:"subtitle"},Xp=(0,s._)("b",null,"First Name:",-1),Jp={class:"subtitle"},em=(0,s._)("b",null,"Last Name:",-1),tm={class:"subtitle"},nm=(0,s._)("b",null,"Contact Number:",-1),am={class:"subtitle"},im=(0,s._)("b",null,"Birthday:",-1),sm={class:"subtitle"},rm=(0,s._)("b",null,"Symptoms/Comments:",-1);function om(e,t,n,a,i,r){var o=(0,s.up)("NavigationTab");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(o),(0,s._)("section",Ip,[(0,s._)("h1",Tp,[qp,(0,s._)("b",null,(0,v.zw)(i.patient.doctor),1),Hp,(0,s._)("b",null,(0,v.zw)(new Date(i.patient.schedule.date).toDateString()),1),Lp,(0,s._)("b",null,(0,v.zw)(i.patient.schedule.timeStart),1),Vp,(0,s._)("b",null,(0,v.zw)(i.patient.schedule.timeEnd),1),Op,(0,s._)("b",null,(0,v.zw)(i.patient.hospital),1),Ep]),(0,s._)("h1",Zp,[Fp,Yp,Bp,(0,s._)("b",null,(0,v.zw)(i.patient.priorityNum),1)]),$p,(0,s._)("p",jp,"Reference ID: "+(0,v.zw)(i.patient.referenceID),1),Kp,Wp,Gp,(0,s._)("h1",Qp,[Xp,(0,s.Uk)(" "+(0,v.zw)(i.patient.firstName),1)]),(0,s._)("h1",Jp,[em,(0,s.Uk)(" "+(0,v.zw)(i.patient.lastName),1)]),(0,s._)("h1",tm,[nm,(0,s.Uk)(" "+(0,v.zw)(i.patient.contactNum),1)]),(0,s._)("h1",am,[im,(0,s.Uk)(" "+(0,v.zw)(i.patient.birthDay),1)]),(0,s._)("h1",sm,[rm,(0,s.Uk)(" "+(0,v.zw)(i.patient.comments),1)])])],64)}var cm={name:"pickDoctorSuccess",data:function(){return{patient:f.state.patientDetails}},mounted:function(){f.commit("statusAvailability",!1)},components:{NavigationTab:Jt}};const lm=(0,c.Z)(cm,[["render",om]]);var um=lm,dm={class:"container",style:{"margin-top":"20%"}},pm=(0,s._)("h1",{class:"title has-text-centered"},"Profile image changed successfully, changes may take a few minutes to hours to take effect.",-1),mm=(0,s._)("br",null,null,-1),fm=(0,s._)("h1",{class:"subtitle has-text-centered"},"Redirecting browser in 15 seconds.",-1),hm=(0,s._)("h1",{class:"subtitle has-text-centered"},[(0,s.Uk)(" If the browser does not reload automatically, please click "),(0,s._)("a",{href:"/doctor/login"},"here")],-1),vm=[pm,mm,fm,hm];function gm(e,t,n,a,i,r){return(0,s.wg)(),(0,s.iD)("div",dm,vm)}var wm={name:"imgUploadSuccess",created:function(){var e=this;setTimeout((function(){window.location.href="/doctor/login",e.$store.commit("imgSuccess",!1)}),15e3)}};const _m=(0,c.Z)(wm,[["render",gm]]);var bm=_m,km={class:"container",style:{"margin-top":"20%"}},ym=(0,s._)("h1",{class:"title has-text-centered"},"Your account has been successfully created, please login onto your account and setup your schedule to start.",-1),xm=(0,s._)("br",null,null,-1),Dm=(0,s._)("h1",{class:"subtitle has-text-centered"},"Redirecting browser in 15 seconds.",-1),Cm=(0,s._)("h1",{class:"subtitle has-text-centered"},[(0,s.Uk)(" If the browser does not reload automatically, please click "),(0,s._)("a",{href:"/admin/login"},"here")],-1),Um=[ym,xm,Dm,Cm];function Am(e,t,n,a,i,r){return(0,s.wg)(),(0,s.iD)("div",km,Um)}var Sm={name:"imageUploadSuccessDoctor",created:function(){var e=this;setTimeout((function(){window.location.href="/doctor/login",e.$store.commit("imgSuccess",!1)}),15e3)}};const Pm=(0,c.Z)(Sm,[["render",Am]]);var Mm=Pm,Rm={class:"container",style:{"margin-top":"20%"}},zm=(0,s._)("h1",{class:"title has-text-centered"},"Hospital image changed successfully, changes may take a few minutes to hours to take effect.",-1),Nm=(0,s._)("br",null,null,-1),Im=(0,s._)("h1",{class:"subtitle has-text-centered"},"Redirecting browser in 15 seconds.",-1),Tm=(0,s._)("h1",{class:"subtitle has-text-centered"},[(0,s.Uk)(" If the browser does not reload automatically, please click "),(0,s._)("a",{href:"/user/manager/login"},"here")],-1),qm=[zm,Nm,Im,Tm];function Hm(e,t,n,a,i,r){return(0,s.wg)(),(0,s.iD)("div",Rm,qm)}var Lm={name:"imgUploadSuccessManager",created:function(){var e=this;setTimeout((function(){window.location.href="/user/manager/login",e.$store.commit("imgSuccessManager",!1)}),15e3)}};const Vm=(0,c.Z)(Lm,[["render",Hm]]);var Om=Vm,Em=function(e){return(0,s.dD)("data-v-0628a19e"),e=e(),(0,s.Cn)(),e},Zm={class:"section"},Fm=Em((function(){return(0,s._)("i",{class:"fa-solid fa-arrow-left"},null,-1)})),Ym=(0,s.Uk)(" Back to Login"),Bm={class:"container",style:{width:"50%",margin:"auto"}},$m={key:0,class:"notification is-danger"},jm=(0,s.Uk)(" Oops, something went wrong. Try again later or "),Km=(0,s.Uk)("contact us"),Wm=Em((function(){return(0,s._)("h1",{class:"title has-text-primary"},"You're almost there...",-1)})),Gm={class:"box"},Qm={class:"field is-horizontal"},Xm={class:"field-body"},Jm={class:"field"},ef={class:"control"},tf=Em((function(){return(0,s._)("label",{class:"label"},"First name:",-1)})),nf={class:"field"},af={class:"control"},sf=Em((function(){return(0,s._)("label",{class:"label"},"Last name:",-1)})),rf={class:"field is-horizontal"},of={class:"field-body"},cf={class:"field"},lf={class:"control"},uf=Em((function(){return(0,s._)("label",{class:"label"},"Age:",-1)})),df=Em((function(){return(0,s._)("br",null,null,-1)})),pf={class:"field"},mf={class:"control"},ff=Em((function(){return(0,s._)("label",{class:"label"},"Gender:",-1)})),hf={class:"radio"},vf=(0,s.Uk)(" Male "),gf={class:"radio"},wf=(0,s.Uk)(" Female "),_f={class:"field is-horizontal"},bf=Em((function(){return(0,s._)("br",null,null,-1)})),kf={class:"field-body"},yf={class:"field"},xf={class:"control"},Df=Em((function(){return(0,s._)("label",{class:"label"},"Contact Number:",-1)})),Cf={class:"field"},Uf={class:"control"},Af=Em((function(){return(0,s._)("label",{class:"label"},"Gmail(Optional):",-1)})),Sf={class:"field is-horizontal"},Pf={class:"field-body"},Mf={class:"field"},Rf={class:"control"},zf=Em((function(){return(0,s._)("label",{class:"label"},"Province:",-1)})),Nf={class:"dropdown-trigger"},If={key:0},Tf={key:1},qf={class:"dropdown-menu"},Hf=["onClick"],Lf={class:"field"},Vf={class:"control"},Of=Em((function(){return(0,s._)("div",{class:"label"},"City/Municipality:",-1)})),Ef={class:"dropdown-trigger"},Zf=["disabled"],Ff={key:0},Yf={key:1},Bf={key:0,class:"dropdown-menu"},$f=["onClick"],jf={class:"field"},Kf={class:"control"},Wf=Em((function(){return(0,s._)("label",{class:"label"},"Current Address",-1)})),Gf={class:"field"},Qf={class:"control"},Xf=Em((function(){return(0,s._)("label",{class:"label"},"Username:",-1)})),Jf={key:0},eh={key:0,class:"help is-danger"},th=(0,s.Uk)("Unavailable"),nh={key:0,class:"fas fa-spinner fa-spin"},ah={key:1,class:"help is-success"},ih=(0,s.Uk)("Available"),sh={key:0,class:"fas fa-spinner fa-spin"},rh={class:"field is-horizontal"},oh={class:"field-body"},ch={class:"field"},lh={class:"control"},uh=Em((function(){return(0,s._)("label",{class:"label"},"Password:",-1)})),dh={class:"subtitle has-text-danger"},ph={class:"field"},mh={class:"control"},fh=Em((function(){return(0,s._)("label",{class:"label"},"Repeat Password:",-1)})),hh={class:"subtitle has-text-danger"},vh={class:"checkbox"},gh=(0,s.Uk)(" I agree to the "),wh=Em((function(){return(0,s._)("a",{href:"#"},"terms and conditions",-1)})),_h=Em((function(){return(0,s._)("br",null,null,-1)})),bh={class:"has-text-right"},kh=["disabled"];function yh(e,t,n,i,r,o){var c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("section",Zm,[(0,s.Wm)(c,{to:"/user/login"},{default:(0,s.w5)((function(){return[Fm,Ym]})),_:1}),(0,s._)("div",Bm,[r.errMsg?((0,s.wg)(),(0,s.iD)("div",$m,[jm,(0,s.Wm)(c,{to:"/contactus"},{default:(0,s.w5)((function(){return[Km]})),_:1})])):(0,s.kq)("",!0),Wm,(0,s._)("div",Gm,[(0,s._)("div",Qm,[(0,s._)("div",Xm,[(0,s._)("div",Jm,[(0,s._)("p",ef,[tf,(0,s.wy)((0,s._)("input",{class:"input",type:"text",placeholder:"First name","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.firstName=e}),required:""},null,512),[[a.nr,r.firstName]])])]),(0,s._)("div",nf,[(0,s._)("p",af,[sf,(0,s.wy)((0,s._)("input",{class:"input",type:"text",placeholder:"Last name","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.lastName=e}),required:""},null,512),[[a.nr,r.lastName]])])])])]),(0,s._)("div",rf,[(0,s._)("div",of,[(0,s._)("div",cf,[(0,s._)("p",lf,[uf,(0,s.wy)((0,s._)("input",{class:"input",type:"number",placeholder:"age","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.age=e}),required:""},null,512),[[a.nr,r.age]])])]),df,(0,s._)("div",pf,[(0,s._)("p",mf,[ff,(0,s._)("label",hf,[(0,s._)("input",{type:"radio",name:"sex",onClick:t[3]||(t[3]=function(){return o.sexMale&&o.sexMale.apply(o,arguments)})}),vf]),(0,s._)("label",gf,[(0,s._)("input",{type:"radio",name:"sex",onClick:t[4]||(t[4]=function(){return o.sexFemale&&o.sexFemale.apply(o,arguments)})}),wf])])])])]),(0,s._)("div",_f,[bf,(0,s._)("div",kf,[(0,s._)("div",yf,[(0,s._)("p",xf,[Df,(0,s.wy)((0,s._)("input",{class:"input",type:"number",placeholder:"contact number","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.contactNum=e}),required:""},null,512),[[a.nr,r.contactNum]])])]),(0,s._)("div",Cf,[(0,s._)("p",Uf,[Af,(0,s.wy)((0,s._)("input",{class:"input",type:"email",placeholder:"gmail","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.gmail=e}),required:""},null,512),[[a.nr,r.gmail]])])])])]),(0,s._)("div",Sf,[(0,s._)("div",Pf,[(0,s._)("div",Mf,[(0,s._)("div",Rf,[zf,(0,s._)("div",{class:(0,v.C_)(["dropdown",{"is-active":r.isActiveDropdownProvince}])},[(0,s._)("div",Nf,[(0,s._)("button",{class:"button","aria-haspopup":"true",onClick:t[7]||(t[7]=function(){return o.provinceDropdown&&o.provinceDropdown.apply(o,arguments)})},[""==r.province?((0,s.wg)(),(0,s.iD)("span",If,"Select")):((0,s.wg)(),(0,s.iD)("span",Tf,(0,v.zw)(r.province),1))])]),(0,s._)("div",qf,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.geolocationData,(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"dropdown-content",key:e._id},[(0,s._)("a",{class:"dropdown-item",onClick:function(t){return o.selectProvince(e.province)}},(0,v.zw)(e.province),9,Hf)])})),128))])],2)])]),(0,s._)("div",Lf,[(0,s._)("div",Vf,[Of,(0,s._)("div",{class:(0,v.C_)(["dropdown",{"is-active":r.isActiveDropdownCity}])},[(0,s._)("div",Ef,[(0,s._)("button",{class:"button","aria-haspopup":"true",onClick:t[8]||(t[8]=function(){return o.cityDropdown&&o.cityDropdown.apply(o,arguments)}),disabled:""==r.province},[""==r.city?((0,s.wg)(),(0,s.iD)("span",Ff,"Select")):((0,s.wg)(),(0,s.iD)("span",Yf,(0,v.zw)(r.city),1))],8,Zf)]),r.province?((0,s.wg)(),(0,s.iD)("div",Bf,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.citiesData,(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"dropdown-content",key:e.name},[(0,s._)("a",{class:"dropdown-item",onClick:function(t){return o.selectCity(e.name)}},(0,v.zw)(e.name),9,$f)])})),128))])):(0,s.kq)("",!0)],2)])])])]),(0,s._)("div",jf,[(0,s._)("p",Kf,[Wf,(0,s.wy)((0,s._)("input",{class:"input",type:"text",placeholder:"your current address","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.currentAddress=e}),required:""},null,512),[[a.nr,r.currentAddress]])])]),(0,s._)("div",Gf,[(0,s._)("div",Qf,[Xf,""!==r.usernameFound?((0,s.wg)(),(0,s.iD)("div",Jf,[r.usernameFound?((0,s.wg)(),(0,s.iD)("p",eh,[th,r.loadingUsername?((0,s.wg)(),(0,s.iD)("i",nh)):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("p",ah,[ih,r.loadingUsername?((0,s.wg)(),(0,s.iD)("i",sh)):(0,s.kq)("",!0)]))])):(0,s.kq)("",!0),(0,s.wy)((0,s._)("input",{class:"input",type:"text",placeholder:"username","onUpdate:modelValue":t[10]||(t[10]=function(e){return r.username=e}),onInput:t[11]||(t[11]=function(){return o.usernameFindTimeout&&o.usernameFindTimeout.apply(o,arguments)}),required:""},null,544),[[a.nr,r.username]])])]),(0,s._)("div",rh,[(0,s._)("div",oh,[(0,s._)("div",ch,[(0,s._)("p",lh,[uh,(0,s.wy)((0,s._)("input",{class:"input",type:"password",placeholder:"password","onUpdate:modelValue":t[12]||(t[12]=function(e){return r.password=e}),required:""},null,512),[[a.nr,r.password]])]),(0,s._)("p",dh,(0,v.zw)(r.passwordMatch),1)]),(0,s._)("div",ph,[(0,s._)("p",mh,[fh,(0,s.wy)((0,s._)("input",{class:"input",type:"password",placeholder:"repeat password","onUpdate:modelValue":t[13]||(t[13]=function(e){return r.passwordRepeat=e}),required:""},null,512),[[a.nr,r.passwordRepeat]])]),(0,s._)("p",hh,(0,v.zw)(r.passwordMatch),1)])])]),(0,s._)("label",vh,[(0,s._)("input",{type:"checkbox",onClick:t[14]||(t[14]=function(){return o.agreeTermsAndConditions&&o.agreeTermsAndConditions.apply(o,arguments)})}),gh,wh]),_h,(0,s._)("div",bh,[(0,s._)("button",{class:"button is-primary",onClick:t[15]||(t[15]=function(e){return o.signup(e)}),disabled:null==r.firstName||null==r.lastName||null==r.age||null==r.sex||null==r.contactNum||null==r.province||null==r.city||null==r.currentAddress||null==r.username||null==r.password||0==r.termsAndConditionsAgreed},"Confirm",8,kh)])])])])}var xh={username:"UserSignUp",data:function(){return{firstName:"",lastName:"",age:"",contactNum:"",gmail:"",currentAddress:"",username:"",password:"",passwordRepeat:"",sex:null,passwordMatch:"",geolocationData:[],isActiveDropdownProvince:!1,isActiveDropdownCity:!1,city:"",province:"",citiesData:[],termsAndConditionsAgreed:!1,errMsg:"",usernameFound:"",loadingUsername:!1,searchTimeout:null}},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().get("/api/geolocation").then((function(t){return e.geolocationData=t.data}));case 2:case"end":return t.stop()}}),t)})))()},methods:{usernameFindTimeout:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.searchTimeout&&(clearTimeout(e.searchTimeout),e.searchTimeout=null),e.searchTimeout=setTimeout(e.usernameFinder,500);case 2:case"end":return t.stop()}}),t)})))()},usernameFinder:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingUsername=!0,t.next=3,tt().post("/api/user/check_username",{username:e.username}).then((function(t){e.usernameFound=t.data}));case 3:return t.next=5,e.username;case 5:if(t.t0=t.sent,""!=t.t0){t.next=8;break}e.usernameFound="";case 8:e.loadingUsername=!1;case 9:case"end":return t.stop()}}),t)})))()},agreeTermsAndConditions:function(){this.termsAndConditionsAgreed=!0},sexMale:function(){this.sex="Male"},sexFemale:function(){this.sex="Female"},selectProvince:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.city="",t.province=e,t.isActiveDropdownProvince=!1,n.next=5,tt().get("/api/geolocation").then((function(n){return t.citiesData=n.data.find((function(t){return t.province===e}))}));case 5:return n.next=7,t.citiesData.citiesOrMunicipalities.sort((function(e,t){return e.name>t.name?1:-1}));case 7:t.citiesData=n.sent;case 8:case"end":return n.stop()}}),n)})))()},selectCity:function(e){this.city=e,this.isActiveDropdownCity=!1},provinceDropdown:function(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},cityDropdown:function(){this.isActiveDropdownCity=!this.isActiveDropdownCity},signup:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.password!==e.passwordRepeat?e.passwordMatch="password do not match":e.passwordMatch=null,e.password!==e.passwordRepeat||e.usernameFound){t.next=14;break}return t.prev=2,t.next=5,tt().post("/api/user",{username:e.username,password:e.password,name:[e.firstName,e.lastName],age:e.age,sex:e.sex,contactNum:e.contactNum,gmail:e.gmail,province:e.province,city:e.city,currentAddress:e.currentAddress});case 5:return t.next=7,e.$store.commit("accountCreated",!0);case 7:return t.next=9,e.$router.push("/user/login");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),e.errMsg=t.t0;case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()}}};const Dh=(0,c.Z)(xh,[["render",yh],["__scopeId","data-v-0628a19e"]]);var Ch=Dh,Uh=function(e){return(0,s.dD)("data-v-52fb618a"),e=e(),(0,s.Cn)(),e},Ah={class:"section",style:{height:"92vh"}},Sh={class:"container has-text-centered animate__animated animate__fadeInLeft"},Ph={class:"box",style:{width:"40%",margin:"auto"}},Mh={key:0,class:"notification is-success"},Rh=Uh((function(){return(0,s._)("div",{class:"notification is-info has-text-left"},[(0,s.Uk)(" Are you one of our doctors? Click "),(0,s._)("a",{href:"/doctor/login"},"here"),(0,s.Uk)(". ")],-1)})),zh=Uh((function(){return(0,s._)("br",null,null,-1)})),Nh=Uh((function(){return(0,s._)("p",{class:"subtitle has-text-info has-text-left"},"Login to make an appointment.",-1)})),Ih={class:"field"},Th={class:"control"},qh={class:"control",style:{"margin-top":"2%"}},Hh={key:0,class:"subtitle has-text-danger"},Lh={key:1,class:"subtitle has-text-danger"},Vh=Uh((function(){return(0,s._)("br",null,null,-1)})),Oh=Uh((function(){return(0,s._)("br",null,null,-1)})),Eh=Uh((function(){return(0,s._)("h1",{class:"subtitle"},"OR",-1)})),Zh=Uh((function(){return(0,s._)("a",{href:"/user/signup"},"Create an account",-1)}));function Fh(e,t,n,i,r,o){var c=(0,s.up)("NavigationTabVue"),l=(0,s.up)("ForgotPassword");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c),(0,s._)("section",Ah,[(0,s._)("div",Sh,[(0,s._)("div",Ph,[r.newAccount?((0,s.wg)(),(0,s.iD)("div",Mh,"Your account has been successfully created.")):(0,s.kq)("",!0),Rh,zh,Nh,(0,s._)("div",Ih,[(0,s._)("div",Th,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e}),placeholder:"username",onKeyup:t[1]||(t[1]=(0,a.D2)((function(){return o.login&&o.login.apply(o,arguments)}),["enter"])),required:""},null,544),[[a.nr,r.username]])]),(0,s._)("div",qh,[(0,s.wy)((0,s._)("input",{class:"input",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.password=e}),placeholder:"password",onKeyup:t[3]||(t[3]=(0,a.D2)((function(){return o.login&&o.login.apply(o,arguments)}),["enter"])),required:""},null,544),[[a.nr,r.password]])]),r.incorrectUserPass?((0,s.wg)(),(0,s.iD)("h1",Hh,(0,v.zw)(r.validateMessage),1)):0==r.incorrectUserPass?((0,s.wg)(),(0,s.iD)("h1",Lh,(0,v.zw)(r.validateMessage),1)):(0,s.kq)("",!0),(0,s._)("button",{type:"button",class:"button is-primary",onClick:t[4]||(t[4]=function(){return o.login&&o.login.apply(o,arguments)})},"Login"),Vh,Oh,Eh,Zh]),(0,s.Wm)(l,{userType:"patient"})])])])],64)}var Yh={username:"UserLogin",components:{NavigationTabVue:Jt,ForgotPassword:zi["default"]},data:function(){return{username:null,password:null,userPatient:null,validateMessage:null,incorrectUserPass:Boolean,newAccount:!1}},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=e.$store.state.accountCreated){t.next=4;break}return e.newAccount=!0,t.next=4,e.$store.commit("accountCreated",!1);case 4:return t.next=6,tt().get("/session/patient").then((function(t){return e.userPatient=t.data}));case 6:return t.next=8,e.userPatient.username;case 8:if(!t.sent){t.next=13;break}return e.$store.commit("patientUsername",e.userPatient.username),e.$store.commit("patientID",e.userPatient._id),t.next=13,e.$router.push("/user/".concat(e.userPatient.username));case 13:case"end":return t.stop()}}),t)})))()},methods:{login:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.username&&null!=e.password){t.next=7;break}e.incorrectUserPass=!1,e.validateMessage="empty username or password",e.username=null,e.password=null,t.next=24;break;case 7:return t.next=9,tt().post("/api/auth/patient",{username:e.username,password:e.password}).then((function(t){return e.userPatient=t.data}));case 9:return t.next=11,e.userPatient;case 11:if(!t.sent){t.next=20;break}return f.commit("patientUsername",e.userPatient.username),f.commit("patientID",e.userPatient._id),t.next=16,e.$router.push("/user/".concat(e.userPatient.username));case 16:return t.next=18,tt().post("/session/patient",{_id:e.userPatient._id,name:e.userPatient.name,email:e.userPatient.gmail,username:e.username,province:e.userPatient.province,city:e.userPatient.city,currentAddress:e.userPatient.currentAddress});case 18:t.next=24;break;case 20:e.validateMessage="Incorrect username or password",e.incorrectUserPass=!0,e.username=null,e.password=null;case 24:case"end":return t.stop()}}),t)})))()}}};const Bh=(0,c.Z)(Yh,[["render",Fh],["__scopeId","data-v-52fb618a"]]);var $h=Bh,jh=n(2262),Kh={__name:"UserView",setup:function(e){return function(e,t){return(0,s.wg)(),(0,s.j4)((0,jh.SU)(nn))}}};const Wh=Kh;var Gh=Wh,Qh=function(e){return(0,s.dD)("data-v-1124607b"),e=e(),(0,s.Cn)(),e},Xh={class:"section",style:{width:"75%",margin:"auto"}},Jh={key:0,class:"container"},ev=Qh((function(){return(0,s._)("h1",{class:"title"},"Profile",-1)})),tv={key:0,class:"notification is-danger"},nv=(0,s.Uk)(" Oops, something went wrong. Try again later or "),av=(0,s.Uk)("contact us"),iv={key:1,class:"notification is-success"},sv={class:"field is-horizontal"},rv={class:"field-body"},ov={class:"field"},cv=Qh((function(){return(0,s._)("label",{class:"label"},"Username:",-1)})),lv={class:"controls"},uv={class:"field"},dv=Qh((function(){return(0,s._)("label",{class:"label"},"Email:",-1)})),pv={class:"controls"},mv={class:"field is-horizontal"},fv={class:"field-body"},hv={class:"field"},vv=Qh((function(){return(0,s._)("label",{class:"label"},"First Name:",-1)})),gv={class:"controls"},wv={class:"field"},_v=Qh((function(){return(0,s._)("label",{class:"label"},"Last Name:",-1)})),bv={class:"controls"},kv={class:"field is-horizontal"},yv={class:"field-body"},xv={class:"field"},Dv={class:"control"},Cv=Qh((function(){return(0,s._)("label",{class:"label"},"Province:",-1)})),Uv={class:"dropdown-trigger"},Av={key:0},Sv={key:1},Pv={class:"dropdown-menu"},Mv=["onClick"],Rv={class:"field"},zv={class:"control"},Nv=Qh((function(){return(0,s._)("div",{class:"label"},"City/Municipality:",-1)})),Iv={class:"dropdown-trigger"},Tv=["disabled"],qv={key:0},Hv={key:1},Lv={key:0,class:"dropdown-menu"},Vv=["onClick"],Ov={class:"field"},Ev=Qh((function(){return(0,s._)("label",{class:"label"},"Current Address:",-1)})),Zv={class:"controls"},Fv=Qh((function(){return(0,s._)("br",null,null,-1)})),Yv={class:"breadcrumb","aria-label":"breadcrumbs"},Bv={key:1,class:"container"},$v={key:0,class:"table-container"},jv={class:"table is-striped is-narrow is-fullwidth is-bordered"},Kv=Qh((function(){return(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"has-text-black-ter"},"Controls"),(0,s._)("th",{class:"has-text-black-ter"},"Schedule"),(0,s._)("th",{class:"has-text-black-ter"},"Priority No."),(0,s._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,s._)("th",{class:"has-text-black-ter"},"Doctor Appointed"),(0,s._)("th",{class:"has-text-black-ter"},"First Name"),(0,s._)("th",{class:"has-text-black-ter"},"Last Name"),(0,s._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,s._)("th",{class:"has-text-black-ter"},"Birthday"),(0,s._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1)})),Wv=["onClick"],Gv=Qh((function(){return(0,s._)("br",null,null,-1)})),Qv={class:"has-text-black-ter"},Xv={class:"has-text-black-ter"},Jv={class:"has-text-black-ter"},eg={class:"has-text-black-ter"},tg={class:"has-text-black-ter"},ng={class:"has-text-black-ter"},ag={class:"has-text-black-ter"},ig={class:"has-text-black-ter"},sg={class:"has-text-black-ter"},rg={key:1,class:"container"},og=Qh((function(){return(0,s._)("div",{class:"notification is-info"},"You do not have any ongoing appointments.",-1)})),cg=[og],lg={key:2,class:"container"},ug={key:0,class:"table-container"},dg={class:"table is-striped is-narrow is-fullwidth is-bordered"},pg=Qh((function(){return(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"has-text-black-ter"},"Schedule"),(0,s._)("th",{class:"has-text-black-ter"},"Priority No."),(0,s._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,s._)("th",{class:"has-text-black-ter"},"Doctor Appointed"),(0,s._)("th",{class:"has-text-black-ter"},"First Name"),(0,s._)("th",{class:"has-text-black-ter"},"Last Name"),(0,s._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,s._)("th",{class:"has-text-black-ter"},"Birthday"),(0,s._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1)})),mg={class:"has-text-black-ter"},fg={class:"has-text-black-ter"},hg={class:"has-text-black-ter"},vg={class:"has-text-black-ter"},gg={class:"has-text-black-ter"},wg={class:"has-text-black-ter"},_g={class:"has-text-black-ter"},bg={class:"has-text-black-ter"},kg={class:"has-text-black-ter"},yg={key:1,class:"container"},xg=Qh((function(){return(0,s._)("div",{class:"notification is-info"},"You do not have any past appointments.",-1)})),Dg=[xg],Cg={__name:"UserProfile",setup:function(e){var t=(0,d.oR)(),n=(0,jh.iH)([]),i=(0,jh.iH)([]),r=(0,jh.iH)([]),o=(0,jh.iH)([]),c=(0,jh.iH)(""),l=(0,jh.iH)(""),u=(0,jh.iH)(!1),p=(0,jh.iH)(!1),m=(0,jh.iH)(""),f=(0,jh.iH)(!1),h=(0,jh.iH)(!0),g=(0,jh.iH)(!1);(0,s.bv)((0,Y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,tt().post("/api/appointmentList/patients",{id:t.state.patientID}).then((function(e){return n.value=e.data}));case 2:return e.next=4,tt().get("/session/patient").then((function(e){return i.value=e.data}));case 4:return e.next=6,tt().get("/api/geolocation").then((function(e){return r.value=e.data}));case 6:return e.next=8,i.value.province;case 8:return c.value=e.sent,e.next=11,i.value.city;case 11:return l.value=e.sent,e.next=14,tt().get("/api/geolocation").then((function(e){return o.value=e.data.find((function(e){return e.province===c.value}))}));case 14:return e.next=16,o.value.citiesOrMunicipalities.sort((function(e,t){return e.name>t.name?1:-1}));case 16:o.value=e.sent;case 17:case"end":return e.stop()}}),e)}))));var w=(0,s.Fl)((function(){return k()})),_=(0,s.Fl)((function(){return b()}));function b(){return n.value.sort((function(e,t){return new Date(t.schedule[0].date).getTime()-new Date(e.schedule[0].date).getTime()})).filter((function(e){return new Date(e.schedule[0].date).getTime()<(new Date).getTime()}))}function k(){return n.value.sort((function(e,t){new Date(e.schedule[0].date).getTime(),new Date(t.schedule[0].date).getTime()})).filter((function(e){return new Date(e.schedule[0].date).getTime()>=(new Date).getTime()&&new Date(e.schedule[0].date).getMonth()>=(new Date).getMonth()}))}function y(e){return x.apply(this,arguments)}function x(){return x=(0,Y.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.value=!1,l.value="",c.value=t,e.next=5,tt().get("/api/geolocation").then((function(e){return o.value=e.data.find((function(e){return e.province===t}))}));case 5:return e.next=7,o.value.citiesOrMunicipalities.sort((function(e,t){return e.name>t.name?1:-1}));case 7:o.value=e.sent;case 8:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function D(e){p.value=!1,l.value=e}function C(){return U.apply(this,arguments)}function U(){return U=(0,Y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt().put("/session/patient/",{name:[i.value.name[0],i.value.name[1]],province:c.value,city:l.value,currentAddress:i.value.currentAddress});case 3:return e.next=5,tt().put("/api/user/".concat(i.value._id),{name:[i.value.name[0],i.value.name[1]],province:c.value,city:l.value,currentAddress:i.value.currentAddress});case 5:return f.value=!0,m.value="",e.next=9,tt().get("/session/patient").then((function(e){return i.value=e.data}));case 9:return e.next=11,tt().get("/api/geolocation").then((function(e){return r.value=e.data}));case 11:return e.next=13,i.value.province;case 13:return c.value=e.sent,e.next=16,i.value.city;case 16:return l.value=e.sent,e.next=19,tt().get("/api/geolocation").then((function(e){return o.value=e.data.find((function(e){return e.province===c.value}))}));case 19:return e.next=21,o.value.citiesOrMunicipalities.sort((function(e,t){return e.name>t.name?1:-1}));case 21:o.value=e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e["catch"](0),m.value=e.t0;case 27:case"end":return e.stop()}}),e,null,[[0,24]])}))),U.apply(this,arguments)}function A(e){return S.apply(this,arguments)}function S(){return S=(0,Y.Z)(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()["delete"]("/api/appointmentList/".concat(a));case 3:return e.next=5,tt().get("/api/appointmentList").then((function(e){return n.value=e.data.filter((function(e){return e.patientID===t.state.patientID}))}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),m.value=e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),S.apply(this,arguments)}return function(e,t){var n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(Jt),(0,s._)("section",Xh,[0!==(0,jh.SU)(i).length?((0,s.wg)(),(0,s.iD)("div",Jh,[ev,(0,jh.SU)(m)?((0,s.wg)(),(0,s.iD)("div",tv,[nv,(0,s.Wm)(n,{to:"/contactus"},{default:(0,s.w5)((function(){return[av]})),_:1})])):(0,s.kq)("",!0),(0,jh.SU)(f)?((0,s.wg)(),(0,s.iD)("div",iv,"Changes have been pushed.")):(0,s.kq)("",!0),(0,s._)("div",sv,[(0,s._)("div",rv,[(0,s._)("div",ov,[cv,(0,s._)("div",lv,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,jh.SU)(i).username=e}),disabled:""},null,512),[[a.nr,(0,jh.SU)(i).username]])])]),(0,s._)("div",uv,[dv,(0,s._)("div",pv,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,jh.SU)(i).email=e})},null,512),[[a.nr,(0,jh.SU)(i).email]])])])])]),(0,s._)("div",mv,[(0,s._)("div",fv,[(0,s._)("div",hv,[vv,(0,s._)("div",gv,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,jh.SU)(i).name[0]=e})},null,512),[[a.nr,(0,jh.SU)(i).name[0]]])])]),(0,s._)("div",wv,[_v,(0,s._)("div",bv,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":t[3]||(t[3]=function(e){return(0,jh.SU)(i).name[1]=e})},null,512),[[a.nr,(0,jh.SU)(i).name[1]]])])])])]),(0,s._)("div",kv,[(0,s._)("div",yv,[(0,s._)("div",xv,[(0,s._)("div",Dv,[Cv,(0,s._)("div",{class:(0,v.C_)(["dropdown",{"is-active":(0,jh.SU)(u)}])},[(0,s._)("div",Uv,[(0,s._)("button",{class:"button",onClick:t[4]||(t[4]=function(e){return(0,jh.dq)(u)?u.value=!(0,jh.SU)(u):u=!(0,jh.SU)(u)})},[""==(0,jh.SU)(c)?((0,s.wg)(),(0,s.iD)("span",Av,"Select")):((0,s.wg)(),(0,s.iD)("span",Sv,(0,v.zw)((0,jh.SU)(c)),1))])]),(0,s._)("div",Pv,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,jh.SU)(r),(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"dropdown-content",key:e._id},[(0,s._)("a",{class:"dropdown-item",onClick:function(t){return y(e.province)}},(0,v.zw)(e.province),9,Mv)])})),128))])],2)])]),(0,s._)("div",Rv,[(0,s._)("div",zv,[Nv,(0,s._)("div",{class:(0,v.C_)(["dropdown",{"is-active":(0,jh.SU)(p)}])},[(0,s._)("div",Iv,[(0,s._)("button",{class:"button","aria-haspopup":"true",onClick:t[5]||(t[5]=function(e){return(0,jh.dq)(p)?p.value=!(0,jh.SU)(p):p=!(0,jh.SU)(p)}),disabled:""==(0,jh.SU)(c)},[""==(0,jh.SU)(l)?((0,s.wg)(),(0,s.iD)("span",qv,"Select")):((0,s.wg)(),(0,s.iD)("span",Hv,(0,v.zw)((0,jh.SU)(l)),1))],8,Tv)]),(0,jh.SU)(c)?((0,s.wg)(),(0,s.iD)("div",Lv,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,jh.SU)(o),(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"dropdown-content",key:e.name},[(0,s._)("a",{class:"dropdown-item",onClick:function(t){return D(e.name)}},(0,v.zw)(e.name),9,Vv)])})),128))])):(0,s.kq)("",!0)],2)])]),(0,s._)("div",Ov,[Ev,(0,s._)("div",Zv,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":t[6]||(t[6]=function(e){return(0,jh.SU)(i).currentAddress=e})},null,512),[[a.nr,(0,jh.SU)(i).currentAddress]])])])])]),(0,s._)("div",{class:"field is-grouped is-grouped-right"},[(0,s._)("p",{class:"control"},[(0,s._)("a",{class:"button is-primary",onClick:C},"Save changes")])])])):(0,s.kq)("",!0),Fv,(0,s._)("nav",Yv,[(0,s._)("ul",null,[(0,s._)("li",{class:(0,v.C_)({"is-active":(0,jh.SU)(h)})},[(0,s._)("a",{onClick:t[7]||(t[7]=function(e){return(0,jh.dq)(h)?h.value=!0:h=!0,(0,jh.dq)(g)?g.value=!1:g=!1})},"Ongoing Appointments")],2),(0,s._)("li",{class:(0,v.C_)({"is-active":(0,jh.SU)(g)})},[(0,s._)("a",{onClick:t[8]||(t[8]=function(e){return(0,jh.dq)(h)?h.value=!1:h=!1,(0,jh.dq)(g)?g.value=!0:g=!0})},"Past Appointments")],2)])]),(0,jh.SU)(h)?((0,s.wg)(),(0,s.iD)("div",Bv,[0!==Object.keys((0,jh.SU)(w)).length?((0,s.wg)(),(0,s.iD)("div",$v,[(0,s._)("table",jv,[Kv,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,jh.SU)(w),(function(e){return(0,s.wg)(),(0,s.iD)("tbody",{key:e._id},[(0,s._)("tr",null,[(0,s._)("button",{class:"dropdown-item button has-text-danger",type:"button",onClick:function(t){return A(e._id)}},"Cancel",8,Wv),Gv,(0,s._)("th",Qv,(0,v.zw)(new Date(e.schedule[0].date).toDateString()),1),(0,s._)("th",Xv,(0,v.zw)(e.priorityNum),1),(0,s._)("th",Jv,(0,v.zw)(e.hospital),1),(0,s._)("th",eg,(0,v.zw)(e.doctorName),1),(0,s._)("td",tg,(0,v.zw)(e.firstName),1),(0,s._)("td",ng,(0,v.zw)(e.lastName),1),(0,s._)("td",ag,(0,v.zw)(e.contactNum),1),(0,s._)("td",ig,(0,v.zw)(e.birthDay),1),(0,s._)("td",sg,(0,v.zw)(e.comments),1)])])})),128))])])):((0,s.wg)(),(0,s.iD)("div",rg,cg))])):(0,s.kq)("",!0),(0,jh.SU)(g)?((0,s.wg)(),(0,s.iD)("div",lg,[0!==Object.keys((0,jh.SU)(_)).length?((0,s.wg)(),(0,s.iD)("div",ug,[(0,s._)("table",dg,[pg,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,jh.SU)(_),(function(e){return(0,s.wg)(),(0,s.iD)("tbody",{key:e._id},[(0,s._)("tr",null,[(0,s._)("th",mg,(0,v.zw)(new Date(e.schedule[0].date).toDateString()),1),(0,s._)("th",fg,(0,v.zw)(e.priorityNum),1),(0,s._)("th",hg,(0,v.zw)(e.hospital),1),(0,s._)("th",vg,(0,v.zw)(e.doctorName),1),(0,s._)("td",gg,(0,v.zw)(e.firstName),1),(0,s._)("td",wg,(0,v.zw)(e.lastName),1),(0,s._)("td",_g,(0,v.zw)(e.contactNum),1),(0,s._)("td",bg,(0,v.zw)(e.birthDay),1),(0,s._)("td",kg,(0,v.zw)(e.comments),1)])])})),128))])])):((0,s.wg)(),(0,s.iD)("div",yg,Dg))])):(0,s.kq)("",!0)])],64)}}};const Ug=(0,c.Z)(Cg,[["__scopeId","data-v-1124607b"]]);var Ag=Ug,Sg=function(e){return(0,s.dD)("data-v-4e907d0b"),e=e(),(0,s.Cn)(),e},Pg={class:"section",style:{width:"75%",margin:"auto"}},Mg={class:"container"},Rg=Sg((function(){return(0,s._)("h1",{class:"title"},"Security",-1)})),zg={key:0,class:"notification is-danger"},Ng=(0,s.Uk)("Oops, something went wrong. Try again later or "),Ig=(0,s.Uk)("contact us"),Tg={key:1,class:"notification is-success"},qg={class:"field"},Hg={class:"control"},Lg=Sg((function(){return(0,s._)("label",{class:"label"},"Current Password:",-1)})),Vg={key:0,class:"help is-danger"},Og={class:"field"},Eg={class:"control"},Zg=Sg((function(){return(0,s._)("label",{class:"label"},"New Password:",-1)})),Fg={key:0,class:"help is-danger"},Yg={class:"field"},Bg={class:"control"},$g=Sg((function(){return(0,s._)("label",{class:"label"},"Confirm Password:",-1)})),jg={key:0,class:"help is-danger"},Kg=(0,s.Uk)(" Show password "),Wg={class:"field has-text-right"},Gg={class:"control"},Qg=["disabled"],Xg={__name:"UserSecurity",setup:function(e){var t=(0,jh.iH)([]),n=(0,jh.iH)(""),i=(0,jh.iH)(""),r=(0,jh.iH)(""),o=(0,jh.iH)(""),c=(0,jh.iH)(!1),l=(0,jh.iH)(!1),u=(0,jh.iH)(!1),d=(0,jh.iH)(""),p=(0,jh.iH)("");function m(){for(var e=document.getElementsByClassName("password"),t=0;t<e.length;t++)"password"===e[t].type?e[t].type="text":e[t].type="password"}function f(){return h.apply(this,arguments)}function h(){return h=(0,Y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==n.value&&i.value,i.value!==r.value?l.value=!0:l.value=!1,l.value){e.next=11;break}return e.prev=2,e.next=5,tt().put("/api/updatePassword/patient",{patientID:t.value._id,currentPassword:n.value,newPassword:i.value}).then((function(e){e.data?(n.value="",i.value="",r.value="",c.value=!0,o.value=""):(c.value=!1,u.value=!0)}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](2),o.value=e.t0,c.value=!1;case 11:case"end":return e.stop()}}),e,null,[[2,7]])}))),h.apply(this,arguments)}return(0,s.bv)((0,Y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,tt().get("/session/patient").then((function(e){return t.value=e.data}));case 2:return e.next=4,t.value.username;case 4:return d.value=e.sent,e.next=7,t.value.email;case 7:p.value=e.sent;case 8:case"end":return e.stop()}}),e)})))),function(e,t){var h=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(Jt),(0,s._)("section",Pg,[(0,s._)("div",Mg,[Rg,(0,jh.SU)(o)?((0,s.wg)(),(0,s.iD)("div",zg,[Ng,(0,s.Wm)(h,{to:"/contactus"},{default:(0,s.w5)((function(){return[Ig]})),_:1})])):(0,s.kq)("",!0),(0,jh.SU)(c)?((0,s.wg)(),(0,s.iD)("div",Tg,"Password changed successfully.")):(0,s.kq)("",!0),(0,s._)("div",qg,[(0,s._)("div",Hg,[Lg,(0,s.wy)((0,s._)("input",{class:"input password","onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,jh.dq)(n)?n.value=e:n=e}),type:"password",placeholder:"Current password"},null,512),[[a.nr,(0,jh.SU)(n)]]),(0,jh.SU)(u)?((0,s.wg)(),(0,s.iD)("p",Vg,"Current password is incorrect.")):(0,s.kq)("",!0)])]),(0,s._)("div",Og,[(0,s._)("div",Eg,[Zg,(0,s.wy)((0,s._)("input",{class:"input password","onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,jh.dq)(i)?i.value=e:i=e}),type:"password",placeholder:"New password"},null,512),[[a.nr,(0,jh.SU)(i)]])]),(0,jh.SU)(l)?((0,s.wg)(),(0,s.iD)("p",Fg,"Password do not match.")):(0,s.kq)("",!0)]),(0,s._)("div",Yg,[(0,s._)("div",Bg,[$g,(0,s.wy)((0,s._)("input",{class:"input password","onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,jh.dq)(r)?r.value=e:r=e}),type:"password",placeholder:"Confirm password"},null,512),[[a.nr,(0,jh.SU)(r)]])]),(0,jh.SU)(l)?((0,s.wg)(),(0,s.iD)("p",jg,"Password do not match.")):(0,s.kq)("",!0)]),(0,s._)("div",{class:"field"},[(0,s._)("div",{class:"control"},[(0,s._)("label",{class:"checkbox"},[(0,s._)("input",{type:"checkbox",onClick:m}),Kg])])]),(0,s._)("div",Wg,[(0,s._)("div",Gg,[(0,s._)("button",{class:"button is-danger",onClick:f,disabled:""===(0,jh.SU)(n)||""===(0,jh.SU)(i)||""===(0,jh.SU)(r)},"Change password",8,Qg)])]),""!=(0,jh.SU)(d)&&""!=(0,jh.SU)(p)?((0,s.wg)(),(0,s.j4)(zi["default"],{key:2,userType:"patient",username:(0,jh.SU)(d),email:(0,jh.SU)(p)},null,8,["username","email"])):(0,s.kq)("",!0)])])],64)}}};const Jg=(0,c.Z)(Xg,[["__scopeId","data-v-4e907d0b"]]);var ew=Jg,tw=(n(9714),{class:"columns"}),nw={class:"column is-2"},aw={class:"navbar is-hidden-desktop"},iw={class:"navbar-brand"},sw={class:"navbar-item"},rw=(0,s._)("span",{"aria-hidden":"true"},null,-1),ow=(0,s._)("span",{"aria-hidden":"true"},null,-1),cw=(0,s._)("span",{"aria-hidden":"true"},null,-1),lw=[rw,ow,cw],uw={class:"subtitle is-6 is-hidden-mobile"},dw=(0,s._)("p",{class:"menu-label"},"General",-1),pw={class:"menu-list"},mw=(0,s._)("p",{class:"menu-label"},"Accounts",-1),fw={class:"menu-list"},hw=(0,s._)("p",{class:"menu-label"},"Operations",-1),vw={class:"menu-list"},gw=(0,s._)("hr",null,null,-1),ww={class:"column",style:{overflow:"auto"}},_w={class:"section"},bw={key:0,class:"columns is-multiline"},kw=(0,s.uE)('<div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=624199be-220b-4ba6-8f32-84eb27e8aa13&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b58b-377f-452d-8971-c364718db3ff&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="340" height="240" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b7a6-a205-4291-8c3b-da5132939df6&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="320" height="240" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b45e-220b-4919-8476-84eb27f87521&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="320" height="240" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241a5a0-797a-4051-869a-5157a21251ca&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b38b-0445-478b-8bf9-19a45abf8264&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div>',6),yw=[kw],xw={key:1,class:"controls"},Dw=(0,s._)("label",{class:"label"},"Search:",-1),Cw=(0,s._)("br",null,null,-1),Uw={class:"table-container"},Aw=(0,s._)("div",{class:"modal-background"},null,-1),Sw={class:"modal-content"},Pw={class:"card"},Mw={class:"card-content"},Rw={class:"content"},zw={class:"dropdown-trigger"},Nw={class:"dropdown-menu block"},Iw={class:"dropdown-content"},Tw=(0,s._)("div",{class:"block"},null,-1),qw={class:"dropdown-trigger"},Hw={class:"dropdown-menu block"},Lw={class:"dropdown-content"},Vw={class:"field has-text-centered"},Ow=(0,s._)("label",{class:"label"},"New Email",-1),Ew={class:"control"},Zw={key:0,class:"table is-striped is-fullwidth is-narrow is-bordered"},Fw=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"has-text-black-ter"},"Controls"),(0,s._)("th",{class:"has-text-black-ter"},"Status"),(0,s._)("th",{class:"has-text-black-ter"},"No."),(0,s._)("th",{class:"has-text-black-ter"},"Pricing"),(0,s._)("th",{class:"has-text-black-ter"},"Hospital"),(0,s._)("th",{class:"has-text-black-ter"},"Email"),(0,s._)("th",{class:"has-text-black-ter"},"Province"),(0,s._)("th",{class:"has-text-black-ter"},"City"),(0,s._)("th",{class:"has-text-black-ter"},"Barangay or Street"),(0,s._)("th",{class:"has-text-black-ter"},"Latitude"),(0,s._)("th",{class:"has-text-black-ter"},"longitude"),(0,s._)("th",{class:"has-text-black-ter"},"Specializations")])],-1),Yw=["onClick"],Bw=["onClick"],$w={key:0,class:"has-text-success"},jw={key:1,class:"has-text-danger"},Kw={class:"has-text-black-ter"},Ww={class:"has-text-black-ter"},Gw={class:"has-text-black-ter"},Qw={class:"has-text-black-ter"},Xw={class:"has-text-black-ter"},Jw={class:"has-text-black-ter"},e_={class:"has-text-black-ter"},t_={class:"has-text-black-ter"},n_={class:"has-text-black-ter"},a_={key:1,class:"table is-striped is-fullwidth is-narrow is-bordered"},i_=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"has-text-black-ter"},"Controls"),(0,s._)("th",{class:"has-text-black-ter"},"No."),(0,s._)("th",{class:"has-text-black-ter"},"Alias"),(0,s._)("th",{class:"has-text-black-ter"},"Full Name"),(0,s._)("th",{class:"has-text-black-ter"},"Specialist"),(0,s._)("th",{class:"has-text-black-ter"},"Gmail"),(0,s._)("th",{class:"has-text-black-ter"},"Schedules")])],-1),s_=["onClick"],r_=["onClick"],o_={class:"has-text-black-ter"},c_={class:"has-text-black-ter"},l_={class:"has-text-black-ter"},u_={class:"has-text-black-ter"},d_={class:"has-text-black-ter"},p_={key:2,class:"table is-striped is-fullwidth is-narrow is-bordered"},m_=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"has-text-black-ter"},"Controls"),(0,s._)("th",{class:"has-text-black-ter"},"No."),(0,s._)("th",{class:"has-text-black-ter"},"First Name"),(0,s._)("th",{class:"has-text-black-ter"},"Last Name"),(0,s._)("th",{class:"has-text-black-ter"},"Age"),(0,s._)("th",{class:"has-text-black-ter"},"Sex"),(0,s._)("th",{class:"has-text-black-ter"},"Contact No."),(0,s._)("th",{class:"has-text-black-ter"},"Gmail"),(0,s._)("th",{class:"has-text-black-ter"},"Province"),(0,s._)("th",{class:"has-text-black-ter"},"City")])],-1),f_=["onClick"],h_=["onClick"],v_={class:"has-text-black-ter"},g_={class:"has-text-black-ter"},w_={class:"has-text-black-ter"},__={class:"has-text-black-ter"},b_={class:"has-text-black-ter"},k_={class:"has-text-black-ter"},y_={class:"has-text-black-ter"},x_={class:"has-text-black-ter"},D_={class:"has-text-black-ter"},C_={key:3,class:"table is-striped is-fullwidth is-narrow is-bordered"},U_=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"has-text-black-ter"},"Controls"),(0,s._)("th",{class:"has-text-black-ter"},"Status"),(0,s._)("th",{class:"has-text-black-ter"},"No."),(0,s._)("th",{class:"has-text-black-ter"},"Date Issued"),(0,s._)("th",{class:"has-text-black-ter"},"ID"),(0,s._)("th",{class:"has-text-black-ter"},"Type"),(0,s._)("th",{class:"has-text-black-ter"},"Email"),(0,s._)("th",{class:"has-text-black-ter"},"Subject"),(0,s._)("th",{class:"has-text-black-ter"},"Problem")])],-1),A_=["onClick"],S_=["onClick"],P_=["onClick"],M_={key:2,class:"has-text-success"},R_={key:3,class:"has-text-danger"},z_={class:"has-text-black-ter"},N_={class:"has-text-black-ter"},I_={class:"has-text-black-ter"},T_={class:"has-text-black-ter"},q_={class:"has-text-black-ter"},H_={class:"has-text-black-ter"},L_={class:"has-text-black-ter"},V_={key:4},O_=["onClick"],E_={class:"subtitle has-text-black"},Z_={class:"table is-striped is-fullwidth is-narrow is-bordered"},F_=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"has-text-black-ter"},"Controls"),(0,s._)("th",{class:"has-text-black-ter"},"No."),(0,s._)("th",{class:"has-text-black-ter"},"City/Municipality"),(0,s._)("th",{class:"has-text-black-ter"},"Postal Code"),(0,s._)("th",{class:"has-text-black-ter"},"Latitude"),(0,s._)("th",{class:"has-text-black-ter"},"Longitude")])],-1),Y_=["onClick"],B_={class:"has-text-black-ter"},$_={class:"has-text-black-ter"},j_={class:"has-text-black-ter"},K_={class:"has-text-black-ter"},W_={class:"has-text-black-ter"},G_={key:2,class:"section",style:{width:"50%"}},Q_={class:"field"},X_=(0,s._)("h1",{class:"title"},"Create a new Province",-1),J_={class:"control"},eb=(0,s._)("label",{class:"label"},"Province",-1),tb=["disabled"],nb={key:0,class:"has-text-success"},ab={class:"field"},ib=(0,s._)("h1",{class:"title"},"Push City/Municipality into a Province",-1),sb={class:"control"},rb={class:"dropdown-trigger"},ob={key:0},cb={key:1},lb={class:"dropdown-menu",id:"dropdown-menu",role:"menu"},ub=["onClick"],db=(0,s._)("br",null,null,-1),pb=(0,s._)("br",null,null,-1),mb=(0,s._)("label",{class:"label"},"City/Municipality",-1),fb=(0,s._)("span",null,"e.g Bais City or Bindoy Municipality",-1),hb=(0,s._)("label",{class:"label"},"Postal Code",-1),vb=(0,s._)("label",{class:"label"},"Latitude N",-1),gb=(0,s._)("label",{class:"label"},"longitude E",-1),wb=["disabled"],_b={key:0,class:"has-text-success"};function bb(e,t,n,i,r,o){return(0,s.wg)(),(0,s.iD)("div",tw,[(0,s._)("div",nw,[(0,s._)("nav",aw,[(0,s._)("div",iw,[(0,s._)("p",sw,"Hello: "+(0,v.zw)(r.superUser),1),(0,s._)("a",{role:"button",class:(0,v.C_)(["navbar-burger",{"is-active":!r.isActiveMenu}]),onClick:t[0]||(t[0]=function(e){return r.isActiveMenu=!r.isActiveMenu})},lw,2)])]),(0,s._)("aside",{class:(0,v.C_)(["menu box",{"is-hidden-mobile":r.isActiveMenu,fixedMenu:r.isActiveMenu}]),style:{"background-color":"white",padding:"20px",height:"100vh"}},[(0,s._)("p",uw,"Hello "+(0,v.zw)(r.superUser),1),dw,(0,s._)("ul",pw,[(0,s._)("li",null,[(0,s._)("a",{onClick:t[1]||(t[1]=function(){return o.dashboard&&o.dashboard.apply(o,arguments)})},"Dashboard")])]),mw,(0,s._)("ul",fw,[(0,s._)("li",null,[(0,s._)("a",{class:(0,v.C_)({"is-active":r.isActiveManager}),onClick:t[2]||(t[2]=function(){return o.manager&&o.manager.apply(o,arguments)})},"Manager accounts",2)]),(0,s._)("li",null,[(0,s._)("a",{class:(0,v.C_)({"is-active":r.isActiveDoctor}),onClick:t[3]||(t[3]=function(){return o.doctor&&o.doctor.apply(o,arguments)})},"Doctor accounts",2)]),(0,s._)("li",null,[(0,s._)("a",{class:(0,v.C_)({"is-active":r.isActivePatient}),onClick:t[4]||(t[4]=function(){return o.patient&&o.patient.apply(o,arguments)})},"Patient accounts",2)])]),hw,(0,s._)("ul",vw,[(0,s._)("li",null,[(0,s._)("a",{class:(0,v.C_)({"is-active":r.isActiveGeolocation}),onClick:t[5]||(t[5]=function(){return o.geolocation&&o.geolocation.apply(o,arguments)})},"Geolocation",2)]),(0,s._)("li",null,[(0,s._)("a",{class:(0,v.C_)({"is-active":r.isActiveTickets}),onClick:t[6]||(t[6]=function(){return o.tickets&&o.tickets.apply(o,arguments)})},"Tickets",2)])]),gw,(0,s._)("button",{class:"button is-danger",onClick:t[7]||(t[7]=function(){return o.logout&&o.logout.apply(o,arguments)})},"Logout")],2)]),(0,s._)("div",ww,[(0,s._)("section",_w,[r.isActiveDashboard?((0,s.wg)(),(0,s.iD)("div",bw,yw)):(0,s.kq)("",!0),r.isActiveManager||r.isActiveDoctor||r.isActivePatient||r.isActiveGeolocation||r.isActiveTickets?((0,s.wg)(),(0,s.iD)("div",xw,[Dw,(0,s.wy)((0,s._)("input",{class:"input",type:"text",placeholder:"Search...","onUpdate:modelValue":t[8]||(t[8]=function(e){return r.searchBar=e})},null,512),[[a.nr,r.searchBar]])])):(0,s.kq)("",!0),Cw,(0,s._)("div",Uw,[(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.isActiveModal}])},[Aw,(0,s._)("div",Sw,[(0,s._)("div",Pw,[(0,s._)("div",Mw,[(0,s._)("div",Rw,["manager"==r.type?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,v.C_)(["dropdown",{"is-active":r.isActiveDropdownEditStatus}])},[(0,s._)("div",zw,[(0,s._)("button",{class:"button is-danger",onClick:t[9]||(t[9]=function(){return o.dropdown&&o.dropdown.apply(o,arguments)})},"Edit Status")]),(0,s._)("div",Nw,[(0,s._)("div",Iw,[(0,s._)("a",{class:(0,v.C_)(["dropdown-item",{"is-active":r.isActiveDropdownItemOne}]),onClick:t[10]||(t[10]=function(){return o.statusActive&&o.statusActive.apply(o,arguments)})},"Active",2),(0,s._)("a",{class:(0,v.C_)(["dropdown-item",{"is-active":r.isActiveDropdownItemTwo}]),onClick:t[11]||(t[11]=function(){return o.statusInactive&&o.statusInactive.apply(o,arguments)})},"Inactive",2)])])],2)):(0,s.kq)("",!0),Tw,"manager"==r.type?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,v.C_)(["dropdown",{"is-active":r.isActiveDropdownEditPricing}])},[(0,s._)("div",qw,[(0,s._)("button",{class:"button is-link",onClick:t[12]||(t[12]=function(){return o.dropdownPricing&&o.dropdownPricing.apply(o,arguments)})},"Edit Pricing")]),(0,s._)("div",Hw,[(0,s._)("div",Lw,[(0,s._)("a",{class:(0,v.C_)(["dropdown-item",{"is-active":r.isActiveDropdownPricingItemOne}]),onClick:t[13]||(t[13]=function(){return o.pricingStandard&&o.pricingStandard.apply(o,arguments)})},"Standard",2),(0,s._)("a",{class:(0,v.C_)(["dropdown-item",{"is-active":r.isActiveDropdownPricingItemTwo}]),onClick:t[14]||(t[14]=function(){return o.pricingPremium&&o.pricingPremium.apply(o,arguments)})},"Premium",2)])])],2)):(0,s.kq)("",!0),(0,s._)("form",Vw,[Ow,(0,s._)("div",Ew,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[15]||(t[15]=function(e){return r.email=e}),placeholder:"Gmail, Yahoo mail...",required:""},null,512),[[a.nr,r.email]])]),(0,s._)("button",{class:"button is-primary",type:"button",onClick:t[16]||(t[16]=function(){return o.updateData&&o.updateData.apply(o,arguments)})},"Submit")])])])]),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[17]||(t[17]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)})})])],2),r.isActiveManager?((0,s.wg)(),(0,s.iD)("table",Zw,[Fw,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.managerAccountsIndexed,(function(e,t){return(0,s.wg)(),(0,s.iD)("tbody",{key:e._id},[(0,s._)("tr",null,[(0,s._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:function(t){return o.managerEdit(e._id,e.email)}},"Edit",8,Yw),(0,s._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:function(t){return o.managerDelete(e._id)}},"Delete",8,Bw),"Active"==e.status?((0,s.wg)(),(0,s.iD)("td",$w,(0,v.zw)(e.status),1)):(0,s.kq)("",!0),"Inactive"==e.status?((0,s.wg)(),(0,s.iD)("td",jw,(0,v.zw)(e.status),1)):(0,s.kq)("",!0),(0,s._)("td",Kw,(0,v.zw)(t+1),1),(0,s._)("td",Ww,(0,v.zw)(e.pricing),1),(0,s._)("td",Gw,(0,v.zw)(e.hospital),1),(0,s._)("td",Qw,(0,v.zw)(e.email),1),(0,s._)("td",Xw,(0,v.zw)(e.province),1),(0,s._)("td",Jw,(0,v.zw)(e.city),1),(0,s._)("td",e_,(0,v.zw)(e.barangayORStreet),1),(0,s._)("td",t_,(0,v.zw)(e.location.coordinates[1]),1),(0,s._)("td",n_,(0,v.zw)(e.location.coordinates[0]),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.specializations,(function(e){return(0,s.wg)(),(0,s.iD)("td",{class:"has-text-black-ter",key:e.specialist},(0,v.zw)(e.specialist),1)})),128))])])})),128))])):(0,s.kq)("",!0),r.isActiveDoctor?((0,s.wg)(),(0,s.iD)("table",a_,[i_,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.doctorAccountsIndexed,(function(e,t){return(0,s.wg)(),(0,s.iD)("tbody",{key:e._id},[(0,s._)("tr",null,[(0,s._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:function(t){return o.doctorRecoverEmail(e._id,e.gmail)}},"Recover",8,s_),(0,s._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:function(t){return o.doctorDelete(e._id)}},"Delete",8,r_),(0,s._)("td",o_,(0,v.zw)(t+1),1),(0,s._)("td",c_,(0,v.zw)(e.alias),1),(0,s._)("td",l_,(0,v.zw)(e.name),1),(0,s._)("td",u_,(0,v.zw)(e.specialist.toString()),1),(0,s._)("td",d_,(0,v.zw)(e.gmail),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.schedule,(function(e){return(0,s.wg)(),(0,s.iD)("td",{class:"has-text-black-ter",key:e.id},(0,v.zw)(new Date(e.date).toLocaleDateString()),1)})),128))])])})),128))])):(0,s.kq)("",!0),r.isActivePatient?((0,s.wg)(),(0,s.iD)("table",p_,[m_,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.patientAccountsIndexed,(function(e,t){return(0,s.wg)(),(0,s.iD)("tbody",{key:e._id},[(0,s._)("tr",null,[(0,s._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:function(t){return o.patientRecoverEmail(e._id,e.gmail)}},"Recover",8,f_),(0,s._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:function(t){return o.patientDelete(e._id)}},"Delete",8,h_),(0,s._)("td",v_,(0,v.zw)(t+1),1),(0,s._)("td",g_,(0,v.zw)(e.name[0]),1),(0,s._)("td",w_,(0,v.zw)(e.name[1]),1),(0,s._)("td",__,(0,v.zw)(e.age),1),(0,s._)("td",b_,(0,v.zw)(e.sex),1),(0,s._)("td",k_,(0,v.zw)(e.contactNum),1),(0,s._)("td",y_,(0,v.zw)(e.gmail),1),(0,s._)("td",x_,(0,v.zw)(e.province),1),(0,s._)("td",D_,(0,v.zw)(e.city),1)])])})),128))])):(0,s.kq)("",!0),r.isActiveTickets?((0,s.wg)(),(0,s.iD)("table",C_,[U_,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.ticketsIndexed,(function(e,t){return(0,s.wg)(),(0,s.iD)("tbody",{key:e.id},[(0,s._)("tr",null,[e.active?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"dropdown-item button has-text-info",type:"button",onClick:function(t){return o.closeTicket(e.id)}},"Close Ticket",8,A_)):(0,s.kq)("",!0),e.active?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"dropdown-item button has-text-info",type:"button",onClick:function(t){return o.reopenTicket(e.id)}},"Reopen Ticket",8,S_)),(0,s._)("button",{class:"dropdown-item button has-text-danger",type:"button",onClick:function(t){return o.deleteTicket(e.id,e.type,e.email,e.title,e.message,e.active)}},"Delete ticket",8,P_),e.active?((0,s.wg)(),(0,s.iD)("td",M_,"Active")):(0,s.kq)("",!0),e.active?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("td",R_,"Inactive")),(0,s._)("td",z_,(0,v.zw)(t+1),1),(0,s._)("td",N_,(0,v.zw)(new Date(e.date).toLocaleDateString()),1),(0,s._)("td",I_,(0,v.zw)(e.id),1),(0,s._)("td",T_,(0,v.zw)(e.type),1),(0,s._)("td",q_,(0,v.zw)(e.email),1),(0,s._)("td",H_,(0,v.zw)(e.title),1),(0,s._)("td",L_,(0,v.zw)(e.message),1)])])})),128))])):(0,s.kq)("",!0),r.isActiveGeolocation?((0,s.wg)(),(0,s.iD)("div",V_,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.provinceAndCitiesIndexed,(function(e,t){return(0,s.wg)(),(0,s.iD)("div",{class:"box",key:t},[(0,s._)("a",{class:"has-text-danger",onClick:function(t){return o.deleteProvince(e[0]._id)}},"Delete Province",8,O_),(0,s._)("p",E_,"Province: "+(0,v.zw)(t),1),(0,s._)("table",Z_,[F_,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e[0].citiesOrMunicipalities.sort((function(e,t){return e.name>t.name?1:-1})),(function(t,n){return(0,s.wg)(),(0,s.iD)("tbody",{key:n},[(0,s._)("tr",null,[(0,s._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:function(n){return o.cityDelete(e[0]._id,t.name,t.location.coordinates[1],t.location.coordinates[0],t.postalCode)}},"Delete",8,Y_),(0,s._)("td",B_,(0,v.zw)(n+1),1),(0,s._)("td",$_,(0,v.zw)(t.name),1),(0,s._)("td",j_,(0,v.zw)(t.postalCode),1),(0,s._)("td",K_,(0,v.zw)(t.location.coordinates[1]),1),(0,s._)("td",W_,(0,v.zw)(t.location.coordinates[0]),1)])])})),128))])])})),128))])):(0,s.kq)("",!0)]),r.isActiveGeolocation?((0,s.wg)(),(0,s.iD)("section",G_,[(0,s._)("div",Q_,[X_,(0,s._)("div",J_,[eb,(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[18]||(t[18]=function(e){return r.province=e}),placeholder:"Province"},null,512),[[a.nr,r.province]]),(0,s._)("button",{class:"button",type:"button",onClick:t[19]||(t[19]=function(){return o.provincePost&&o.provincePost.apply(o,arguments)}),disabled:""==r.province},"Confirm",8,tb),r.provincePostSuccess?((0,s.wg)(),(0,s.iD)("div",nb,"Province has been created.")):(0,s.kq)("",!0)])]),(0,s._)("div",ab,[ib,(0,s._)("div",sb,[(0,s._)("div",{class:(0,v.C_)(["dropdown",{"is-active":r.isActiveDropdownProvince}])},[(0,s._)("div",rb,[(0,s._)("button",{class:"button",onClick:t[20]||(t[20]=function(e){return o.provinceDropdownActive()})},[""==r.selectedProvince?((0,s.wg)(),(0,s.iD)("span",ob,"Select a Province")):((0,s.wg)(),(0,s.iD)("span",cb,(0,v.zw)(r.selectedProvince),1))])]),(0,s._)("div",lb,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.provinceList,(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"dropdown-content",key:e._id},[(0,s._)("a",{onClick:function(t){return o.chooseProvince(e._id,e.province)},class:"dropdown-item"},(0,v.zw)(e.province),9,ub)])})),128))])],2),db,pb,mb,(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[21]||(t[21]=function(e){return r.cityOrMunicipality=e}),placeholder:"City or Municipality"},null,512),[[a.nr,r.cityOrMunicipality]]),fb,hb,(0,s.wy)((0,s._)("input",{class:"input",type:"number","onUpdate:modelValue":t[22]||(t[22]=function(e){return r.postalCode=e}),placeholder:"Postal Code"},null,512),[[a.nr,r.postalCode]]),vb,(0,s.wy)((0,s._)("input",{class:"input",type:"number","onUpdate:modelValue":t[23]||(t[23]=function(e){return r.latitude=e}),placeholder:"Latitude"},null,512),[[a.nr,r.latitude]]),gb,(0,s.wy)((0,s._)("input",{class:"input",type:"number","onUpdate:modelValue":t[24]||(t[24]=function(e){return r.longitude=e}),placeholder:"longitude"},null,512),[[a.nr,r.longitude]]),(0,s._)("button",{class:"button",type:"button",onClick:t[25]||(t[25]=function(){return o.cityOrMunicipalityPost&&o.cityOrMunicipalityPost.apply(o,arguments)}),disabled:""==r.selectedProvince||""==r.cityOrMunicipality||""==r.latitude||""==r.longitude},"Confirm",8,wb),r.cityOrMunicipalityPostSuccess?((0,s.wg)(),(0,s.iD)("div",_b,"City or Municipality added")):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0)])])])}var kb={name:"SuperUser",computed:{managerAccountsIndexed:function(){var e=this;return this.managerAccounts.filter((function(t){return t.hospital.toLowerCase().includes(e.searchBar.toLowerCase())}))},doctorAccountsIndexed:function(){var e=this;return this.doctorAccounts.filter((function(t){return t.name.toLowerCase().includes(e.searchBar.toLowerCase())||t.specialist.find((function(t){return t.toLowerCase().includes(e.searchBar.toLowerCase())}))}))},patientAccountsIndexed:function(){var e=this;return this.patientAccounts.filter((function(t){return t.name[0].toLowerCase().includes(e.searchBar.toLowerCase())||t.name[1].toLowerCase().includes(e.searchBar.toLowerCase())}))},ticketsIndexed:function(){var e=this;return this.ticketList.filter((function(t){return t.id.toLowerCase().includes(e.searchBar.toLowerCase())||t.type.toLowerCase().includes(e.searchBar.toLowerCase())||t.email.toLowerCase().includes(e.searchBar.toLowerCase())}))},provinceAndCitiesIndexed:function(){var e=this;return Cs().groupBy(this.provinceList.filter((function(t){return t.citiesOrMunicipalities.find((function(t){return t.name.toLowerCase().includes(e.searchBar.toLowerCase())}))})),"province")}},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().get("/session/superuser").then((function(t){return e.superUser=t.data.superuser}));case 2:return t.next=4,tt().get("/api/geolocation").then((function(t){return e.provinceList=t.data}));case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{searchBar:"",superUser:"",managerAccounts:[],doctorAccounts:[],patientAccounts:[],ticketList:[],isActiveMenu:!0,isActiveDashboard:!0,isActiveManager:!1,isActiveDoctor:!1,isActivePatient:!1,isActiveGeolocation:!1,isActiveTickets:!1,isActiveModal:!1,isActiveDropdownEditStatus:!1,isActiveDropdownEditPricing:!1,isActiveDropdownItemOne:!1,isActiveDropdownItemTwo:!1,isActiveDropdownPricingItemOne:!1,isActiveDropdownPricingItemTwo:!1,isActiveDropdownProvince:!1,id:"",email:"",status:"",type:"",province:"",cityOrMunicipality:"",latitude:"",longitude:"",postalCode:"",provinceList:[],selectedProvince:"",selectedProvinceID:"",provincePostSuccess:!1,cityOrMunicipalityPostSuccess:!1}},methods:{dashboard:function(){this.isActiveMenu=!0,this.isActiveDashboard=!0,this.isActiveManager=!1,this.isActiveDoctor=!1,this.isActivePatient=!1,this.isActiveGeolocation=!1,this.isActiveTickets=!1},manager:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isActiveMenu=!0,e.isActiveDashboard=!1,e.isActiveManager=!0,e.isActiveDoctor=!1,e.isActivePatient=!1,e.isActiveGeolocation=!1,e.isActiveTickets=!1,t.next=9,tt().get("/api/manager").then((function(t){return e.managerAccounts=t.data}));case 9:case"end":return t.stop()}}),t)})))()},doctor:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isActiveMenu=!0,e.isActiveDashboard=!1,e.isActiveManager=!1,e.isActiveDoctor=!0,e.isActivePatient=!1,e.isActiveGeolocation=!1,e.isActiveTickets=!1,t.next=9,tt().get("/api/doctor").then((function(t){return e.doctorAccounts=t.data}));case 9:case"end":return t.stop()}}),t)})))()},patient:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isActiveMenu=!0,e.isActiveDashboard=!1,e.isActiveManager=!1,e.isActiveDoctor=!1,e.isActivePatient=!0,e.isActiveGeolocation=!1,e.isActiveTickets=!1,t.next=9,tt().get("/api/user").then((function(t){return e.patientAccounts=t.data}));case 9:case"end":return t.stop()}}),t)})))()},tickets:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isActiveMenu=!0,e.isActiveDashboard=!1,e.isActiveManager=!1,e.isActiveDoctor=!1,e.isActivePatient=!1,e.isActiveGeolocation=!1,e.isActiveTickets=!0,t.next=9,tt().get("/api/superuser").then((function(t){return e.ticketList=t.data[0].tickets}));case 9:case"end":return t.stop()}}),t)})))()},geolocation:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isActiveMenu=!0,e.isActiveDashboard=!1,e.isActiveManager=!1,e.isActiveDoctor=!1,e.isActivePatient=!1,e.isActiveGeolocation=!0,e.isActiveTickets=!1,t.next=9,tt().get("/api/geolocation").then((function(t){return e.provinceList=t.data}));case 9:case"end":return t.stop()}}),t)})))()},managerEdit:function(e,t){var n=this;return(0,Y.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n.isActiveModal=!n.isActiveModal,n.id=e,n.email=t,n.type="manager";case 4:case"end":return a.stop()}}),a)})))()},doctorRecoverEmail:function(e,t){var n=this;return(0,Y.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n.isActiveModal=!n.isActiveModal,n.id=e,n.email=t,n.type="doctor";case 4:case"end":return a.stop()}}),a)})))()},patientRecoverEmail:function(e,t){var n=this;return(0,Y.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n.isActiveModal=!n.isActiveModal,n.id=e,n.email=t,n.type="patient";case 4:case"end":return a.stop()}}),a)})))()},updateData:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("manager"!=e.type){t.next=8;break}return t.next=3,tt().put("/api/manager/".concat(e.id),{status:e.status,pricing:e.pricing,email:e.email});case 3:return t.next=5,tt().get("/api/manager").then((function(t){return e.managerAccounts=t.data}));case 5:e.isActiveModal=!e.isActiveModal,t.next=22;break;case 8:if("doctor"!=e.type){t.next=16;break}return t.next=11,tt().put("/api/doctor/".concat(e.id),{gmail:e.email});case 11:return t.next=13,tt().get("/api/doctor").then((function(t){return e.doctorAccounts=t.data}));case 13:e.isActiveModal=!e.isActiveModal,t.next=22;break;case 16:if("patient"!=e.type){t.next=22;break}return t.next=19,tt().put("/api/user/".concat(e.id),{gmail:e.email});case 19:return t.next=21,tt().get("/api/user").then((function(t){return e.patientAccounts=t.data}));case 21:e.isActiveModal=!e.isActiveModal;case 22:case"end":return t.stop()}}),t)})))()},managerDelete:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,tt()["delete"]("/api/manager/".concat(e));case 2:return n.next=4,tt().get("/api/manager").then((function(e){return t.managerAccounts=e.data}));case 4:case"end":return n.stop()}}),n)})))()},doctorDelete:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,tt()["delete"]("/api/doctor/".concat(e));case 2:return n.next=4,tt().get("/api/doctor").then((function(e){return t.doctorAccounts=e.data}));case 4:case"end":return n.stop()}}),n)})))()},patientDelete:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,tt()["delete"]("/api/user/".concat(e));case 2:return n.next=4,tt().get("/api/user").then((function(e){return t.patientAccounts=e.data}));case 4:case"end":return n.stop()}}),n)})))()},cityDelete:function(e,t,n,a,i){var s=this;return(0,Y.Z)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,tt().post("/api/provinceCityPull",{provinceID:e,cityOrMunicipality:t,latitude:n,longitude:a,postalCode:i});case 2:return r.next=4,tt().get("/api/geolocation").then((function(e){return s.provinceList=e.data}));case 4:case"end":return r.stop()}}),r)})))()},deleteProvince:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,tt()["delete"]("/api/geolocation/".concat(e));case 2:return n.next=4,tt().get("/api/geolocation").then((function(e){return t.provinceList=e.data}));case 4:case"end":return n.stop()}}),n)})))()},closeModal:function(){this.isActiveModal=!1},dropdown:function(){this.isActiveDropdownEditStatus=!this.isActiveDropdownEditStatus},dropdownPricing:function(){this.isActiveDropdownEditPricing=!this.isActiveDropdownEditPricing},statusActive:function(){this.status="Active",this.isActiveDropdownItemOne=!0,this.isActiveDropdownItemTwo=!1},statusInactive:function(){this.status="Inactive",this.isActiveDropdownItemOne=!1,this.isActiveDropdownItemTwo=!0},pricingStandard:function(){this.pricing="Standard",this.isActiveDropdownPricingItemOne=!0,this.isActiveDropdownPricingItemTwo=!1},pricingPremium:function(){this.pricing="Premium",this.isActiveDropdownPricingItemOne=!1,this.isActiveDropdownPricingItemTwo=!0},provincePost:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().post("/api/geolocation",{province:e.province});case 2:return t.next=4,tt().get("/api/geolocation").then((function(t){return e.provinceList=t.data}));case 4:e.provincePostSuccess=!0;case 5:case"end":return t.stop()}}),t)})))()},cityOrMunicipalityPost:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().post("/api/provinceUpdate",{provinceID:e.selectedProvinceID,cityOrMunicipality:e.cityOrMunicipality,latitude:e.latitude,longitude:e.longitude,postalCode:e.postalCode});case 2:return e.cityOrMunicipalityPostSuccess=!0,e.selectedProvince="",e.selectedProvinceID="",e.cityOrMunicipality="",e.latitude="",e.longitude="",t.next=10,tt().get("/api/geolocation").then((function(t){return e.provinceList=t.data}));case 10:case"end":return t.stop()}}),t)})))()},provinceDropdownActive:function(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},chooseProvince:function(e,t){this.selectedProvinceID=e,this.selectedProvince=t,this.isActiveDropdownProvince=!1},closeTicket:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,tt().post("/api/superuser/updateTicket",{ticketID:e,ticketActive:!1});case 2:return n.next=4,tt().get("/api/superuser").then((function(e){return t.ticketList=e.data[0].tickets}));case 4:case"end":return n.stop()}}),n)})))()},reopenTicket:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,tt().post("/api/superuser/updateTicket",{ticketID:e,ticketActive:!0});case 2:return n.next=4,tt().get("/api/superuser").then((function(e){return t.ticketList=e.data[0].tickets}));case 4:case"end":return n.stop()}}),n)})))()},deleteTicket:function(e,t,n,a,i,s){var r=this;return(0,Y.Z)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,tt().post("/api/superuser/deleteTicket",{ticketID:e,email:n,ticketType:t,ticketTitle:a,ticketMessage:i,ticketActive:s});case 2:return o.next=4,tt().get("/api/superuser").then((function(e){return r.ticketList=e.data[0].tickets}));case 4:case"end":return o.stop()}}),o)})))()},logout:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt()["delete"]("/session/superuser");case 2:return t.next=4,e.$store.commit("superUserAuth",!1);case 4:return t.next=6,e.$router.push("/user/superuser/login");case 6:case"end":return t.stop()}}),t)})))()}}};const yb=(0,c.Z)(kb,[["render",bb]]);var xb=yb,Db=function(e){return(0,s.dD)("data-v-82de1442"),e=e(),(0,s.Cn)(),e},Cb={class:"container",style:{width:"33%","margin-top":"15%"}},Ub=Db((function(){return(0,s._)("h1",{class:"title has-text-centered"},"Welcome Superuser/Developer",-1)})),Ab={class:"field"},Sb=Db((function(){return(0,s._)("label",{class:"label"},"Email",-1)})),Pb={class:"control"},Mb=Db((function(){return(0,s._)("br",null,null,-1)})),Rb={class:"has-text-centered"},zb={key:0,class:"subtitle has-text-danger"},Nb=Db((function(){return(0,s._)("div",{class:"modal-background"},null,-1)})),Ib={class:"modal-content"},Tb={class:"field",style:{"background-color":"whitesmoke",padding:"12%"}},qb=Db((function(){return(0,s._)("label",{class:"label"},"Please check your email for the login code",-1)})),Hb={class:"control"},Lb=Db((function(){return(0,s._)("br",null,null,-1)})),Vb={class:"has-text-centered"},Ob={key:0,class:"subtitle has-text-danger"};function Eb(e,t,n,i,r,o){return(0,s.wg)(),(0,s.iD)("div",Cb,[Ub,(0,s._)("div",Ab,[Sb,(0,s._)("div",Pb,[(0,s.wy)((0,s._)("input",{class:"input is-rounded","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.superUserEmail=e}),type:"text",placeholder:"email"},null,512),[[a.nr,r.superUserEmail]])]),Mb,(0,s._)("div",Rb,[(0,s._)("button",{class:"button is-success",onClick:t[1]||(t[1]=function(){return o.authenticateMail&&o.authenticateMail.apply(o,arguments)})},"Authenticate")]),"invalid developer"==r.statusMessage?((0,s.wg)(),(0,s.iD)("p",zb,"Sorry, email not identified as superuser/developer. Please try again.")):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.modalActive}])},[Nb,(0,s._)("div",Ib,[(0,s._)("div",Tb,[qb,(0,s._)("div",Hb,[(0,s.wy)((0,s._)("input",{class:"input","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.superUserCode=e}),type:"text",placeholder:"code"},null,512),[[a.nr,r.superUserCode]])]),Lb,(0,s._)("div",Vb,[(0,s._)("button",{class:"button is-primary",onClick:t[3]||(t[3]=function(){return o.authenticateCode&&o.authenticateCode.apply(o,arguments)})},"Confirm")]),"invalid code"==r.statusMessage?((0,s.wg)(),(0,s.iD)("p",Ob,"Invalid login code, please check your email thoroughly.")):(0,s.kq)("",!0)])]),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[4]||(t[4]=function(){return o.modalClose&&o.modalClose.apply(o,arguments)})})],2)])}var Zb={name:"SuperUserLogin",mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().get("/session/superuser").then((function(t){return e.superUserConfirmEmail=t.data}));case 2:if(!e.superUserConfirmEmail.superuser){t.next=6;break}return e.$store.commit("superUserAuth",!0),t.next=6,e.$router.push("/user/superuser");case 6:case"end":return t.stop()}}),t)})))()},data:function(){return{modalActive:!1,statusMessage:"",superUserEmail:"",superUserConfirmEmail:"",superUserCode:"",superUserConfirmCode:"",codes:[],gmails:[]}},methods:{authenticateMail:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().post("/api/code/superuser",{email:e.superUserEmail}).then((function(t){return e.superUserConfirmEmail=t.data}));case 2:return t.next=4,e.superUserConfirmEmail;case 4:if(!t.sent){t.next=18;break}if(n=Math.floor(1e3+9e3*Math.random()),0!==e.codes.length){t.next=14;break}return e.modalActive=!0,t.next=10,tt().post("/api/code",{email:e.superUserEmail,code:n});case 10:return t.next=12,tt().post("/api/sendMail",{email:e.superUserEmail,code:n});case 12:t.next=16;break;case 14:e.statusMessage="invalid developer",e.superUserEmail="";case 16:t.next=20;break;case 18:e.statusMessage="invalid developer",e.superUserEmail="";case 20:case"end":return t.stop()}}),t)})))()},authenticateCode:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().post("/api/code/verify",{code:e.superUserCode}).then((function(t){return e.superUserConfirmCode=t.data}));case 2:return t.next=4,e.superUserConfirmCode;case 4:if(!t.sent){t.next=13;break}return t.next=7,tt().post("/session/superuser",{superuser:e.superUserEmail});case 7:return t.next=9,e.$store.commit("superUserAuth",!0);case 9:return t.next=11,e.$router.push("/user/superuser");case 11:t.next=15;break;case 13:e.statusMessage="invalid code",e.superUserCode="";case 15:case"end":return t.stop()}}),t)})))()},modalClose:function(){this.modalActive=!1}}};const Fb=(0,c.Z)(Zb,[["render",Eb],["__scopeId","data-v-82de1442"]]);var Yb=Fb,Bb=(0,s._)("div",{class:"modal-background"},null,-1),$b=(0,s._)("div",{class:"modal-content loader"},null,-1),jb=[Bb,$b],Kb={class:"columns"},Wb={class:"column is-2"},Gb={class:"column",style:{overflow:"auto"}},Qb={class:"section"},Xb={key:0,class:"notification is-light is-danger"},Jb=(0,s.Uk)("The account is not activated yet and will not be displayed on hospital searches, complete the hospital's "),ek=(0,s.Uk)(" profile"),tk=(0,s.Uk)(" to activate the account."),nk={class:"title"},ak={class:"field"},ik={class:"control",style:{width:"33%"}},sk=(0,s._)("label",{class:"label"},"Search:",-1),rk={key:1,class:"table-container"},ok={class:"table"},ck=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"has-text-black-ter"},"Controls"),(0,s._)("th",{class:"has-text-black-ter"},"No."),(0,s._)("th",{class:"has-text-black-ter"},"Alias"),(0,s._)("th",{class:"has-text-black-ter"},"Full Name"),(0,s._)("th",{class:"has-text-black-ter"},"Specialist"),(0,s._)("th",{class:"has-text-black-ter"},"Gmail"),(0,s._)("th",{class:"has-text-black-ter"},"Schedules")])],-1),lk=["onClick"],uk=["onClick"],dk={class:"has-text-black-ter"},pk={class:"has-text-black-ter"},mk={class:"has-text-black-ter"},fk={class:"has-text-black-ter"},hk={class:"has-text-black-ter"},vk={key:2,class:"notification is-warning"},gk=(0,s.Uk)(" No doctors as of yet, generate a security code in "),wk=(0,s._)("b",null,"Registration and Password",-1),_k=(0,s.Uk)(" for your doctors to use in registering to their account. "),bk=[gk,wk,_k],kk=(0,s._)("div",{class:"modal-background"},null,-1),yk={class:"modal-content"},xk={class:"box"},Dk={class:"field"},Ck={class:"control"};function Uk(e,t,n,i,r,o){var c=(0,s.up)("ManagerMenuVue"),l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.loading}])},jb,2),(0,s._)("div",Kb,[(0,s._)("div",Wb,[(0,s.Wm)(c)]),(0,s._)("div",Gb,[(0,s._)("section",Qb,["Inactive"==r.hospitalStatus.status?((0,s.wg)(),(0,s.iD)("div",Xb,[Jb,(0,s.Wm)(l,{to:"/user/manager/".concat(this.managerHospital.hospital,"/profile"),class:"has-text-link"},{default:(0,s.w5)((function(){return[ek]})),_:1},8,["to"]),tk])):(0,s.kq)("",!0),(0,s._)("h1",nk,(0,v.zw)(r.managerHospital.hospital),1),(0,s._)("div",ak,[(0,s._)("div",ik,[sk,(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.searchBar=e}),placeholder:"Search..."},null,512),[[a.nr,r.searchBar]])])]),0!==Object.keys(o.doctorAccountsIndexed).length?((0,s.wg)(),(0,s.iD)("div",rk,[(0,s._)("table",ok,[ck,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.doctorAccountsIndexed,(function(e,t){return(0,s.wg)(),(0,s.iD)("tbody",{key:e._id},[(0,s._)("tr",null,[(0,s._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:function(t){return o.doctorRecoverEmail(e._id,e.gmail)}},"Recover",8,lk),(0,s._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:function(t){return o.doctorRemove(e._id)}},"Remove",8,uk),(0,s._)("td",dk,(0,v.zw)(t+1),1),(0,s._)("td",pk,(0,v.zw)(e.alias),1),(0,s._)("td",mk,(0,v.zw)(e.name),1),(0,s._)("td",fk,(0,v.zw)(e.specialist.toString()),1),(0,s._)("td",hk,(0,v.zw)(e.gmail),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.schedule,(function(e){return(0,s.wg)(),(0,s.iD)("td",{class:"has-text-black-ter",key:e.id},(0,v.zw)(new Date(e.date).toLocaleDateString()),1)})),128))])])})),128))])])):((0,s.wg)(),(0,s.iD)("div",vk,bk)),(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.isActiveModal}])},[kk,(0,s._)("div",yk,[(0,s._)("div",xk,[(0,s._)("div",Dk,[(0,s._)("div",Ck,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.email=e})},null,512),[[a.nr,r.email]])]),(0,s._)("button",{class:"button is-success",type:"button",onClick:t[2]||(t[2]=function(){return o.updateData&&o.updateData.apply(o,arguments)})},"Confirm")])]),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[3]||(t[3]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)})})])],2)])])])],64)}var Ak={class:"navbar is-hidden-desktop"},Sk={class:"navbar-brand"},Pk=(0,s._)("span",{"aria-hidden":"true"},null,-1),Mk=(0,s._)("span",{"aria-hidden":"true"},null,-1),Rk=(0,s._)("span",{"aria-hidden":"true"},null,-1),zk=[Pk,Mk,Rk],Nk=(0,s._)("p",{class:"menu-label"},"General",-1),Ik={class:"menu-list"},Tk=(0,s._)("p",{class:"menu-label"},"Security",-1),qk={class:"menu-list"},Hk=(0,s._)("p",{class:"menu-label"},"Support",-1),Lk={class:"menu-list"},Vk=(0,s._)("li",null,[(0,s._)("a",null,"FAQ")],-1),Ok=(0,s._)("hr",null,null,-1);function Ek(e,t,n,a,i,r){var o=this;return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",Ak,[(0,s._)("div",Sk,[(0,s._)("a",{role:"button",class:(0,v.C_)(["navbar-burger",{"is-active":!i.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:t[0]||(t[0]=function(){return r.menuNav&&r.menuNav.apply(r,arguments)})},zk,2)])]),(0,s._)("aside",{class:(0,v.C_)(["menu box",{"is-hidden-mobile":i.isActive,fixedMenu:i.isActive}]),style:{"background-color":"white",padding:"20px",height:"100vh"}},[Nk,(0,s._)("ul",Ik,[(0,s._)("li",null,[(0,s._)("a",{onClick:t[1]||(t[1]=function(){return r.navDoctors&&r.navDoctors.apply(r,arguments)})},"Home")]),(0,s._)("li",null,[(0,s._)("a",{onClick:t[2]||(t[2]=function(){return r.navProfile&&r.navProfile.apply(r,arguments)})},"Profile")])]),Tk,(0,s._)("ul",qk,[(0,s._)("li",null,[(0,s._)("a",{onClick:t[3]||(t[3]=function(){return r.navChangePass&&r.navChangePass.apply(r,arguments)})},"Registration and Password")])]),Hk,(0,s._)("ul",Lk,[Vk,(0,s._)("li",null,[(0,s._)("a",{onClick:t[4]||(t[4]=function(e){return o.$router.push("/contactus")})},"Contact Us")])]),Ok,(0,s._)("button",{class:"button is-danger",onClick:t[5]||(t[5]=function(){return r.logout&&r.logout.apply(r,arguments)})},"Logout")],2)],64)}var Zk={name:"ManagerMenu",data:function(){return{isActive:!0,managerHospital:""}},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().get("/session/manager").then((function(t){return e.managerHospital=t.data.hospital}));case 2:case"end":return t.stop()}}),t)})))()},methods:{logout:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt()["delete"]("/session/manager");case 2:return t.next=4,e.$store.commit("managerHospital",null);case 4:return t.next=6,e.$router.push("/user/manager/login");case 6:case"end":return t.stop()}}),t)})))()},menuNav:function(){this.isActive=!this.isActive},navProfile:function(){this.$router.push("/user/manager/".concat(this.managerHospital,"/profile"))},navDoctors:function(){this.$router.push("/user/manager/".concat(this.managerHospital))},navChangePass:function(){this.$router.push("/user/manager/".concat(this.managerHospital,"/security"))}}};const Fk=(0,c.Z)(Zk,[["render",Ek]]);var Yk=Fk,Bk={name:"ManagerDashboard",components:{ManagerMenuVue:Yk},computed:{doctorAccountsIndexed:function(){var e=this;return this.doctorAccounts.filter((function(t){return t.name.toLowerCase().includes(e.searchBar.toLowerCase())||t.alias.toLowerCase().includes(e.searchBar.toLowerCase())}))}},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,tt().get("/session/manager").then((function(t){return e.managerHospital=t.data}));case 3:return t.next=5,tt().get("/api/manager").then((function(t){return e.hospitalStatus=t.data.find((function(t){return t._id==e.managerHospital._id}))}));case 5:return t.next=7,tt().get("/api/doctor").then((function(t){return e.doctorAccounts=t.data.filter((function(t){return t.hospitalOrigin.find((function(t){return t.hospital===e.managerHospital.hospital}))}))}));case 7:e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()},data:function(){return{loading:!1,hospitalStatus:"",managerHospital:"",searchBar:"",isActiveModal:!1,doctorAccounts:[],email:"",id:""}},methods:{doctorRecoverEmail:function(e,t){this.id=e,this.email=t,this.isActiveModal=!0},updateData:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().put("/api/doctor/".concat(e.id),{gmail:e.email});case 2:return t.next=4,tt().get("/api/doctor").then((function(t){return e.doctorAccounts=t.data}));case 4:e.isActiveModal=!e.isActiveModal;case 5:case"end":return t.stop()}}),t)})))()},doctorRemove:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().post("/api/doctorPullHospital",{doctorID:e.id,hospital:e.managerHospital.hospital});case 2:case"end":return t.stop()}}),t)})))()},closeModal:function(){this.isActiveModal=!1}}};const $k=(0,c.Z)(Bk,[["render",Uk]]);var jk=$k,Kk=function(e){return(0,s.dD)("data-v-05e2fa76"),e=e(),(0,s.Cn)(),e},Wk={class:"hero is-fullheight",style:{"background-color":"whitesmoke"}},Gk={class:"hero-body"},Qk={class:"container has-text-centered"},Xk={class:"animate__animated animate__fadeInLeft"},Jk={key:0,class:"notification is-success"},ey={class:"box",style:{width:"33%",margin:"auto"}},ty={class:"content"},ny={class:"field",style:{"margin-top":"5%"}},ay=Kk((function(){return(0,s._)("h1",{class:"title"},"Login",-1)})),iy={class:"control"},sy={class:"control",style:{"margin-top":"2%"}},ry={key:0,class:"has-text-danger",style:{"margin-top":"5%"}},oy={key:1,class:"has-text-danger",style:{"margin-top":"5%"}},cy=Kk((function(){return(0,s._)("hr",null,null,-1)})),ly=Kk((function(){return(0,s._)("h1",{class:"title"},"Or",-1)}));function uy(e,t,n,i,r,o){var c=(0,s.up)("ForgotPassword");return(0,s.wg)(),(0,s.iD)("section",Wk,[(0,s._)("div",Gk,[(0,s._)("div",Qk,[(0,s._)("div",Xk,[r.newAccount?((0,s.wg)(),(0,s.iD)("p",Jk,"The account has been successfully created, login to activate the account now.")):(0,s.kq)("",!0),(0,s._)("div",ey,[(0,s._)("div",ty,[(0,s._)("form",ny,[ay,(0,s._)("div",iy,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e}),placeholder:"username",required:"",onKeyup:t[1]||(t[1]=(0,a.D2)((function(){return o.login&&o.login.apply(o,arguments)}),["enter"]))},null,544),[[a.nr,r.username]])]),(0,s._)("div",sy,[(0,s.wy)((0,s._)("input",{class:"input",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.password=e}),placeholder:"password",required:"",onKeyup:t[3]||(t[3]=(0,a.D2)((function(){return o.login&&o.login.apply(o,arguments)}),["enter"]))},null,544),[[a.nr,r.password]])]),r.incorrectUserPass?((0,s.wg)(),(0,s.iD)("p",ry,(0,v.zw)(r.validateMessage),1)):0==r.incorrectUserPass?((0,s.wg)(),(0,s.iD)("p",oy,(0,v.zw)(r.validateMessage),1)):(0,s.kq)("",!0),(0,s._)("button",{type:"button",class:"button is-primary",onClick:t[4]||(t[4]=function(){return o.login&&o.login.apply(o,arguments)})},"Login"),cy,ly,(0,s._)("a",{onClick:t[5]||(t[5]=function(){return o.signup&&o.signup.apply(o,arguments)}),class:"is-danger"},"Create an account")])]),(0,s.Wm)(c,{userType:"manager"})])])])])])}var dy={name:"ManagerLogin",component:zi["default"],data:function(){return{username:"",password:"",userManager:null,incorrectUserPass:"",validateMessage:"",newAccount:!1}},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=e.$store.state.accountCreated){t.next=4;break}return e.newAccount=!0,t.next=4,e.$store.commit("accountCreated",!1);case 4:return t.next=6,tt().get("/session/manager").then((function(t){return e.userManager=t.data}));case 6:return t.next=8,e.userManager;case 8:if(!t.sent){t.next=12;break}return e.$store.commit("managerHospital",e.userManager.hospital),t.next=12,e.$router.push("/user/manager/".concat(e.userManager.hospital));case 12:case"end":return t.stop()}}),t)})))()},methods:{login:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.username&&null!=e.password){t.next=7;break}e.incorrectUserPass=!1,e.validateMessage="empty username or password",e.username=null,e.password=null,t.next=23;break;case 7:return t.next=9,tt().post("/api/auth/manager",{username:e.username,password:e.password}).then((function(t){return e.userManager=t.data}));case 9:return t.next=11,e.userManager;case 11:if(!t.sent){t.next=19;break}return e.$store.commit("managerHospital",e.userManager.hospital),t.next=15,tt().post("/session/manager",{_id:e.userManager._id,registrationCode:e.userManager.registrationCode,hospital:e.userManager.hospital});case 15:return t.next=17,e.$router.push("/user/manager/".concat(e.userManager.hospital));case 17:t.next=23;break;case 19:e.validateMessage="Incorrect username or password",e.incorrectUserPass=!0,e.username=null,e.password=null;case 23:case"end":return t.stop()}}),t)})))()},signup:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push("/user/manager/signup");case 2:case"end":return t.stop()}}),t)})))()}},components:{ForgotPassword:zi["default"]}};const py=(0,c.Z)(dy,[["render",uy],["__scopeId","data-v-05e2fa76"]]);var my=py,fy=function(e){return(0,s.dD)("data-v-0ab1c63a"),e=e(),(0,s.Cn)(),e},hy={class:"section",style:{"background-color":"whitesmoke"}},vy={class:"container box",style:{width:"50%",margin:"auto"}},gy={key:0,class:"notification is-danger"},wy=(0,s.Uk)(" Oops, something went wrong. Try again later or "),_y=(0,s.Uk)("contact us"),by={class:"field"},ky=fy((function(){return(0,s._)("label",{class:"label"},"Hospital Name",-1)})),yy=fy((function(){return(0,s._)("label",{class:"label"},"E-mail",-1)})),xy={class:"field is-horizontal"},Dy={class:"field-body"},Cy={class:"field"},Uy=fy((function(){return(0,s._)("label",{class:"label"},"Province",-1)})),Ay={class:"dropdown-trigger"},Sy={key:0},Py={key:1},My={class:"dropdown-menu"},Ry=["onClick"],zy={class:"field"},Ny=fy((function(){return(0,s._)("label",{class:"label"},"City/Municipality",-1)})),Iy={class:"dropdown-trigger"},Ty=["disabled"],qy={key:0},Hy={key:1},Ly={key:0,class:"dropdown-menu"},Vy=["onClick"],Oy={class:"field"},Ey=fy((function(){return(0,s._)("div",{class:"control"},[(0,s._)("label",{class:"label"},"Postal Code:")],-1)})),Zy={class:"field"},Fy={class:"control"},Yy=fy((function(){return(0,s._)("label",{class:"label"},"Type:",-1)})),By={class:"radio"},$y=(0,s.Uk)("Public "),jy={class:"radio"},Ky=(0,s.Uk)("Private "),Wy={class:"field"},Gy={class:"control"},Qy=fy((function(){return(0,s._)("label",{class:"label"},"Barangay or Street",-1)})),Xy={class:"field is-horizontal"},Jy={class:"field-body"},ex={class:"field"},tx={class:"control"},nx=fy((function(){return(0,s._)("label",{class:"label"},"Latitude",-1)})),ax={class:"field"},ix={class:"control"},sx=fy((function(){return(0,s._)("label",{class:"label"},"Longtitude",-1)})),rx={class:"field is-horizontal"},ox={class:"field-body"},cx={class:"field"},lx={class:"control"},ux=fy((function(){return(0,s._)("label",{class:"label"},"Username:",-1)})),dx={key:0},px={key:0,class:"help is-danger"},mx=(0,s.Uk)(" Unavailable "),fx={key:0,class:"fas fa-spinner fa-spin"},hx={key:1,class:"help is-success"},vx=(0,s.Uk)(" Available "),gx={key:0,class:"fas fa-spinner fa-spin"},wx={class:"field"},_x={class:"control"},bx=fy((function(){return(0,s._)("label",{class:"label"},"Password",-1)})),kx={class:"control"},yx=fy((function(){return(0,s._)("label",{class:"label"},"Confirm Password",-1)})),xx={key:0,class:"notification is-light is-danger"},Dx={class:"columns"},Cx={class:"column"},Ux=fy((function(){return(0,s._)("label",{class:"label"},"Specializations offered(Select all that applies)",-1)})),Ax={class:"panel"},Sx={class:"panel-block"},Px={style:{"max-height":"20em",overflow:"auto"}},Mx=["value"],Rx=["onClick"],zx={class:"column"},Nx=fy((function(){return(0,s._)("label",{class:"label"},"Selected",-1)})),Ix={class:"columns is-multiline"},Tx={class:"column",id:"selectedSpecializations"},qx=["onClick"],Hx=fy((function(){return(0,s._)("h1",{class:"label has-text-centered"},"Choose a plan",-1)})),Lx={class:"columns has-text-centered"},Vx={class:"column"},Ox={class:"card"},Ex=fy((function(){return(0,s._)("div",{class:"card-image"},[(0,s._)("figure",{class:"image is-4by3"},[(0,s._)("img",{src:"https://bulma.io/images/placeholders/1280x960.png",alt:"Placeholder image"})])],-1)})),Zx={class:"card-content"},Fx=fy((function(){return(0,s._)("div",{class:"media"},[(0,s._)("div",{class:"media-content"},[(0,s._)("p",{class:"title is-4"},"STANDARD PLAN")])],-1)})),Yx=fy((function(){return(0,s._)("div",{class:"content"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris. ",-1)})),Bx={class:"field"},$x={class:"control"},jx={class:"radio"},Kx={class:"column"},Wx={class:"card"},Gx=fy((function(){return(0,s._)("div",{class:"card-image"},[(0,s._)("figure",{class:"image is-4by3"},[(0,s._)("img",{src:"https://bulma.io/images/placeholders/1280x960.png",alt:"Placeholder image"})])],-1)})),Qx={class:"card-content"},Xx=fy((function(){return(0,s._)("div",{class:"media"},[(0,s._)("div",{class:"media-content"},[(0,s._)("p",{class:"title is-4"},"PREMIUM PLAN")])],-1)})),Jx=fy((function(){return(0,s._)("div",{class:"content"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris. ",-1)})),eD={class:"field"},tD={class:"control"},nD={class:"radio"},aD=["disabled"];function iD(e,t,n,i,r,o){var c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("section",hy,[(0,s._)("div",vy,[r.errMsg?((0,s.wg)(),(0,s.iD)("div",gy,[wy,(0,s.Wm)(c,{to:"/contactus"},{default:(0,s.w5)((function(){return[_y]})),_:1})])):(0,s.kq)("",!0),(0,s._)("div",by,[ky,(0,s.wy)((0,s._)("input",{class:"input",type:"text",placeholder:"Hospital name","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.hospital=e})},null,512),[[a.nr,r.hospital]]),yy,(0,s.wy)((0,s._)("input",{class:"input",type:"email",placeholder:"Official hospital email","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.email=e})},null,512),[[a.nr,r.email]])]),(0,s._)("div",xy,[(0,s._)("div",Dy,[(0,s._)("div",Cy,[Uy,(0,s._)("div",{class:(0,v.C_)(["dropdown",{"is-active":r.isActiveDropdownProvince}])},[(0,s._)("div",Ay,[(0,s._)("button",{class:"button","aria-haspopup":"true",onClick:t[2]||(t[2]=function(){return o.provinceDropdown&&o.provinceDropdown.apply(o,arguments)})},[""==r.province?((0,s.wg)(),(0,s.iD)("span",Sy,"Select")):((0,s.wg)(),(0,s.iD)("span",Py,(0,v.zw)(r.province),1))])]),(0,s._)("div",My,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.geolocationData,(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"dropdown-content",key:e._id},[(0,s._)("a",{class:"dropdown-item",onClick:function(t){return o.selectProvince(e.province)}},(0,v.zw)(e.province),9,Ry)])})),128))])],2)]),(0,s._)("div",zy,[Ny,(0,s._)("div",{class:(0,v.C_)(["dropdown",{"is-active":r.isActiveDropdownCity}])},[(0,s._)("div",Iy,[(0,s._)("button",{class:"button","aria-haspopup":"true",onClick:t[3]||(t[3]=function(){return o.cityDropdown&&o.cityDropdown.apply(o,arguments)}),disabled:""==r.province},[""==r.city?((0,s.wg)(),(0,s.iD)("span",qy,"Select")):((0,s.wg)(),(0,s.iD)("span",Hy,(0,v.zw)(r.city),1))],8,Ty)]),r.province?((0,s.wg)(),(0,s.iD)("div",Ly,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.citiesData,(function(e){return(0,s.wg)(),(0,s.iD)("div",{class:"dropdown-content",key:e.name},[(0,s._)("a",{class:"dropdown-item",onClick:function(t){return o.selectCity(e.name)}},(0,v.zw)(e.name),9,Vy)])})),128))])):(0,s.kq)("",!0)],2)])])]),(0,s._)("div",Oy,[Ey,(0,s.wy)((0,s._)("input",{type:"number",class:"input","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.postalCode=e}),placeholder:"Postal Code"},null,512),[[a.nr,r.postalCode]])]),(0,s._)("div",Zy,[(0,s._)("div",Fy,[Yy,(0,s._)("label",By,[(0,s._)("input",{type:"radio",name:"type",onClick:t[5]||(t[5]=function(){return o.selectPublicType&&o.selectPublicType.apply(o,arguments)})}),$y]),(0,s._)("label",jy,[(0,s._)("input",{type:"radio",name:"type",onClick:t[6]||(t[6]=function(){return o.selectPrivateType&&o.selectPrivateType.apply(o,arguments)})}),Ky])])]),(0,s._)("div",Wy,[(0,s._)("div",Gy,[Qy,(0,s.wy)((0,s._)("input",{class:"input",type:"text",placeholder:"Barangay or Street of the hospital","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.barangayORStreet=e})},null,512),[[a.nr,r.barangayORStreet]])])]),(0,s._)("div",Xy,[(0,s._)("div",Jy,[(0,s._)("div",ex,[(0,s._)("div",tx,[nx,(0,s.wy)((0,s._)("input",{class:"input",type:"number",placeholder:"Latitude of the hospital location","onUpdate:modelValue":t[8]||(t[8]=function(e){return r.latitude=e})},null,512),[[a.nr,r.latitude]])])]),(0,s._)("div",ax,[(0,s._)("div",ix,[sx,(0,s.wy)((0,s._)("input",{class:"input",type:"number",placeholder:"Longtitude of the hospital location","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.longtitude=e})},null,512),[[a.nr,r.longtitude]])])])])]),(0,s._)("div",rx,[(0,s._)("div",ox,[(0,s._)("div",cx,[(0,s._)("div",lx,[ux,""!==r.usernameFound?((0,s.wg)(),(0,s.iD)("div",dx,[r.usernameFound?((0,s.wg)(),(0,s.iD)("p",px,[mx,r.loadingUsername?((0,s.wg)(),(0,s.iD)("i",fx)):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("p",hx,[vx,r.loadingUsername?((0,s.wg)(),(0,s.iD)("i",gx)):(0,s.kq)("",!0)]))])):(0,s.kq)("",!0),(0,s.wy)((0,s._)("input",{class:"input",type:"text",placeholder:"Username","onUpdate:modelValue":t[10]||(t[10]=function(e){return r.username=e}),onInput:t[11]||(t[11]=function(){return o.usernameFindTimeout&&o.usernameFindTimeout.apply(o,arguments)})},null,544),[[a.nr,r.username]])])]),(0,s._)("div",wx,[(0,s._)("div",_x,[bx,(0,s.wy)((0,s._)("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":t[12]||(t[12]=function(e){return r.password=e})},null,512),[[a.nr,r.password]])]),(0,s._)("div",kx,[yx,(0,s.wy)((0,s._)("input",{class:"input",type:"password",placeholder:"Confirm Password","onUpdate:modelValue":t[13]||(t[13]=function(e){return r.confirmPassword=e})},null,512),[[a.nr,r.confirmPassword]])]),r.passwordNotMatch?((0,s.wg)(),(0,s.iD)("div",xx,"Password does not match. ")):(0,s.kq)("",!0)])])]),(0,s._)("div",Dx,[(0,s._)("div",Cx,[Ux,(0,s._)("nav",Ax,[(0,s._)("div",Sx,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":t[14]||(t[14]=function(e){return r.searchBar=e}),placeholder:"Search"},null,512),[[a.nr,r.searchBar]])]),(0,s._)("div",Px,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.specializationListIndexed,(function(e,t){return(0,s.wg)(),(0,s.iD)("div",{class:"panel-block",key:t,value:e},[(0,s._)("a",{onClick:function(t){return o.selectSpecialization(e)}},(0,v.zw)(e),9,Rx)],8,Mx)})),128))])])]),(0,s._)("div",zx,[Nx,(0,s._)("div",Ix,[(0,s._)("div",Tx,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.specializationsSelected,(function(e,t){return(0,s.wg)(),(0,s.iD)("button",{key:t,class:"button is-light",style:{margin:"5px"}},[(0,s.Uk)((0,v.zw)(e.specialist)+" ",1),(0,s._)("span",{class:"has-text-danger",onClick:function(t){return o.undoSpecialization(e.specialist)}},"X",8,qx)])})),128))])])])]),Hx,(0,s._)("div",Lx,[(0,s._)("div",Vx,[(0,s._)("div",Ox,[Ex,(0,s._)("div",Zx,[Fx,Yx,(0,s._)("div",Bx,[(0,s._)("div",$x,[(0,s._)("label",jx,[(0,s._)("input",{class:"radio",name:"plan",type:"radio",onClick:t[15]||(t[15]=function(){return o.selectStandardPlan&&o.selectStandardPlan.apply(o,arguments)})})])])])])])]),(0,s._)("div",Kx,[(0,s._)("div",Wx,[Gx,(0,s._)("div",Qx,[Xx,Jx,(0,s._)("div",eD,[(0,s._)("div",tD,[(0,s._)("label",nD,[(0,s._)("input",{class:"radio",name:"plan",type:"radio",onClick:t[16]||(t[16]=function(){return o.selectPremiumPlan&&o.selectPremiumPlan.apply(o,arguments)})})])])])])])])]),(0,s._)("button",{class:"button is-primary",onClick:t[17]||(t[17]=function(){return o.create&&o.create.apply(o,arguments)}),disabled:""==r.pricing||""==r.hospital||""==r.email||""==r.hospitalType||""==r.latitude||""==r.longtitude||""==r.barangayORStreet||""==r.city||""==r.province||r.specializationsSelected==[]},"Create Account",8,aD)])])}var sD={name:"ManagerSignup",mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt().get("/api/geolocation").then((function(t){return e.geolocationData=t.data}));case 2:case"end":return t.stop()}}),t)})))()},computed:{specializationListIndexed:function(){var e=this;return this.specializationList.filter((function(t){return t.toLowerCase().includes(e.searchBar.toLowerCase())}))}},data:function(){return{geolocationData:[],isActiveDropdownProvince:!1,isActiveDropdownCity:!1,registrationCode:"",pricing:"",hospital:"",email:"",hospitalType:"",latitude:"",longtitude:"",barangayORStreet:"",postalCode:"",city:"",province:"",username:"",password:"",confirmPassword:"",loadingUsername:!1,usernameFound:"",passwordNotMatch:!1,citiesData:[],specializationsSelected:[],specializationList:this.$store.getters.getSpecializationList,searchBar:"",errMsg:"",searchTimeout:null}},methods:{generateCode:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,a=0;a<12;a++)e+=t.charAt(Math.floor(Math.random()*n));this.registrationCode=e.toUpperCase()},usernameFindTimeout:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.searchTimeout&&(clearTimeout(e.searchTimeout),e.searchTimeout=null),e.searchTimeout=setTimeout(e.usernameFinder,500);case 2:case"end":return t.stop()}}),t)})))()},usernameFinder:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingUsername=!0,t.next=3,tt().post("/api/manager/check_username",{username:e.username}).then((function(t){e.usernameFound=t.data}));case 3:""==e.username&&(e.usernameFound=""),e.loadingUsername=!1;case 5:case"end":return t.stop()}}),t)})))()},selectProvince:function(e){var t=this;return(0,Y.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.city="",t.province=e,t.isActiveDropdownProvince=!1,n.next=5,tt().get("/api/geolocation").then((function(n){return t.citiesData=n.data.find((function(t){return t.province===e}))}));case 5:return n.next=7,t.citiesData.citiesOrMunicipalities.sort((function(e,t){return e.name>t.name?1:-1}));case 7:t.citiesData=n.sent;case 8:case"end":return n.stop()}}),n)})))()},selectCity:function(e){this.city=e,this.isActiveDropdownCity=!1},selectPublicType:function(){this.hospitalType="Public"},selectPrivateType:function(){this.hospitalType="Private"},selectStandardPlan:function(){this.pricing="Standard"},selectPremiumPlan:function(){this.pricing="Premium"},provinceDropdown:function(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},cityDropdown:function(){this.isActiveDropdownCity=!this.isActiveDropdownCity},selectSpecialization:function(e){this.specializationsSelected.find((function(t){return t.specialist===e}))||this.specializationsSelected.push({specialist:e})},undoSpecialization:function(e){this.specializationsSelected=this.specializationsSelected.filter((function(t){return t.specialist!==e}))},create:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.generateCode(),e.passwordNotMatch=!1,e.password!==e.confirmPassword?e.passwordNotMatch=!0:e.passwordNotMatch=!1,e.password!==e.confirmPassword||e.usernameFound){t.next=16;break}return t.prev=4,t.next=7,tt().post("/api/manager",{registrationCode:e.registrationCode,pricing:e.pricing,status:"Inactive",hospital:e.hospital,type:e.hospitalType,email:e.email,province:e.province,city:e.city,barangayORStreet:e.barangayORStreet,postalCode:e.postalCode,location:{type:"Point",coordinates:[e.longtitude,e.latitude]},specializations:e.specializationsSelected,username:e.username,password:e.password});case 7:return t.next=9,e.$store.commit("accountCreated",!0);case 9:return t.next=11,e.$router.push("/user/manager/login");case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](4),e.errMsg=t.t0;case 16:case"end":return t.stop()}}),t,null,[[4,13]])})))()}}};const rD=(0,c.Z)(sD,[["render",iD],["__scopeId","data-v-0ab1c63a"]]);var oD=rD,cD=(0,s._)("div",{class:"modal-background"},null,-1),lD=(0,s._)("div",{class:"modal-content loader"},null,-1),uD=[cD,lD],dD={class:"columns"},pD={class:"column is-2"},mD={class:"column"},fD={class:"section"},hD={key:0,class:"notification is-light is-info"},vD=(0,s.Uk)("To get started, upload a "),gD=(0,s._)("b",null,"photo",-1),wD=(0,s.Uk)(" of your hospital and fill in the details of your "),_D=(0,s._)("b",null,"description",-1),bD=(0,s.Uk)(" and "),kD=(0,s._)("b",null,"contacts",-1),yD=(0,s.Uk)(". Activation of the account is available when clicking "),xD=(0,s._)("b",null,'"Edit"',-1),DD=(0,s.Uk)(". "),CD=[vD,gD,wD,_D,bD,kD,yD,xD,DD],UD={class:"columns box"},AD={class:"column"},SD={key:0,class:"image is-16by9"},PD=["src"],MD={id:"formUpload",action:"/api/imgUploadManager",method:"post",enctype:"multipart/form-data",style:{margin:"auto",width:"50%"},class:"field"},RD={class:"control"},zD=["value"],ND=(0,s._)("div",{class:"has-text-centered"},[(0,s._)("button",{type:"submit",value:"Upload",class:"button is-primary"},"Upload Photo")],-1),ID=(0,s._)("br",null,null,-1),TD={class:"container has-text-centered"},qD=["src"],HD={class:"column"},LD={class:"container"},VD={class:"block"},OD=(0,s._)("h1",{class:"title"},"Description:",-1),ED={key:0,class:"subtitle"},ZD={key:1,class:"form"},FD={class:"control"},YD={class:"block"},BD=(0,s._)("h1",{class:"title"},"Contacts:",-1),$D={key:0},jD={class:"subtitle"},KD={key:1},WD={class:"subtitle"},GD=["onClick"],QD=(0,s._)("br",null,null,-1),XD={key:2,class:"field has-addons"},JD={class:"control"},eC={class:"control"},tC=["disabled"],nC=(0,s._)("br",null,null,-1),aC={key:2,class:"control"},iC={class:"radio"},sC=(0,s.Uk)(" Activate this account. "),rC={key:0,class:"help"},oC=(0,s.Uk)("Please make sure you have uploaded a "),cC=(0,s._)("b",null,"photo",-1),lC=(0,s.Uk)(" of the hospital before activating it. To cancel this, just click "),uC=(0,s._)("b",null,'"Cancel Editing"',-1),dC=(0,s.Uk)("."),pC=[oC,cC,lC,uC,dC],mC=(0,s._)("br",null,null,-1),fC=["disabled"];function hC(e,t,n,i,r,o){var c=(0,s.up)("ManagerMenuVue");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":r.loading}])},uD,2),(0,s._)("div",dD,[(0,s._)("div",pD,[(0,s.Wm)(c)]),(0,s._)("div",mD,[(0,s._)("section",fD,["Inactive"==r.hospitalStatus?((0,s.wg)(),(0,s.iD)("div",hD,CD)):(0,s.kq)("",!0),(0,s._)("div",UD,[(0,s._)("div",AD,["Inactive"!==r.hospitalStatus?((0,s.wg)(),(0,s.iD)("figure",SD,[(0,s._)("img",{src:"https://res.cloudinary.com/leindfraust/image/upload/v1/assets/managers/".concat(r.managerHospital,".jpg")},null,8,PD)])):(0,s.kq)("",!0),(0,s._)("form",MD,[(0,s._)("div",RD,[(0,s._)("input",{type:"hidden",name:"hospital",value:r.managerHospital},null,8,zD),(0,s._)("input",{class:"input",type:"file",name:"imgFile",onClick:t[0]||(t[0]=function(){return o.imgSuccess&&o.imgSuccess.apply(o,arguments)}),required:""}),ND])]),ID,(0,s._)("div",TD,[""!==r.hospitalData?((0,s.wg)(),(0,s.iD)("iframe",{key:0,width:"300",height:"300",src:"https://maps.google.com/maps?q=".concat(r.hospitalData.location.coordinates[1],",").concat(r.hospitalData.location.coordinates[0],"&hl=es;z=14&output=embed")},null,8,qD)):(0,s.kq)("",!0)])]),(0,s._)("div",HD,[r.editingMode?((0,s.wg)(),(0,s.iD)("a",{key:1,class:"has-text-danger",onClick:t[2]||(t[2]=function(){return o.editModeCancel&&o.editModeCancel.apply(o,arguments)})},"[Cancel Editing]")):((0,s.wg)(),(0,s.iD)("a",{key:0,class:"has-text-info",onClick:t[1]||(t[1]=function(){return o.editMode&&o.editMode.apply(o,arguments)})},"[Edit]")),(0,s._)("div",LD,[(0,s._)("div",VD,[OD,r.editingMode?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",ED,(0,v.zw)(r.description),1)),r.editingMode?((0,s.wg)(),(0,s.iD)("form",ZD,[(0,s._)("div",FD,[(0,s.wy)((0,s._)("textarea",{class:"textarea","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.editDescription=e}),placeholder:"Edit description..."},null,512),[[a.nr,r.editDescription]])])])):(0,s.kq)("",!0)]),(0,s._)("div",YD,[BD,r.editingMode?((0,s.wg)(),(0,s.iD)("ul",KD,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.editContacts,(function(e,t){return(0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s._)("p",WD,[(0,s.Uk)((0,v.zw)(e.contact)+" ",1),r.editingMode?((0,s.wg)(),(0,s.iD)("a",{key:0,class:"has-text-danger",onClick:function(t){return o.removeContact(e.contact)}},"Remove",8,GD)):(0,s.kq)("",!0)])])})),128))])):((0,s.wg)(),(0,s.iD)("ul",$D,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.contacts,(function(e,t){return(0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s._)("p",jD,(0,v.zw)(e.contact),1)])})),128))])),QD,r.editingMode?((0,s.wg)(),(0,s.iD)("div",XD,[(0,s._)("div",JD,[(0,s.wy)((0,s._)("input",{class:"input",type:"number","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.contact=e}),placeholder:"Add contacts..."},null,512),[[a.nr,r.contact]])]),(0,s._)("div",eC,[(0,s._)("button",{type:"submit",class:"button is-light",onClick:t[5]||(t[5]=function(){return o.addContact&&o.addContact.apply(o,arguments)}),disabled:""==r.contact},"+",8,tC)])])):(0,s.kq)("",!0)])]),nC,"Inactive"==r.hospitalStatus&&r.editingMode?((0,s.wg)(),(0,s.iD)("div",aC,[(0,s._)("label",iC,[(0,s._)("input",{type:"radio",onClick:t[6]||(t[6]=function(){return o.activateAccount&&o.activateAccount.apply(o,arguments)})}),sC]),r.activate?((0,s.wg)(),(0,s.iD)("p",rC,pC)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),mC,r.editingMode?((0,s.wg)(),(0,s.iD)("button",{key:3,class:"button is-danger",onClick:t[7]||(t[7]=function(){return o.saveProfileEdit&&o.saveProfileEdit.apply(o,arguments)}),disabled:""==r.editDescription||0==r.editContacts.length},(0,v.zw)("Inactive"===r.hospitalStatus&&r.activate?"Save changes and activate this account":"Save changes"),9,fC)):(0,s.kq)("",!0)])])])])])],64)}var vC=n(5957),gC={name:"ManagerProfile",components:{ManagerMenuVue:Yk},mounted:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,tt().get("/session/manager").then((function(t){return e.managerHospital=t.data.hospital}));case 3:return t.next=5,tt().get("/session/manager").then((function(t){return e.managerHospitalID=t.data._id}));case 5:return t.next=7,tt().get("/api/manager").then((function(t){return e.hospitalData=t.data.find((function(t){return t._id==e.managerHospitalID}))}));case 7:return t.next=9,e.hospitalData.status;case 9:if(e.hospitalStatus=t.sent,"Inactive"===e.hospitalStatus){t.next=17;break}return t.next=13,e.hospitalData.details[0].description;case 13:return e.description=t.sent,t.next=16,e.hospitalData.details[0].contacts;case 16:e.contacts=t.sent;case 17:e.loading=!1;case 18:case"end":return t.stop()}}),t)})))()},data:function(){return{loading:!1,hospitalStatus:"",activate:!1,managerHospital:"",managerHospitalID:"",editingMode:!1,editDescription:"",editContacts:[],description:"",contact:"",contacts:[],hospitalData:"",details:[]}},methods:{imgSuccess:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.commit("imgSuccessManager",!0);case 1:case"end":return t.stop()}}),t)})))()},editMode:function(){this.editingMode=!0,this.editDescription=this.description,this.editContacts=(0,vC.Z)(this.contacts)},editModeCancel:function(){this.editingMode=!1,this.editDescription="",this.editContacts=[]},addContact:function(){this.editContacts.push({contact:this.contact}),this.contact=""},removeContact:function(e){this.editContacts=this.editContacts.filter((function(t){return t.contact!==e}))},activateAccount:function(){this.activate=!0},saveProfileEdit:function(){var e=this;return(0,Y.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===e.editDescription||0===e.editContacts.length){t.next=25;break}if(e.details.push({description:e.editDescription,contacts:e.editContacts}),!e.activate){t.next=7;break}return t.next=5,tt().put("/api/manager/".concat(e.managerHospitalID),{details:e.details,status:"Active"});case 5:t.next=9;break;case 7:return t.next=9,tt().put("/api/manager/".concat(e.managerHospitalID),{details:e.details});case 9:return t.next=11,tt().get("/api/manager").then((function(t){return e.hospitalData=t.data.find((function(t){return t._id==e.managerHospitalID}))}));case 11:return t.next=13,e.hospitalData.details[0].description;case 13:return e.description=t.sent,t.next=16,e.hospitalData.details[0].contacts;case 16:return e.contacts=t.sent,t.next=19,e.hospitalData.status;case 19:e.hospitalStatus=t.sent,e.editingMode=!1,e.editDescription="",e.editContacts=[],e.details=[],e.activate=!1;case 25:case"end":return t.stop()}}),t)})))()}}};const wC=(0,c.Z)(gC,[["render",hC]]);var _C=wC,bC={class:"columns"},kC={class:"column is-2"},yC={class:"column"},xC={class:"section"},DC={class:"container box"},CC=(0,s._)("label",{class:"label"},"Registration Code",-1),UC={class:"field has-addons"},AC={class:"control"},SC=(0,s._)("i",{class:"fa-solid fa-arrows-rotate"},null,-1),PC=[SC],MC=(0,s._)("hr",null,null,-1),RC={key:0,class:"notification is-success"},zC={key:1,class:"notification is-danger"},NC={class:"field"},IC=(0,s._)("label",{class:"label"},"Current Password",-1),TC={class:"control"},qC={key:0,class:"help is-danger"},HC={class:"field"},LC=(0,s._)("label",{class:"label"},"New Password",-1),VC={class:"control"},OC={key:0,class:"help is-danger"},EC={class:"field"},ZC=(0,s._)("label",{class:"label"},"Confirm Password",-1),FC={class:"control"},YC={key:0,class:"help is-danger"},BC=(0,s.Uk)(" Show password "),$C={class:"field has-text-right"},jC={class:"control"},KC=["disabled"],WC={__name:"ManagerSecurity",setup:function(e){var t=(0,jh.iH)(""),n=(0,jh.iH)(""),i=(0,jh.iH)(""),r=(0,jh.iH)(!1),o=(0,jh.iH)(""),c=(0,jh.iH)(""),l=(0,jh.iH)(!1),u=(0,jh.iH)(!1),d=(0,jh.iH)("");function p(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,a=0;a<8;a++)e+=t.charAt(Math.floor(Math.random()*n));d.value=e.toUpperCase()}function m(){return f.apply(this,arguments)}function f(){return f=(0,Y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p(),e.prev=1,e.next=4,tt().put("/api/manager/".concat(o.value),{registrationCode:d.value});case 4:return e.next=6,tt().put("/session/manager",{registrationCode:d.value});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),c.value=e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),f.apply(this,arguments)}function h(){for(var e=document.getElementsByClassName("password"),t=0;t<e.length;t++)"password"===e[t].type?e[t].type="text":e[t].type="password"}function g(){return w.apply(this,arguments)}function w(){return w=(0,Y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.value!==i.value){e.next=5;break}return e.next=3,tt().put("/api/updatePassword/manager",{managerID:o.value,currentPassword:t.value,newPassword:n.value}).then((function(e){e.data?(u.value=!1,t.value="",n.value="",i.value="",l.value=!0,c.value="",r.value=!1):(l.value=!1,u.value=!0)})).catch((function(e){c.value=e,l.value=!1}));case 3:e.next=7;break;case 5:r.value=!0,l.value=!1;case 7:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}return(0,s.bv)((0,Y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,tt().get("/session/manager").then((function(e){return o.value=e.data._id}));case 2:return e.next=4,tt().get("/session/manager").then((function(e){return d.value=e.data.registrationCode}));case 4:console.log(d.value);case 5:case"end":return e.stop()}}),e)})))),function(e,o){return(0,s.wg)(),(0,s.iD)("div",bC,[(0,s._)("div",kC,[(0,s.Wm)(Yk)]),(0,s._)("div",yC,[(0,s._)("section",xC,[(0,s._)("div",DC,[CC,(0,s._)("div",UC,[(0,s._)("div",AC,[(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":o[0]||(o[0]=function(e){return(0,jh.dq)(d)?d.value=e:d=e})},null,512),[[a.nr,(0,jh.SU)(d)]])]),(0,s._)("div",{class:"control"},[(0,s._)("a",{class:"button",onClick:m},PC)])]),MC,(0,jh.SU)(l)?((0,s.wg)(),(0,s.iD)("div",RC,"Password has been changed successfully. ")):(0,s.kq)("",!0),(0,jh.SU)(c)?((0,s.wg)(),(0,s.iD)("div",zC,(0,v.zw)((0,jh.SU)(c)),1)):(0,s.kq)("",!0),(0,s._)("div",NC,[IC,(0,s._)("div",TC,[(0,s.wy)((0,s._)("input",{type:"password",class:"input password","onUpdate:modelValue":o[1]||(o[1]=function(e){return(0,jh.dq)(t)?t.value=e:t=e}),placeholder:"Current password"},null,512),[[a.nr,(0,jh.SU)(t)]])]),(0,jh.SU)(u)?((0,s.wg)(),(0,s.iD)("p",qC,"Current password does not match in our database.")):(0,s.kq)("",!0)]),(0,s._)("div",HC,[LC,(0,s._)("div",VC,[(0,s.wy)((0,s._)("input",{type:"password",class:"input password","onUpdate:modelValue":o[2]||(o[2]=function(e){return(0,jh.dq)(n)?n.value=e:n=e}),placeholder:"New password"},null,512),[[a.nr,(0,jh.SU)(n)]])]),(0,jh.SU)(r)?((0,s.wg)(),(0,s.iD)("p",OC,"Password do not match.")):(0,s.kq)("",!0)]),(0,s._)("div",EC,[ZC,(0,s._)("div",FC,[(0,s.wy)((0,s._)("input",{type:"password",class:"input password","onUpdate:modelValue":o[3]||(o[3]=function(e){return(0,jh.dq)(i)?i.value=e:i=e}),placeholder:"Confirm password"},null,512),[[a.nr,(0,jh.SU)(i)]])]),(0,jh.SU)(r)?((0,s.wg)(),(0,s.iD)("p",YC,"Password do not match.")):(0,s.kq)("",!0)]),(0,s._)("div",{class:"field"},[(0,s._)("div",{class:"control"},[(0,s._)("label",{class:"checkbox"},[(0,s._)("input",{type:"checkbox",onClick:h}),BC])])]),(0,s._)("div",$C,[(0,s._)("div",jC,[(0,s._)("button",{class:"button is-danger",disabled:""==(0,jh.SU)(t)||""==(0,jh.SU)(n)||""==(0,jh.SU)(i),onClick:g},"Change password",8,KC)])]),(0,s.Wm)(zi["default"],{userType:"manager"})])])])])}}};const GC=WC;var QC=GC,XC=function(e){return(0,s.dD)("data-v-14b5e600"),e=e(),(0,s.Cn)(),e},JC={class:"section"},eU=XC((function(){return(0,s._)("div",{class:"modal-background"},null,-1)})),tU=XC((function(){return(0,s._)("div",{class:"modal-content loader"},null,-1)})),nU=[eU,tU],aU={class:"container box",style:{width:"33%"}},iU={key:0,class:"notification is-danger"},sU={key:1,class:"notification is-success"},rU={key:2},oU=XC((function(){return(0,s._)("h1",{class:"title"},"Contact Us",-1)})),cU={class:"dropdown is-hoverable block"},lU={class:"dropdown-trigger"},uU={class:"button"},dU={class:"dropdown-menu"},pU={class:"dropdown-content"},mU={class:"field"},fU={class:"control"},hU=XC((function(){return(0,s._)("label",{class:"label"},"Email",-1)})),vU={class:"field"},gU={class:"control"},wU=XC((function(){return(0,s._)("label",{class:"label"},"Subject",-1)})),_U={class:"field"},bU={class:"control"},kU=XC((function(){return(0,s._)("label",{class:"label"},"Explain the problem",-1)})),yU={class:"field has-text-centered"},xU={class:"control"},DU=["disabled"],CU={__name:"ContactSupport",setup:function(e){var t=(0,jh.iH)(""),n=(0,jh.iH)(""),i=(0,jh.iH)(""),r=(0,jh.iH)(""),o=(0,jh.iH)(""),c=(0,jh.iH)(!1),l=(0,jh.iH)(""),u=(0,jh.iH)(!1);function d(){return p.apply(this,arguments)}function p(){return p=(0,Y.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.value=!0,m(),e.prev=2,e.next=5,tt().post("/api/SupportMail",{ticketID:t.value,email:o.value,ticketType:n.value,ticketTitle:i.value});case 5:return e.next=7,tt().post("/api/superuser/submitTicket",{ticketID:t.value,email:o.value,ticketType:n.value,ticketTitle:i.value,ticketMessage:r.value});case 7:u.value=!0,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),l.value=e.t0;case 13:c.value=!1;case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))),p.apply(this,arguments)}function m(){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,i=0;i<8;i++)e+=n.charAt(Math.floor(Math.random()*a));t.value=e.toUpperCase()}return function(e,p){return(0,s.wg)(),(0,s.iD)("section",JC,[(0,s._)("div",{class:(0,v.C_)(["modal",{"is-active":(0,jh.SU)(c)}])},nU,2),(0,s._)("div",aU,[(0,jh.SU)(l)&&!(0,jh.SU)(u)?((0,s.wg)(),(0,s.iD)("div",iU,(0,v.zw)((0,jh.SU)(l)),1)):(0,s.kq)("",!0),(0,jh.SU)(u)?((0,s.wg)(),(0,s.iD)("div",sU,"Your problem has been reported, your ticket ID is: "+(0,v.zw)((0,jh.SU)(t))+". Please see your email for further instructions.",1)):((0,s.wg)(),(0,s.iD)("div",rU,[oU,(0,s._)("div",cU,[(0,s._)("div",lU,[(0,s._)("button",uU,(0,v.zw)(""==(0,jh.SU)(n)?"Select a Problem":(0,jh.SU)(n)),1)]),(0,s._)("div",dU,[(0,s._)("div",pU,[(0,s._)("a",{class:"dropdown-item",onClick:p[0]||(p[0]=function(e){return(0,jh.dq)(n)?n.value="General Inquiry":n="General Inquiry"})},"General Inquiry"),(0,s._)("a",{class:"dropdown-item",onClick:p[1]||(p[1]=function(e){return(0,jh.dq)(n)?n.value="Account Problem":n="Account Problem"})},"Account Problem"),(0,s._)("a",{class:"dropdown-item",onClick:p[2]||(p[2]=function(e){return(0,jh.dq)(n)?n.value="Report a bug":n="Report a bug"})},"Report a bug")])])]),(0,s._)("div",mU,[(0,s._)("div",fU,[hU,(0,s.wy)((0,s._)("input",{type:"email","onUpdate:modelValue":p[3]||(p[3]=function(e){return(0,jh.dq)(o)?o.value=e:o=e}),class:"input"},null,512),[[a.nr,(0,jh.SU)(o)]])])]),(0,s._)("div",vU,[(0,s._)("div",gU,[wU,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":p[4]||(p[4]=function(e){return(0,jh.dq)(i)?i.value=e:i=e}),class:"input"},null,512),[[a.nr,(0,jh.SU)(i)]])])]),(0,s._)("div",_U,[(0,s._)("div",bU,[kU,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":p[5]||(p[5]=function(e){return(0,jh.dq)(r)?r.value=e:r=e}),class:"textarea"},null,512),[[a.nr,(0,jh.SU)(r)]])])]),(0,s._)("div",yU,[(0,s._)("div",xU,[(0,s._)("button",{class:"button is-primary",onClick:d,disabled:""==(0,jh.SU)(n)||""==(0,jh.SU)(o)||""==(0,jh.SU)(i)||""==(0,jh.SU)(r)},"Submit Issue",8,DU)])])]))])])}}};const UU=(0,c.Z)(CU,[["__scopeId","data-v-14b5e600"]]);var AU=UU,SU={class:"section"},PU={class:"container"},MU={class:"title"},RU=(0,s.Uk)("Oops, page does not exist. Please return here "),zU=(0,s.Uk)("here.");function NU(e,t){var n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("section",SU,[(0,s._)("div",PU,[(0,s._)("h1",MU,[RU,(0,s.Wm)(n,{to:"/"},{default:(0,s.w5)((function(){return[zU]})),_:1})])])])}const IU={},TU=(0,c.Z)(IU,[["render",NU]]);var qU=TU,HU=[{path:"/",component:nn},{path:"/user/manager/:user",component:jk,meta:{requiresManagerAuth:!0}},{path:"/user/manager/signup",component:oD},{path:"/user/manager/login",component:my},{path:"/user/manager/:user/profile",component:_C,meta:{requiresManagerAuth:!0}},{path:"/user/manager/:user/security",component:QC,meta:{requiresManagerAuth:!0}},{path:"/user/superuser",component:xb,meta:{requiresSuperUserAuth:!0}},{path:"/user/superuser/login",component:Yb},{path:"/doctor/login",component:Ti},{path:"/doctor/signup",component:Ao},{path:"/doctor/user/:user",component:Xs,meta:{requiresAuth:!0}},{path:"/doctor/user/:user/schedule",component:xc,meta:{requiresAuth:!0}},{path:"/doctor/user/:user/profile",component:El,meta:{requiresAuth:!0}},{path:"/doctor/user/:user/security",component:Np,meta:{requiresAuth:!0}},{path:"/doctor/user/:user/patients",component:Xu,meta:{requiresAuth:!0}},{path:"/imgUploadSuccess",component:bm,meta:{requireImgUploadSuccess:!0}},{path:"/imgUploadSuccessDoctor",component:Mm,meta:{requireImgUploadSuccess:!0}},{path:"/imgUploadSuccessManager",component:Om,meta:{requireImgUploadSuccessManager:!0}},{path:"/user/signup",component:Ch},{path:"/user/login",component:$h},{path:"/user/:user/",component:Gh,meta:{requiresAuthPatient:!0}},{path:"/user/:user/doctors",component:oa,meta:{requiresAuthPatient:!0}},{path:"/user/:user/profile",component:Ag,meta:{requiresAuthPatient:!0}},{path:"/user/:user/security",component:ew,meta:{requiresAuthPatient:!0}},{path:"/success",component:um,meta:{requireSuccessPickDoctor:!0}},{path:"/user/:user/registration",component:fi,meta:{requireProcess:!0}},{path:"/contactus",component:AU},{path:"/:catchAll404(.*)*",component:qU}],LU=(0,h.p7)({history:(0,h.PO)("/"),routes:HU});LU.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requireProcess})))return f.state.statusAvailability?n():n("/user/:user/doctors");n()})),LU.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requireImgUploadSuccess})))return!0===f.state.imgSuccess?n():n("/doctor/login");n()})),LU.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requireImgUploadSuccessManager})))return f.state.imgSuccessManager?n():n("/user/manager/login");n()})),LU.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requireSuccessPickDoctor})))return f.state.doctorID?n():n("/user/:user/registration");n()})),LU.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requiresAuth})))return f.state.alias?n():n("/doctor/login");n()})),LU.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requiresAuthPatient})))return f.state.patientUsername?n():n("/user/login");n()})),LU.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requiresSuperUserAuth})))return f.state.superUserAuth?n():n("/user/superuser/login");n()})),LU.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requiresManagerAuth})))return f.state.managerHospital?n():n("/user/manager/login");n()})),LU.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requireProcess})))return f.state.statusAvailability?n():n("/user/:user/doctors");n()})),LU.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requiresAuthUsers})))return f.state.patientUsername||f.state.alias?n():n("/");n()}));var VU=LU,OU=n(2346);(0,a.ri)(u).use(i.ZP,{}).use(VU).use(f).use(OU.Z,tt()).mount("#app")},9615:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var a=n(8534),i=(n(5666),n(6252)),s=n(2262),r=n(3577),o=n(9963),c=n(9669),l=n.n(c),u=function(e){return(0,i.dD)("data-v-cd2db4f2"),e=e(),(0,i.Cn)(),e},d=u((function(){return(0,i._)("div",{class:"modal-background"},null,-1)})),p={class:"modal-content has-text-left",style:{width:"40%",margin:"auto"}},m={key:0,class:"section box"},f=u((function(){return(0,i._)("p",{class:"title is-4 has-text-danger"},"Forgot Password",-1)})),h={key:0,class:"notification is-danger"},v={key:1,class:"notification is-warning"},g={key:2,class:"container"},w={class:"field"},_={class:"control"},b=u((function(){return(0,i._)("label",{class:"label"},"Enter Username",-1)})),k={class:"field"},y={class:"control"},x=u((function(){return(0,i._)("label",{class:"label"},"Enter Email",-1)})),D={class:"field"},C={class:"control"},U=["disabled"],A={key:3,class:"notification is-danger"},S={key:1,class:"section box"},P={key:0,class:"container"},M={class:"field"},R={class:"control"},z=u((function(){return(0,i._)("label",{class:"label"},"Enter code",-1)})),N={key:1,class:"container"},I={key:0,class:"notification is-danger"},T={key:1,class:"container"},q={class:"field"},H={class:"control"},L=u((function(){return(0,i._)("label",{class:"label"},"New Password:",-1)})),V={class:"field"},O={class:"control"},E=u((function(){return(0,i._)("label",{class:"label"},"Confirm Password:",-1)})),Z={class:"field"},F={class:"control"},Y=["disabled"],B={key:2,class:"container"},$=u((function(){return(0,i._)("div",{class:"notification is-success"},"Your password has been successfully changed.",-1)})),j=[$],K={__name:"ForgotPassword",props:{userType:String,username:String,email:String},setup:function(e){var t=e,n=(0,s.iH)(!1),c=(0,s.iH)(""),u=(0,s.iH)(!1),$=(0,s.iH)(!1),K=(0,s.iH)(""),W=(0,s.iH)(!1),G=(0,s.iH)(!1),Q=(0,s.iH)(""),X=(0,s.iH)(""),J=(0,s.iH)(!1),ee=(0,s.iH)(!1),te=(0,s.iH)(!1),ne=(0,s.iH)(""),ae=(0,s.iH)(t.username),ie=(0,s.iH)(t.email);function se(){return re.apply(this,arguments)}function re(){return re=(0,a.Z)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==ae.value&&null==ie.value){e.next=71;break}return n.value=!0,i=Math.floor(1e3+9e3*Math.random()),e.next=5,l().post("/api/code/email",{email:ie.value}).then((function(e){return a=e.data}));case 5:if(!a){e.next=9;break}$.value=!0,e.next=70;break;case 9:if("patient"!=t.userType){e.next=30;break}return e.next=12,l().post("/api/user/verify_username",{username:ae.value,email:ie.value}).then((function(e){return ne.value=e.data}));case 12:if(!ne.value){e.next=27;break}return te.value=!1,e.prev=14,e.next=17,l().post("/api/code",{email:ie.value,code:i});case 17:return e.next=19,l().post("/api/OTPMail",{email:ie.value,code:i});case 19:W.value=!0,e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](14),c.value=e.t0;case 25:e.next=28;break;case 27:te.value=!0;case 28:e.next=70;break;case 30:if("doctor"!=t.userType){e.next=51;break}return e.next=33,l().post("/api/doctor/verify_username",{username:ae.value,email:ie.value}).then((function(e){return ne.value=e.data}));case 33:if(!ne.value){e.next=48;break}return te.value=!1,e.prev=35,e.next=38,l().post("/api/code",{email:ie.value,code:i});case 38:return e.next=40,l().post("/api/OTPMail",{email:ie.value,code:i});case 40:W.value=!0,e.next=46;break;case 43:e.prev=43,e.t1=e["catch"](35),c.value=e.t1;case 46:e.next=49;break;case 48:te.value=!0;case 49:e.next=70;break;case 51:if("manager"!=t.userType){e.next=70;break}return e.next=54,l().post("/api/manager/verify_username",{username:ae.value,email:ie.value}).then((function(e){return ne.value=e.data}));case 54:if(!ne.value){e.next=69;break}return te.value=!1,e.prev=56,e.next=59,l().post("/api/code",{email:ie.value,code:i});case 59:return e.next=61,l().post("/api/OTPMail",{email:ie.value,code:i});case 61:W.value=!0,e.next=67;break;case 64:e.prev=64,e.t2=e["catch"](56),c.value=e.t2;case 67:e.next=70;break;case 69:te.value=!0;case 70:n.value=!1;case 71:case"end":return e.stop()}}),e,null,[[14,22],[35,43],[56,64]])}))),re.apply(this,arguments)}function oe(){return ce.apply(this,arguments)}function ce(){return ce=(0,a.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l().post("/api/code/verify",{code:K.value}).then((function(e){return t=e.data}));case 2:t&&(G.value=!0);case 3:case"end":return e.stop()}}),e)}))),ce.apply(this,arguments)}function le(){return ue.apply(this,arguments)}function ue(){return ue=(0,a.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Q.value!==X.value){e.next=46;break}if("patient"!=t.userType){e.next=16;break}return e.prev=2,e.next=5,l().put("/api/fupdatePassword/patient",{patientID:ne.value._id,password:Q.value});case 5:ne.value="",ee.value=!0,e.next=14;break;case 9:e.prev=9,e.t0=e["catch"](2),ee.value=!1,c.value=e.t0,ne.value="";case 14:e.next=44;break;case 16:if("doctor"!=t.userType){e.next=31;break}return e.prev=17,e.next=20,l().put("/api/fupdatePassword/doctor",{doctorID:ne.value._id,password:Q.value});case 20:ne.value="",ee.value=!0,e.next=29;break;case 24:e.prev=24,e.t1=e["catch"](17),ee.value=!1,c.value=e.t1,ne.value="";case 29:e.next=44;break;case 31:if("manager"!=t.userType){e.next=44;break}return e.prev=32,e.next=35,l().put("/api/fupdatePassword/manager",{managerID:ne.value._id,password:Q.value});case 35:ne.value="",ee.value=!0,e.next=44;break;case 39:e.prev=39,e.t2=e["catch"](32),ee.value=!1,c.value=e.t2,ne.value="";case 44:e.next=47;break;case 46:J.value=!0;case 47:case"end":return e.stop()}}),e,null,[[2,9],[17,24],[32,39]])}))),ue.apply(this,arguments)}return function(e,t){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("a",{class:"subtitle has-text-danger",onClick:t[0]||(t[0]=function(e){return(0,s.dq)(u)?u.value=!(0,s.SU)(u):u=!(0,s.SU)(u)})},"Forgot Password"),(0,i._)("div",{class:(0,r.C_)(["modal",{"is-active":(0,s.SU)(u)}])},[d,(0,i._)("div",p,[(0,s.SU)(W)?((0,i.wg)(),(0,i.iD)("section",S,[(0,s.SU)(G)?((0,i.wg)(),(0,i.iD)("div",N,[(0,s.SU)(J)?((0,i.wg)(),(0,i.iD)("div",I,"Passwords not match.")):(0,i.kq)("",!0),(0,s.SU)(ee)?((0,i.wg)(),(0,i.iD)("div",B,j)):((0,i.wg)(),(0,i.iD)("div",T,[(0,i._)("div",q,[(0,i._)("div",H,[L,(0,i.wy)((0,i._)("input",{class:"input",type:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return(0,s.dq)(Q)?Q.value=e:Q=e})},null,512),[[o.nr,(0,s.SU)(Q)]])])]),(0,i._)("div",V,[(0,i._)("div",O,[E,(0,i.wy)((0,i._)("input",{class:"input",type:"password","onUpdate:modelValue":t[5]||(t[5]=function(e){return(0,s.dq)(X)?X.value=e:X=e})},null,512),[[o.nr,(0,s.SU)(X)]])])]),(0,i._)("div",Z,[(0,i._)("div",F,[(0,i._)("button",{class:"button",onClick:le,disabled:""==(0,s.SU)(Q)&&""==(0,s.SU)(X)},"Confirm",8,Y)])])]))])):((0,i.wg)(),(0,i.iD)("div",P,[(0,i._)("div",M,[(0,i._)("div",R,[z,(0,i.wy)((0,i._)("input",{class:"input",type:"number","onUpdate:modelValue":t[3]||(t[3]=function(e){return(0,s.dq)(K)?K.value=e:K=e})},null,512),[[o.nr,(0,s.SU)(K)]])])]),(0,i._)("div",{class:"field"},[(0,i._)("div",{class:"control"},[(0,i._)("button",{class:"button",onClick:oe},"Verify")])])]))])):((0,i.wg)(),(0,i.iD)("section",m,[f,(0,s.SU)(c)?((0,i.wg)(),(0,i.iD)("div",h,(0,r.zw)((0,s.SU)(c)),1)):(0,i.kq)("",!0),(0,s.SU)(te)?((0,i.wg)(),(0,i.iD)("div",v,"No account has been found linked with this email.")):(0,i.kq)("",!0),(0,s.SU)($)?((0,i.wg)(),(0,i.iD)("div",A,"You have to wait 10 minutes before requesting a code again. ")):((0,i.wg)(),(0,i.iD)("div",g,[(0,i._)("div",w,[(0,i._)("div",_,[b,(0,i.wy)((0,i._)("input",{class:"input",type:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,s.dq)(ae)?ae.value=e:ae=e})},null,512),[[o.nr,(0,s.SU)(ae)]])])]),(0,i._)("div",k,[(0,i._)("div",y,[x,(0,i.wy)((0,i._)("input",{class:"input",type:"email","onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,s.dq)(ie)?ie.value=e:ie=e})},null,512),[[o.nr,(0,s.SU)(ie)]])])]),(0,i._)("div",D,[(0,i._)("div",C,[(0,i._)("button",{class:(0,r.C_)(["button",{"is-loading":(0,s.SU)(n)}]),onClick:se,disabled:null==(0,s.SU)(ie)||null==(0,s.SU)(ae)},"Send OTP",10,U)])])]))]))]),(0,i._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[6]||(t[6]=function(e){return(0,s.dq)(u)?u.value=!1:u=!1})})],2)],64)}}},W=n(3744);const G=(0,W.Z)(K,[["__scopeId","data-v-cd2db4f2"]]);var Q=G}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var s=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,a,i,s){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],i=e[u][1],s=e[u][2];for(var o=!0,c=0;c<a.length;c++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(o=!1,s<r&&(r=s));if(o){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,i,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,s,r=a[0],o=a[1],c=a[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(c)var u=c(n)}for(t&&t(a);l<r.length;l++)s=r[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},a=self["webpackChunkclient"]=self["webpackChunkclient"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(4839)}));a=n.O(a)})();
//# sourceMappingURL=app-legacy.9b38689c.js.map