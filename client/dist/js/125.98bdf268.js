"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[125],{1199:function(i,t,s){s.d(t,{Z:function(){return wi}});var a=s(6252),e=s(3577),o=s(475);const l=i=>((0,a.dD)("data-v-74b627be"),i=i(),(0,a.Cn)(),i),n={class:"navbar",role:"navigation","aria-label":"main navigation"},c={class:"navbar-brand"},r=l((()=>(0,a._)("a",{class:"navbar-item",href:"/"},[(0,a._)("img",{src:o})],-1))),d=l((()=>(0,a._)("span",{"aria-hidden":"true"},null,-1))),p=l((()=>(0,a._)("span",{"aria-hidden":"true"},null,-1))),u=l((()=>(0,a._)("span",{"aria-hidden":"true"},null,-1))),h=[d,p,u],v={class:"navbar-start is-hidden-desktop"},m=l((()=>(0,a._)("a",{class:"navbar-item"},"About",-1))),g={key:0,class:"navbar-end"},_={key:0,class:"has-text-danger"},w={class:"fa-solid fa-bell animate__animated animate__heartBeat animate__infinite"},f={class:"is-size-7"},b={key:1,class:"has-text-info"},k=l((()=>(0,a._)("i",{class:"fa-solid fa-bell"},null,-1))),D=[k],y={key:0,class:"navbar-dropdown is-right notif-list"},C=["onClick"],$={class:"help"},z=["onClick"],A={key:1,class:"navbar-dropdown is-right"},N=l((()=>(0,a._)("div",{class:"navbar-item"},"No new notifications.",-1))),S=[N],x={key:0,class:"navbar-item is-hidden-mobile"},U={key:0,class:"image"},L=["src"],M={key:1,class:"image"},P=["src"],Z={class:"navbar-dropdown is-right"},I=(0,a.Uk)("Profile"),q=(0,a.Uk)("Security"),j=l((()=>(0,a._)("hr",{class:"navbar-divider"},null,-1))),B=l((()=>(0,a._)("strong",null,"Logout",-1))),H=[B],F=l((()=>(0,a._)("i",{class:"fa-solid fa-bars"},null,-1))),T=[F],Y={class:"navbar-dropdown is-right"},G=l((()=>(0,a._)("a",{class:"navbar-item"},"About",-1))),W={key:1,class:"navbar-end"},K={class:"navbar-item"},O={class:"buttons"},R=(0,a.Uk)("Log in"),V=l((()=>(0,a._)("strong",null,"Sign up",-1))),E=l((()=>(0,a._)("i",{class:"fa-solid fa-bars"},null,-1))),J=[E],Q={class:"navbar-dropdown is-right"},X=l((()=>(0,a._)("a",{class:"navbar-item"},"About",-1))),ii=l((()=>(0,a._)("div",{class:"modal-background"},null,-1))),ti={class:"modal-content box"},si={class:"section"},ai={class:"title"},ei={class:"subtitle"},oi={class:"subtitle"},li={key:0},ni={class:"image is-square"},ci=["src"],ri={class:"has-text-centered"},di=["href"];function pi(i,t,s,o,l,d){const p=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("nav",n,[(0,a._)("div",c,[r,(0,a._)("a",{role:"button",class:(0,e.C_)(["navbar-burger",{"is-active":l.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:t[0]||(t[0]=(...i)=>d.navbar&&d.navbar(...i))},h,2)]),(0,a._)("div",{id:"navbar",class:(0,e.C_)(["navbar-menu",{"is-active":l.isActive}])},[(0,a._)("div",v,[m,(0,a._)("a",{class:"navbar-item",onClick:t[1]||(t[1]=i=>this.$router.push("/contactus"))},"Contact Us")]),""!=l.patient?((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("div",{class:(0,e.C_)(["navbar-item has-dropdown",{"is-active":l.isActiveNotifications}])},[(0,a._)("a",{class:"navbar-link",onClick:t[2]||(t[2]=(...i)=>d.notification&&d.notification(...i))},[l.notifications.find((i=>!0===i.new))?((0,a.wg)(),(0,a.iD)("span",_,[(0,a._)("i",w,[(0,a._)("span",f,(0,e.zw)(l.notifications.filter((i=>i.new)).length),1)])])):((0,a.wg)(),(0,a.iD)("span",b,D))]),0!==l.notifications.length?((0,a.wg)(),(0,a.iD)("div",y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.notifications.sort(((i,t)=>new Date(t.date).getTime()-new Date(i.date).getTime())),((i,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"navbar-item",key:t},[(0,a._)("div",{class:(0,e.C_)(["notification is-info",{"is-light":!i.new}])},[(0,a._)("a",{style:{"text-decoration":"none"},onClick:s=>d.openNotif(i,t)},[(0,a.Uk)((0,e.zw)(i.subject)+" ",1),(0,a._)("p",$,(0,e.zw)("Med Search"==i.from?`From ${i.from}`:`From\n                                    Dr. ${i.from}`),1)],8,C),(0,a._)("button",{class:"delete",onClick:t=>d.deleteNotif(i)},null,8,z)],2)])))),128))])):((0,a.wg)(),(0,a.iD)("div",A,S))],2),(0,a._)("div",{class:(0,e.C_)(["navbar-item has-dropdown",{"is-active":l.isActiveProfileDropdown}]),onClick:t[4]||(t[4]=i=>l.isActiveProfileDropdown=!l.isActiveProfileDropdown)},[l.checkImgState?((0,a.wg)(),(0,a.iD)("a",x,[i.$store.state.checkProfileImg?((0,a.wg)(),(0,a.iD)("figure",U,[(0,a._)("img",{class:"is-rounded",src:`https://res.cloudinary.com/leindfraust/image/upload/v${(new Date).getMonth()}${(new Date).getDate()}/assets/patients/${i.$store.state.patientUsername}.jpg`},null,8,L)])):((0,a.wg)(),(0,a.iD)("figure",M,[(0,a._)("img",{class:"is-rounded",src:`https://ui-avatars.com/api/?name=${this.$store.state.patientUsername}`},null,8,P)]))])):(0,a.kq)("",!0),(0,a._)("div",Z,[(0,a.Wm)(p,{to:`/user/${l.patient}/profile`,class:"navbar-item"},{default:(0,a.w5)((()=>[I])),_:1},8,["to"]),(0,a.Wm)(p,{to:`/user/${l.patient}/security`,class:"navbar-item"},{default:(0,a.w5)((()=>[q])),_:1},8,["to"]),j,(0,a._)("a",{class:"navbar-item has-text-danger",onClick:t[3]||(t[3]=(...i)=>d.logout&&d.logout(...i))},H)])],2),(0,a._)("div",{class:(0,e.C_)(["navbar-item has-dropdown is-hidden-mobile",{"is-active":l.isActiveMenuDropdown}])},[(0,a._)("a",{class:"navbar-item",onClick:t[5]||(t[5]=i=>l.isActiveMenuDropdown=!l.isActiveMenuDropdown)},T),(0,a._)("div",Y,[G,(0,a._)("a",{class:"navbar-item",onClick:t[6]||(t[6]=i=>this.$router.push("/contactus"))},"Contact Us")])],2)])):((0,a.wg)(),(0,a.iD)("div",W,[(0,a._)("div",K,[(0,a._)("div",O,[(0,a.Wm)(p,{to:"/user/login",class:"button is-dark is-inverted",style:{"background-color":"transparent"}},{default:(0,a.w5)((()=>[R])),_:1}),(0,a.Wm)(p,{to:"/user/signup",class:"button is-info"},{default:(0,a.w5)((()=>[V])),_:1})])]),(0,a._)("div",{class:(0,e.C_)(["navbar-item has-dropdown is-hidden-mobile",{"is-active":l.isActiveMenuDropdown}])},[(0,a._)("a",{class:"navbar-item",onClick:t[7]||(t[7]=i=>l.isActiveMenuDropdown=!l.isActiveMenuDropdown)},J),(0,a._)("div",Q,[X,(0,a._)("a",{class:"navbar-item",onClick:t[8]||(t[8]=i=>this.$router.push("/contactus"))},"Contact Us")])],2)]))],2)]),(0,a._)("div",{class:(0,e.C_)(["modal",{"is-active":l.isActiveModal}])},[ii,(0,a._)("div",ti,[(0,a._)("section",si,[(0,a._)("p",ai,(0,e.zw)("Med Search"==l.viewNotif.from?`From ${l.viewNotif.from}`:`From\n                Dr. ${l.viewNotif.from}`),1),(0,a._)("p",ei,(0,e.zw)(new Date(l.viewNotif.date).toDateString()),1),(0,a._)("p",oi,(0,e.zw)(l.viewNotif.message),1),l.viewNotif.id?((0,a.wg)(),(0,a.iD)("div",li,[(0,a._)("figure",ni,[(0,a._)("img",{loading:"lazy",src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/patientCopy/${l.viewNotif.id}.jpg`},null,8,ci)]),(0,a._)("div",ri,[(0,a._)("a",{href:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/patientCopy/${l.viewNotif.id}.jpg`,class:"button",download:""},"Download File",8,di)])])):(0,a.kq)("",!0)])]),(0,a._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[9]||(t[9]=(...i)=>d.closeNotificationModal&&d.closeNotificationModal(...i))})],2)],64)}var ui=s(9669),hi=s.n(ui),vi=s(4058),mi={name:"NavigationTab",async mounted(){await hi().get(`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patients/${this.$store.state.patientUsername}.jpg`).then((i=>200==i.status?this.$store.commit("checkProfileImg",!0):this.$store.commit("checkProfileImg",!1))).catch((i=>i?this.$store.commit("checkProfileImg",!1):this.$store.commit("checkProfileImg",!0))),this.checkImgState=!0,this.$store.state.patientID&&(vi.Z.connect(),vi.Z.emit("join room",this.$store.state.patientID),vi.Z.on("send messages",(i=>{this.notifications=i})),vi.Z.on("delete messages",(i=>{this.notifications=i})),vi.Z.on("messages",(i=>{this.notifications=i})))},data(){return{isActiveNotifications:!1,isActiveModal:!1,isActiveProfileDropdown:!1,isActiveMenuDropdown:!1,isActive:!1,patient:this.$store.state.patientUsername,notifications:[],viewNotif:[],checkImgState:!1}},methods:{navbar(){this.isActive=!this.isActive},async logout(){await this.$store.commit("patientID",null),await this.$store.commit("patientUsername",""),await hi()["delete"]("/session/patient"),await this.$router.push("/user/login"),vi.Z.disconnect()},notification(){this.isActiveNotifications=!this.isActiveNotifications},async deleteNotif(i){await hi().post("/api/imgUploadImgMsgDeletePatient",{id:"assets/patientimgmsg/patientCopy/"+i.id}),vi.Z.emit("delete message",this.$store.state.patientID,i)},openNotif(i,t){this.viewNotif=i,this.isActiveModal=!0,this.viewNotif.new&&(this.notifications[t].new=!1,vi.Z.emit("update message",this.notifications))},closeNotificationModal(){this.isActiveModal=!1}}},gi=s(3744);const _i=(0,gi.Z)(mi,[["render",pi],["__scopeId","data-v-74b627be"]]);var wi=_i},1125:function(i,t,s){s.r(t),s.d(t,{default:function(){return zi}});var a=s(6252),e=s(3577),o=s(9963);const l=i=>((0,a.dD)("data-v-76ffb792"),i=i(),(0,a.Cn)(),i),n=l((()=>(0,a._)("div",{class:"block",style:{"box-shadow":"5px 5px 5px 5px whitesmoke"}},"Â ",-1))),c=l((()=>(0,a._)("div",{class:"modal-background"},null,-1))),r=l((()=>(0,a._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,a._)("div",{class:"loader",style:{margin:"auto"}})],-1))),d=[c,r],p={key:0,class:"section"},u={class:"columns"},h={class:"column",id:"hospital-overview",style:{"border-right":"3px solid whitesmoke"}},v={class:"container is-fluid"},m={class:"title"},g={class:"subtitle"},_={class:"subtitle is-6"},w={class:"content"},f=l((()=>(0,a._)("b",null,"Type of Facility:",-1))),b={key:0},k={class:"subtitle is-6"},D=l((()=>(0,a._)("b",null,"Contacts:",-1))),y=(0,a.Uk)(),C=l((()=>(0,a._)("br",null,null,-1))),$={class:"image is-16by9"},z=["src"],A={class:"column"},N={class:"container"},S={class:"block"},x={key:0,class:"block"},U=l((()=>(0,a._)("h1",{class:"title"},"Pick a specialist.",-1))),L={class:"subtitle"},M=(0,a.Uk)(" Having trouble picking a specialist? Get appointed to a "),P=(0,a.Uk)(". "),Z={key:1,class:"columns is-multiline is-mobile"},I=["onClick"],q={key:0,class:"image is-4by3"},j=["src"],B={key:1,class:"subtitle has-text-centered"},H={key:2,class:"container"},F=l((()=>(0,a._)("i",{class:"fa-solid fa-arrow-left"},null,-1))),T=(0,a.Uk)(" Back"),Y=[F,T],G={key:0},W=l((()=>(0,a._)("br",null,null,-1))),K=l((()=>(0,a._)("p",{class:"subtitle has-text-centered"},"No doctors are currently available in this specialization.",-1))),O=[W,K],R={key:1},V=l((()=>(0,a._)("br",null,null,-1))),E=l((()=>(0,a._)("h1",{class:"title is-3"},"Choose a doctor:",-1))),J={class:"field"},Q={class:"control"},X=l((()=>(0,a._)("br",null,null,-1))),ii={key:2},ti={key:0},si={class:"column"},ai={class:"image is-5by4"},ei=["src"],oi={class:"column is-5"},li={class:"content"},ni={class:"title is-5"},ci={class:"subtitle is-6"},ri={class:"has-text-weight-semibold"},di=l((()=>(0,a._)("br",null,null,-1))),pi={class:"subtitle is-6 has-text-info"},ui={class:"column",style:{"margin-top":"auto"}},hi={class:"has-text-right"},vi=["onClick"],mi=l((()=>(0,a._)("hr",null,null,-1))),gi={key:1},_i={key:0,class:"notification is-info"};function wi(i,t,s,l,c,r){const F=(0,a.up)("NavigationTab");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(F),n,(0,a._)("div",{class:(0,e.C_)(["modal",{"is-active":c.isDoctorLoading}])},d,2),0!==c.hospitalDetails.length?((0,a.wg)(),(0,a.iD)("section",p,[(0,a._)("div",u,[(0,a._)("div",h,[(0,a._)("div",v,[(0,a._)("h1",m,(0,e.zw)(c.hospitalDetails.hospital),1),(0,a._)("p",g,(0,e.zw)(c.hospitalDetails.barangayORStreet)+", "+(0,e.zw)(c.hospitalDetails.city)+", "+(0,e.zw)(c.hospitalDetails.province),1),(0,a._)("p",_,(0,e.zw)(c.hospitalDetails.details[0].description),1),(0,a._)("div",w,[f,(0,a.Uk)(" "+(0,e.zw)(c.hospitalDetails.type)+" ",1),"undefined"!==typeof c.hospitalDetails.details[0].contacts?((0,a.wg)(),(0,a.iD)("span",b,[(0,a._)("p",k,[D,y,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.hospitalDetails.details[0].contacts,((i,t)=>((0,a.wg)(),(0,a.iD)("span",{key:t},(0,e.zw)(i.contact+" "),1)))),128))])])):(0,a.kq)("",!0)]),C,(0,a._)("figure",$,[(0,a._)("iframe",{class:"has-ratio",src:`https://maps.google.com/maps?q=${c.hospitalDetails.location.coordinates[1]},${c.hospitalDetails.location.coordinates[0]}&hl=es;z=14&output=embed`},null,8,z)])])]),(0,a._)("div",A,[(0,a._)("div",N,[(0,a._)("div",S,[c.specializationClicked?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",x,[U,(0,a._)("p",L,[M,(0,a._)("a",{class:"has-text-link",onClick:t[0]||(t[0]=i=>r.getDoctors("General Practitioner"))},"General Practitioner"),P])])),c.specializationClicked?((0,a.wg)(),(0,a.iD)("div",H,[(0,a._)("a",{class:"subtitle has-text-link",onClick:t[1]||(t[1]=(...i)=>r.viewSpecializations&&r.viewSpecializations(...i))},Y),""==c.doctorList?((0,a.wg)(),(0,a.iD)("div",G,O)):((0,a.wg)(),(0,a.iD)("div",R,[V,E,(0,a._)("div",J,[(0,a._)("div",Q,[(0,a.wy)((0,a._)("input",{class:"input",type:"text","onUpdate:modelValue":t[2]||(t[2]=i=>c.doctorSearchBar=i),placeholder:"Search..."},null,512),[[o.nr,c.doctorSearchBar]])])])])),X,c.specializationClicked?((0,a.wg)(),(0,a.iD)("div",ii,[0!==Object.keys(r.doctorSearch).length?((0,a.wg)(),(0,a.iD)("div",ti,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.doctorSearch,(i=>((0,a.wg)(),(0,a.iD)("div",{class:"columns",key:i._id},[(0,a._)("div",si,[(0,a._)("figure",ai,[(0,a._)("img",{src:`http://res.cloudinary.com/leindfraust/image/upload/v1/assets/doctors/${i.alias}.jpg`},null,8,ei)])]),(0,a._)("div",oi,[(0,a._)("div",li,[(0,a._)("h1",ni,(0,e.zw)(i.name),1),(0,a._)("h3",ci,[(0,a._)("span",ri,(0,e.zw)(c.pickedSpecialist),1),di,(0,a._)("span",pi,"("+(0,e.zw)(null==i.visits?"0 visits":`${i.visits} visits`)+")",1)])])]),(0,a._)("div",ui,[(0,a._)("div",hi,[(0,a._)("button",{class:"button is-info is-rounded",onClick:t=>r.pickDoctor(i,c.pickedSpecialist)},"Book an Appointment",8,vi)])])])))),128)),mi])):((0,a.wg)(),(0,a.iD)("div",gi,[""!=c.doctorList?((0,a.wg)(),(0,a.iD)("div",_i,"No such doctor is available right now.")):(0,a.kq)("",!0)]))])):(0,a.kq)("",!0)])):((0,a.wg)(),(0,a.iD)("div",Z,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.specialistList,((i,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"column is-6-mobile is-4-desktop",key:t},[(0,a._)("a",{onClick:t=>r.getDoctors(i.specialist)},["General Practitioner"!==i.specialist?((0,a.wg)(),(0,a.iD)("figure",q,[(0,a._)("img",{src:`https://ui-avatars.com/api/?name=${i.specialist}`},null,8,j)])):(0,a.kq)("",!0),"General Practitioner"!==i.specialist?((0,a.wg)(),(0,a.iD)("p",B,(0,e.zw)(i.specialist),1)):(0,a.kq)("",!0)],8,I)])))),128))]))])])])])])):(0,a.kq)("",!0)],64)}var fi=s(9669),bi=s.n(fi),ki=s(4239),Di=s(1199),yi={name:"DoctorList",components:{NavigationTab:Di.Z},data(){return{hospitalDetails:[],patientDetails:null,doctorList:null,specialistList:[],pickedSpecialist:null,specializationClicked:!1,doctorSearchBar:"",isDoctorLoading:!1}},async mounted(){await bi().get("/session/patient").then((i=>this.patientDetails=i.data)),await bi().post(`/api/manager/${this.$route.params.hospital}`).then((i=>{this.hospitalDetails=i.data,this.specialistList=i.data.specializations.sort()})),this.$route.params.id!==this.patientDetails.username&&await this.$router.push(`/user/${this.$store.state.patientUsername}/${this.hospitalDetails._id}/doctors`)},computed:{doctorSearch(){return!!this.doctorList&&this.doctorList.filter((i=>i.name.toLowerCase().includes(this.doctorSearchBar.toLowerCase())))}},methods:{async getDoctors(i){this.doctorSearchBar="",this.isDoctorLoading=!0,this.specializationClicked=!0,this.pickedSpecialist=i,await bi().post("/api/checkDoctorAvailability",{hospital:this.hospitalDetails.hospital,specialist:i}).then((i=>this.doctorList=i?i.data.filter((i=>i.schedule.find((i=>new Date(i.date)>new Date&&i.hospital===this.hospitalDetails.hospital)))):"")).catch((i=>console.log(i))),this.isDoctorLoading=!1},viewSpecializations(){this.specializationClicked=!1},async pickDoctor(i,t){ki.Z.commit("pickedSpecialization",t),ki.Z.commit("doctorDetails",i),ki.Z.commit("statusAvailability",!0),ki.Z.commit("hospitalName",this.hospitalDetails.hospital),await this.$router.push(`/user/${this.patientDetails.username}/registration`)}}},Ci=s(3744);const $i=(0,Ci.Z)(yi,[["render",wi],["__scopeId","data-v-76ffb792"]]);var zi=$i},475:function(i,t,s){i.exports=s.p+"img/medi-search-horizontal.d15d9e4c.png"}}]);
//# sourceMappingURL=125.98bdf268.js.map