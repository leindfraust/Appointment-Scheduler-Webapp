(function(){"use strict";var t={5176:function(t,e,a){var s=a(9963),i=a(405),l=a(6252);function o(t,e,a,s,i,o){const n=(0,l.up)("router-view");return(0,l.wg)(),(0,l.j4)(n)}var n={name:"App"},c=a(3744);const r=(0,c.Z)(n,[["render",o]]);var d=r,u=a(3907),p=a(4702);const h=(0,u.MT)({plugins:[(0,p.Z)()],state:{notificationClicked:!1,accountCreated:!1,userAuth:!1,superUserAuth:!1,statusAvailability:!1,alias:"",doctorDetails:[],patientUsername:"",patientID:null,doctorID:null,appointed:null,specialistList:[],pickedSpecialization:null,patientDetails:[],profileImg:null,imgSuccess:!1,imgSuccessManager:!1,managerHospital:"",hospitalDetails:"",hospitalName:"",specializationList:["Allergists","Anesthesiologists","Cardiologists","Colon and Rectal Surgeons","Critical Care Medicine Specialists"," Dermatologists","Endocrinologists","Emergency Medicine Specialists","Family Physicians","Gastroenterologists","Geriatric Medicine Specialists","Hematologists","Hospice and Palliative Medicine Specialists","Infectious Disease Specialists","Internists","Medical Geneticists","Nephrologists","Neurologists","Obstetricians and Gynecologists","Oncologists","Ophthalmologists","Osteopaths","Otolaryngologists","Pathologists","Pediatricians","Physiatrists","Plastic Surgeons","Podiatrists","Preventive Medicine Specialists","Psychiatrists","Pulmonologists","Radiologists","Rheumatologists","Sleep Medicine Specialists","Sports Medicine Specialists","General Surgeons","Urologists"]},getters:{getStatusAvail:t=>t.statusAvailability,getSpecializationList:t=>t.specializationList},mutations:{notificationClicked(t,e){t.notificationClicked=e},accountCreated(t,e){t.accountCreated=e},alias(t,e){t.alias=e},doctorDetails(t,e){t.doctorDetails=e},patientUsername(t,e){t.patientUsername=e},doctorID(t,e){t.doctorID=e},patientID(t,e){t.patientID=e},appointed(t,e){t.appointed=e},statusTrue(t){t.statusAvailability=!0},specialistList(t,e){t.specialistList=e},pickedSpecialization(t,e){t.pickedSpecialization=e},patientDetails(t,e){t.patientDetails=e},profileImg(t,e){t.profileImg=e},imgSuccess(t,e){t.imgSuccess=e},imgSuccessManager(t,e){t.imgSuccessManager=e},userType(t,e){t.userType=e},superUserAuth(t,e){t.superUserAuth=e},managerHospital(t,e){t.managerHospital=e},hospitalDetails(t,e){t.hospitalDetails=e},hospitalName(t,e){t.hospitalName=e},statusAvailability(t,e){t.statusAvailability=e}}});var m=h,g=a(2201),v=a(3577);const w=t=>((0,l.dD)("data-v-685b1b22"),t=t(),(0,l.Cn)(),t),_={class:"hero is-fullheight"},b={class:"hero-body"},y={class:"container has-text-centered"},k={class:"container box",id:"covidAPI",style:{width:"70%"}},f=w((()=>(0,l._)("h1",{class:"title has-text-left"},"Latest COVID-19 Data",-1))),D=w((()=>(0,l._)("hr",null,null,-1))),C={class:"columns"},x={class:"column"},S=w((()=>(0,l._)("h4",{class:"title is-2"},"Worldwide 🌎",-1))),U={class:"container is-fluid has-text-left"},A={class:"subtitle"},P=w((()=>(0,l._)("b",null,"Total Active Cases:",-1))),M={class:"subtitle"},z=w((()=>(0,l._)("b",null,"Total Deaths:",-1))),I={class:"subtitle"},N=w((()=>(0,l._)("b",null,"Total Recoveries:",-1))),T={class:"column"},L=w((()=>(0,l._)("h4",{class:"title is-2"},"Philippines 🇵🇭",-1))),H={class:"container is-fluid has-text-left"},q={class:"subtitle"},V=w((()=>(0,l._)("b",null,"Total Active Cases:",-1))),O={class:"subtitle"},E=w((()=>(0,l._)("b",null,"Total Deaths:",-1))),F={class:"subtitle"},$=w((()=>(0,l._)("b",null,"Total Recoveries:",-1)));function R(t,e,a,s,i,o){const n=(0,l.up)("NavigationTabVue"),c=(0,l.up)("ProviderFinder");return(0,l.wg)(),(0,l.iD)("section",_,[(0,l.Wm)(n),(0,l._)("div",b,[(0,l._)("div",y,[(0,l.Wm)(c),(0,l._)("div",k,[f,D,(0,l._)("div",C,[(0,l._)("div",x,[S,(0,l._)("div",U,[(0,l._)("p",A,[P,(0,l.Uk)(" "+(0,v.zw)(i.covidAPIWorldWide.active)+"+ ",1)]),(0,l._)("p",M,[z,(0,l.Uk)(" "+(0,v.zw)(i.covidAPIWorldWide.deaths)+"+ ",1)]),(0,l._)("p",I,[N,(0,l.Uk)(" "+(0,v.zw)(i.covidAPIWorldWide.recovered)+"+ ",1)])])]),(0,l._)("div",T,[L,(0,l._)("div",H,[(0,l._)("p",q,[V,(0,l.Uk)(" "+(0,v.zw)(i.covidAPIPh.active)+"+ ",1)]),(0,l._)("p",O,[E,(0,l.Uk)(" "+(0,v.zw)(i.covidAPIPh.deaths)+"+ ",1)]),(0,l._)("p",F,[$,(0,l.Uk)(" "+(0,v.zw)(i.covidAPIPh.recovered)+"+ ",1)])])])])])])])])}a(6699);const B=t=>((0,l.dD)("data-v-dd87c7fc"),t=t(),(0,l.Cn)(),t),Y=B((()=>(0,l._)("h1",{class:"title"},"Find and make an appointment on hospitals or clinics ",-1))),j=B((()=>(0,l._)("div",{class:"modal-background"},null,-1))),W=B((()=>(0,l._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,l._)("div",{class:"loader",style:{margin:"auto"}})],-1))),K=[j,W],G={class:"container"},Z={class:"dropdown-trigger"},Q={class:"field"},X={class:"control"},J=["disabled"],tt={key:0,class:"notification is-light is-danger"},et=(0,l.Uk)(" location to start booking an "),at=B((()=>(0,l._)("b",null,"appointment",-1))),st=(0,l.Uk)(". "),it={class:"dropdown-menu"},lt={key:0,class:"dropdown-content has-text-left"},ot=["onClick"],nt={key:1,class:"dropdown-content has-text-left"},ct=B((()=>(0,l._)("p",{class:"dropdown-item has-text-danger"}," Region not found or supported, please try again. ",-1))),rt=[ct],dt=["disabled"],ut={key:0,class:"container block"},pt=B((()=>(0,l._)("br",null,null,-1))),ht={key:0,class:"block"},mt=B((()=>(0,l._)("div",{class:"notification box",id:"notification",style:{width:"50%",margin:"auto","background-color":"white"}},[(0,l.Uk)(" You must "),(0,l._)("a",{class:"has-text-success",href:"/user/login"},"login"),(0,l.Uk)(". or "),(0,l._)("a",{class:"has-text-danger",href:"/user/signup"},"create an account"),(0,l.Uk)(". to make an appointment. ")],-1))),gt=[mt],vt={class:"columns"},wt={class:"column is-2 has-text-left"},_t={class:"box"},bt=B((()=>(0,l._)("p",{class:"title is-5"},"Filter",-1))),yt={class:"field has-text-left"},kt={class:"control"},ft={class:"select"},Dt=B((()=>(0,l._)("option",{value:""},"Any",-1))),Ct=["value"],xt=B((()=>(0,l._)("hr",null,null,-1))),St=B((()=>(0,l._)("span",{style:{color:"#b5b5b5"}},"·",-1))),Ut=(0,l.Uk)("   All "),At=[St,Ut],Pt=B((()=>(0,l._)("span",{style:{color:"#b5b5b5"}},"·",-1))),Mt=(0,l.Uk)("   Public "),zt=[Pt,Mt],It=B((()=>(0,l._)("span",{style:{color:"#b5b5b5"}},"·",-1))),Nt=(0,l.Uk)("   Private "),Tt=[It,Nt],Lt=B((()=>(0,l._)("hr",null,null,-1))),Ht={class:"breadcrumb has-dot-separator","aria-label":"breadcrumbs"},qt=B((()=>(0,l._)("span",{style:{color:"#b5b5b5"}},"·",-1))),Vt=["onClick"],Ot={key:0,class:"column"},Et={class:"column is-5"},Ft={class:"image is-square"},$t=["src"],Rt={class:"column"},Bt={class:"title"},Yt={class:"subtitle"},jt=["src"],Wt=B((()=>(0,l._)("br",null,null,-1))),Kt=B((()=>(0,l._)("br",null,null,-1))),Gt=B((()=>(0,l._)("p",{class:"subtitle"},"Contacts:",-1))),Zt={key:0,class:"block"},Qt={class:"subtitle"},Xt={class:"subtitle"},Jt=["onClick"],te=(0,l.Uk)("Book an Appointment"),ee={key:1,class:"container box notification is-danger has-text-centered"};function ae(t,e,a,i,o,n){const c=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[Y,(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isHospitalLoading}])},K,2),(0,l._)("div",G,[(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdown}])},[(0,l._)("div",Z,[(0,l._)("div",Q,[(0,l._)("div",X,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.province=t),style:{width:"300px"},placeholder:"What region are you located?",onClick:e[1]||(e[1]=(...t)=>n.regionSelect&&n.regionSelect(...t)),disabled:o.locationPermissionDenied},null,8,J),[[s.nr,o.province]])]),o.locationPermissionDenied?((0,l.wg)(),(0,l.iD)("div",tt,[(0,l._)("a",{class:"has-text-success",onClick:e[2]||(e[2]=(...t)=>n.getUserLocation&&n.getUserLocation(...t))},"Enable"),et,at,st])):(0,l.kq)("",!0)]),(0,l._)("div",it,[0!==Object.keys(n.geolocationIndexed).length?((0,l.wg)(),(0,l.iD)("div",lt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.geolocationIndexed,(t=>((0,l.wg)(),(0,l.iD)("a",{class:"dropdown-item",key:t._id,onClick:e=>n.selectRegion(t.province)},(0,v.zw)(t.province),9,ot)))),128))])):((0,l.wg)(),(0,l.iD)("div",nt,rt))])]),(0,l._)("button",{class:"button",onClick:e[3]||(e[3]=(...t)=>n.loadProvider&&n.loadProvider(...t)),disabled:""==o.province},"Search",8,dt)],2)]),""!=o.citiesOrMunicipalities?((0,l.wg)(),(0,l.iD)("div",ut,[pt,0==this.checkUser?((0,l.wg)(),(0,l.iD)("div",ht,gt)):(0,l.kq)("",!0),(0,l._)("div",vt,[(0,l._)("div",wt,[(0,l._)("ul",_t,[bt,(0,l._)("div",yt,[(0,l._)("div",kt,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>o.hospital=t),style:{width:"300px"},placeholder:"Search Hospital..."},null,512),[[s.nr,o.hospital]])])]),(0,l._)("div",ft,[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.filterSpecialist=t)},[Dt,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specializations,(t=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:t},(0,v.zw)(t),9,Ct)))),128))],512),[[s.bM,o.filterSpecialist]])]),xt,(0,l._)("li",null,[(0,l._)("a",{onClick:e[6]||(e[6]=(...t)=>n.filterAll&&n.filterAll(...t))},At)]),(0,l._)("li",null,[(0,l._)("a",{onClick:e[7]||(e[7]=(...t)=>n.filterPublic&&n.filterPublic(...t))},zt)]),(0,l._)("li",null,[(0,l._)("a",{onClick:e[8]||(e[8]=(...t)=>n.filterPrivate&&n.filterPrivate(...t))},Tt)]),Lt,(0,l._)("nav",Ht,[(0,l._)("ul",null,[qt,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.citiesOrMunicipalities.citiesOrMunicipalities.sort(((t,e)=>t.name>e.name?1:-1)),((t,e)=>((0,l.wg)(),(0,l.iD)("li",{key:e},[(0,l._)("a",{onClick:e=>n.filterByCity(t.name)},(0,v.zw)(t.name),9,Vt)])))),128))])])])]),0!==o.geoHospitalNearestUser.length?((0,l.wg)(),(0,l.iD)("div",Ot,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.geoHospitalNearestUserIndexed.filter((t=>t.type==this.filter1||t.type==this.filter2)).filter((t=>t.city.includes(this.city))),(t=>((0,l.wg)(),(0,l.iD)("div",{class:"columns has-text-left box",id:"hospital",style:{"margin-bottom":"5%"},key:t._id},[(0,l._)("div",Et,[(0,l._)("figure",Ft,[(0,l._)("img",{loading:"lazy",src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/managers/${t.hospital}.jpg`},null,8,$t)])]),(0,l._)("div",Rt,[(0,l._)("h1",Bt,(0,v.zw)(t.hospital),1),(0,l._)("p",Yt,"📌 "+(0,v.zw)(t.barangayORStreet)+", "+(0,v.zw)(t.city)+", "+(0,v.zw)(t.province),1),(0,l._)("iframe",{loading:"lazy",width:"500",height:"300",id:"geoIframe",src:`https://maps.google.com/maps?q=${t.location.coordinates[1]},${t.location.coordinates[0]}&hl=es;z=14&output=embed`},null,8,jt),Wt,Kt,Gt,"undefined"!==typeof t.details[0].contacts?((0,l.wg)(),(0,l.iD)("ul",Zt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.details[0].contacts,((t,e)=>((0,l.wg)(),(0,l.iD)("li",{key:e},(0,v.zw)(t.contact),1)))),128))])):(0,l.kq)("",!0),(0,l._)("p",Qt,(0,v.zw)(parseInt(t.distance)/1e3)+" km away from you.",1),(0,l._)("p",Xt,"Formula test: "+(0,v.zw)(parseInt((t.engagements+Math.pow(t.ratings,2)/100)*t.distance)),1),o.checkUser?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"button is-link",onClick:e=>n.bookAppointment(t)},"Book an Appointment",8,Jt)):((0,l.wg)(),(0,l.j4)(c,{key:2,to:"/user/login",class:"button is-link"},{default:(0,l.w5)((()=>[te])),_:1}))])])))),128))])):o.isHospitalLoading?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",ee," Hospitals/Clinics unavailable. Coming soon... "))])])):(0,l.kq)("",!0)],64)}var se=a(9669),ie=a.n(se),le={name:"HospitalFinder",computed:{geolocationIndexed(){return this.geolocation.filter((t=>t.province.toLowerCase().includes(this.province.toLowerCase())))},geoHospitalNearestUserIndexed(){return!!this.geoHospitalNearestUser&&this.geoHospitalNearestUser.filter((t=>t.hospital.toLowerCase().includes(this.hospital.toLowerCase())))}},async created(){await ie().get("/api/geolocation").then((t=>this.geolocation=t.data)),this.getUserLocation()},async mounted(){null!==this.$store.state.patientID?this.checkUser=!0:this.checkUser=!1},data(){return{locationPermissionDenied:!1,city:"",isHospitalLoading:!1,checkUser:"",hospital:"",geolocation:[],filter1:"Private",filter2:"Public",citiesOrMunicipalities:[],province:"",userLatitude:"",userLongitude:"",isActiveDropdown:!1,geoHospitalNearestUser:"",specializations:this.$store.getters.getSpecializationList,filterSpecialist:""}},methods:{async bookAppointment(t){await this.$store.commit("hospitalDetails",t),await this.$router.push(`/user/${this.$store.state.patientUsername}/doctors`)},filterByCity(t){this.city=t,this.filter1="Private",this.filter2="Public"},filterAll(){this.city="",this.filter1="Private",this.filter2="Public"},filterPrivate(){this.city="",this.filter1="Private",this.filter2="Private"},filterPublic(){this.city="",this.filter1="Public",this.filter2="Public"},regionSelect(){this.locationPermissionDenied||(this.isActiveDropdown=!0)},selectRegion(t){this.province=t,this.isActiveDropdown=!1},async loadProvider(){this.isHospitalLoading=!0,this.citiesOrMunicipalities=this.geolocation.find((t=>t.province===this.province)),await ie().post("/api/geoFindHospitalNearestUser",{province:this.province,latitude:this.userLatitude,longitude:this.userLongitude}).then((t=>this.geoHospitalNearestUser=t.data)),this.isHospitalLoading=!1},getUserLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.geoUserPosition,this.geoUserPositionError):alert("Geolocation is not supported by this browser")},geoUserPosition(t){this.userLatitude=t.coords.latitude,this.userLongitude=t.coords.longitude},geoUserPositionError(t){switch(t.code){case t.PERMISSION_DENIED:this.locationPermissionDenied=!0;break;case t.POSITION_UNAVAILABLE:alert("Unable to obtain Geolocation information.");break;case t.TIMEOUT:alert("Request timed out.");break;case t.UNKNOWN_ERROR:alert("An unknown error occured, please try again.");break}}}};const oe=(0,c.Z)(le,[["render",ae],["__scopeId","data-v-dd87c7fc"]]);var ne=oe;const ce=t=>((0,l.dD)("data-v-5fb64e4c"),t=t(),(0,l.Cn)(),t),re={class:"navbar",role:"navigation","aria-label":"main navigation"},de={class:"navbar-brand"},ue=ce((()=>(0,l._)("a",{class:"navbar-item",href:"/"},[(0,l._)("img",{src:"https://bulma.io/images/bulma-logo.png",width:"112"})],-1))),pe=ce((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),he=ce((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),me=ce((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),ge=[pe,he,me],ve={class:"navbar-start"},we=ce((()=>(0,l._)("a",{class:"navbar-item"},"About",-1))),_e={key:0,class:"navbar-end"},be={key:0,class:"has-text-danger"},ye={class:"fa-solid fa-bell animate__animated animate__heartBeat animate__infinite"},ke={class:"is-size-7"},fe={key:1,class:"has-text-info"},De=ce((()=>(0,l._)("i",{class:"fa-solid fa-bell"},null,-1))),Ce=[De],xe={key:0,class:"navbar-dropdown is-right notif-list"},Se=["onClick"],Ue={class:"help"},Ae=["onClick"],Pe={key:1,class:"navbar-dropdown is-right"},Me=ce((()=>(0,l._)("div",{class:"navbar-item"},"No new notifications.",-1))),ze=[Me],Ie={class:"navbar-link"},Ne=["src"],Te={class:"navbar-dropdown"},Le=(0,l.Uk)("Profile"),He=(0,l.Uk)("Security"),qe=ce((()=>(0,l._)("hr",{class:"navbar-divider"},null,-1))),Ve=ce((()=>(0,l._)("strong",null,"Logout",-1))),Oe=[Ve],Ee={key:1,class:"navbar-end"},Fe={class:"navbar-item"},$e={class:"buttons"},Re=(0,l.Uk)("Log in"),Be=ce((()=>(0,l._)("strong",null,"Sign up",-1))),Ye=ce((()=>(0,l._)("div",{class:"modal-background"},null,-1))),je={class:"modal-content box"},We={class:"section"},Ke={class:"title"},Ge={class:"subtitle"},Ze={class:"subtitle"},Qe={key:0},Xe={class:"image is-square"},Je=["src"],ta={class:"has-text-centered"},ea=["href"];function aa(t,e,a,s,i,o){const n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("nav",re,[(0,l._)("div",de,[ue,(0,l._)("a",{role:"button",class:(0,v.C_)(["navbar-burger",{"is-active":i.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:e[0]||(e[0]=(...t)=>o.navbar&&o.navbar(...t))},ge,2)]),(0,l._)("div",{id:"navbar",class:(0,v.C_)(["navbar-menu",{"is-active":i.isActive}])},[(0,l._)("div",ve,[we,(0,l._)("a",{class:"navbar-item",onClick:e[1]||(e[1]=t=>this.$router.push("/contactus"))},"Contact Us")]),""!=i.patient?((0,l.wg)(),(0,l.iD)("div",_e,[(0,l._)("div",{class:(0,v.C_)(["navbar-item has-dropdown",{"is-active":i.isActiveNotifications}])},[(0,l._)("a",{class:"navbar-link",onClick:e[2]||(e[2]=(...t)=>o.notification&&o.notification(...t))},[i.notifications.find((t=>!0===t.new))?((0,l.wg)(),(0,l.iD)("span",be,[(0,l._)("i",ye,[(0,l._)("span",ke,(0,v.zw)(i.notifications.filter((t=>t.new)).length),1)])])):((0,l.wg)(),(0,l.iD)("span",fe,Ce))]),0!==i.notifications.length?((0,l.wg)(),(0,l.iD)("div",xe,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.notifications.sort(((t,e)=>new Date(e.date).getTime()-new Date(t.date).getTime())),((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"navbar-item",key:e},[(0,l._)("div",{class:(0,v.C_)(["notification is-info",{"is-light":!t.new}])},[(0,l._)("a",{style:{"text-decoration":"none"},onClick:a=>o.openNotif(t,e)},[(0,l.Uk)((0,v.zw)(t.subject)+" ",1),(0,l._)("p",Ue,(0,v.zw)("Med Search"==t.from?`From ${t.from}`:`From\n                                                                            Dr. ${t.from}`),1)],8,Se),(0,l._)("button",{class:"delete",onClick:e=>o.deleteNotif(t)},null,8,Ae)],2)])))),128))])):((0,l.wg)(),(0,l.iD)("div",Pe,ze))],2),(0,l._)("div",{class:(0,v.C_)(["navbar-item has-dropdown",{"is-active":i.isActiveMenuDropdown}]),onClick:e[4]||(e[4]=t=>i.isActiveMenuDropdown=!i.isActiveMenuDropdown)},[(0,l._)("a",Ie,[(0,l._)("img",{src:i.imgPreUrl+i.patient+i.svgExtUrl},null,8,Ne),(0,l.Uk)(" "+(0,v.zw)(i.patient),1)]),(0,l._)("div",Te,[(0,l.Wm)(n,{to:`/user/${i.patient}/profile`,class:"navbar-item"},{default:(0,l.w5)((()=>[Le])),_:1},8,["to"]),(0,l.Wm)(n,{to:`/user/${i.patient}/security`,class:"navbar-item"},{default:(0,l.w5)((()=>[He])),_:1},8,["to"]),qe,(0,l._)("a",{class:"navbar-item has-text-danger",onClick:e[3]||(e[3]=(...t)=>o.logout&&o.logout(...t))},Oe)])],2)])):((0,l.wg)(),(0,l.iD)("div",Ee,[(0,l._)("div",Fe,[(0,l._)("div",$e,[(0,l.Wm)(n,{to:"/user/login",class:"button is-light"},{default:(0,l.w5)((()=>[Re])),_:1}),(0,l.Wm)(n,{to:"/user/signup",class:"button is-primary"},{default:(0,l.w5)((()=>[Be])),_:1})])])]))],2)]),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":i.isActiveModal}])},[Ye,(0,l._)("div",je,[(0,l._)("section",We,[(0,l._)("p",Ke,(0,v.zw)("Med Search"==i.viewNotif.from?`From ${i.viewNotif.from}`:`From\n                                    Dr. ${i.viewNotif.from}`),1),(0,l._)("p",Ge,(0,v.zw)(new Date(i.viewNotif.date).toDateString()),1),(0,l._)("p",Ze,(0,v.zw)(i.viewNotif.message),1),i.viewNotif.id?((0,l.wg)(),(0,l.iD)("div",Qe,[(0,l._)("figure",Xe,[(0,l._)("img",{loading:"lazy",src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/patientCopy/${i.viewNotif.id}.jpg`},null,8,Je)]),(0,l._)("div",ta,[(0,l._)("a",{href:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/patientCopy/${i.viewNotif.id}.jpg`,class:"button",download:""},"Download File",8,ea)])])):(0,l.kq)("",!0)])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:e[5]||(e[5]=(...t)=>o.closeNotificationModal&&o.closeNotificationModal(...t))})],2)],64)}var sa=a(9367);const ia=(0,sa.io)({autoConnect:!1});var la=ia,oa={name:"NavigationTab",mounted(){this.$store.state.patientID&&(la.connect(),la.emit("join room",this.$store.state.patientID),la.on("send messages",(t=>{this.notifications=t})),la.on("delete messages",(t=>{this.notifications=t})),la.on("messages",(t=>{this.notifications=t})))},data(){return{isActiveNotifications:!1,isActiveModal:!1,isActiveMenuDropdown:!1,isActive:!1,patient:this.$store.state.patientUsername,imgPreUrl:"https://avatars.dicebear.com/api/micah/",svgExtUrl:".svg",notifications:[],viewNotif:[]}},methods:{navbar(){this.isActive=!this.isActive},async logout(){await this.$store.commit("patientID",null),await this.$store.commit("patientUsername",""),await ie()["delete"]("/session/patient"),await this.$router.push("/user/login"),la.disconnect()},notification(){this.isActiveNotifications=!this.isActiveNotifications},async deleteNotif(t){await ie().post("/api/imgUploadImgMsgDeletePatient",{id:"assets/patientimgmsg/patientCopy/"+t.id}),la.emit("delete message",this.$store.state.patientID,t)},openNotif(t,e){this.viewNotif=t,this.isActiveModal=!0,this.viewNotif.new&&(this.notifications[e].new=!1,la.emit("update message",this.notifications))},closeNotificationModal(){this.isActiveModal=!1}}};const na=(0,c.Z)(oa,[["render",aa],["__scopeId","data-v-5fb64e4c"]]);var ca=na,ra={name:"HomePage",components:{NavigationTabVue:ca,ProviderFinder:ne},data(){return{userPatient:null,covidAPIPh:[],covidAPIWorldWide:[]}},async mounted(){await ie().get("https://disease.sh/v3/covid-19/countries/philippines").then((t=>this.covidAPIPh=t.data)),await ie().get("https://disease.sh/v3/covid-19/all").then((t=>this.covidAPIWorldWide=t.data))}};const da=(0,c.Z)(ra,[["render",R],["__scopeId","data-v-685b1b22"]]);var ua=da;const pa=t=>((0,l.dD)("data-v-b9afc90c"),t=t(),(0,l.Cn)(),t),ha=pa((()=>(0,l._)("div",{class:"modal-background"},null,-1))),ma=pa((()=>(0,l._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,l._)("div",{class:"loader",style:{margin:"auto"}})],-1))),ga=[ha,ma],va={class:"section"},wa={class:"columns"},_a={class:"column"},ba={key:0,class:"container box"},ya={class:"title"},ka={class:"subtitle"},fa={class:"subtitle is-6"},Da={class:"image is-16by9"},Ca=["src"],xa=pa((()=>(0,l._)("br",null,null,-1))),Sa={class:"columns"},Ua={class:"column"},Aa=["src"],Pa={class:"column"},Ma=pa((()=>(0,l._)("p",{class:"subtitle"},"Contacts:",-1))),za={key:0,class:"block"},Ia={class:"column"},Na={class:"box container"},Ta={class:"block"},La=pa((()=>(0,l._)("h1",{class:"title"},"Pick a specialist.",-1))),Ha={key:0,class:"subtitle"},qa=(0,l.Uk)(" Having trouble picking a specialist? Get appointed to a "),Va=(0,l.Uk)(". "),Oa={key:1,class:"columns is-multiline is-mobile"},Ea=["onClick"],Fa={key:0,class:"image is-4by3"},$a=["src"],Ra={key:1,class:"subtitle has-text-centered"},Ba={key:2,class:"container"},Ya={key:0},ja=pa((()=>(0,l._)("br",null,null,-1))),Wa=pa((()=>(0,l._)("p",{class:"subtitle has-text-centered"},"No doctors are currently available in this specialization.",-1))),Ka=[ja,Wa],Ga={key:1},Za=pa((()=>(0,l._)("br",null,null,-1))),Qa=pa((()=>(0,l._)("h1",{class:"title is-3"},"Choose a doctor:",-1))),Xa={class:"field"},Ja={class:"control"},ts={key:2},es={key:0},as={class:"media"},ss={class:"media-left"},is={class:"image is-64x64"},ls=["src"],os={class:"media-content"},ns={class:"title is-4"},cs={class:"subtitle is-6"},rs=["onClick"],ds={key:1},us={key:0,class:"notification is-info"};function ps(t,e,a,i,o,n){const c=(0,l.up)("NavigationTab");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isDoctorLoading}])},ga,2),(0,l._)("section",va,[(0,l._)("div",wa,[(0,l._)("div",_a,[o.hospitalDetails?((0,l.wg)(),(0,l.iD)("div",ba,[(0,l._)("h1",ya,(0,v.zw)(o.hospitalDetails.hospital),1),(0,l._)("p",ka,"📌 "+(0,v.zw)(o.hospitalDetails.barangayORStreet)+", "+(0,v.zw)(o.hospitalDetails.city)+", "+(0,v.zw)(o.hospitalDetails.province),1),(0,l._)("p",fa,(0,v.zw)(o.hospitalDetails.details[0].description),1),(0,l._)("figure",Da,[(0,l._)("img",{src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/managers/${o.hospitalDetails.hospital}.jpg`},null,8,Ca)]),xa,(0,l._)("div",Sa,[(0,l._)("div",Ua,[(0,l._)("iframe",{src:`https://maps.google.com/maps?q=${o.hospitalDetails.location.coordinates[1]},${o.hospitalDetails.location.coordinates[0]}&hl=es;z=14&output=embed`},null,8,Aa)]),(0,l._)("div",Pa,[Ma,"undefined"!==typeof o.hospitalDetails.details[0].contacts?((0,l.wg)(),(0,l.iD)("ul",za,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.hospitalDetails.details[0].contacts,(t=>((0,l.wg)(),(0,l.iD)("li",{key:t.contact},(0,v.zw)(t.contact),1)))),128))])):(0,l.kq)("",!0)])])])):(0,l.kq)("",!0)]),(0,l._)("div",Ia,[(0,l._)("div",Na,[(0,l._)("div",Ta,[La,o.specializationClicked?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("p",Ha,[qa,(0,l._)("a",{class:"has-text-link",onClick:e[0]||(e[0]=t=>n.getDoctors("General Practitioner"))},"General Practitioner"),Va])),o.specializationClicked?((0,l.wg)(),(0,l.iD)("div",Ba,[(0,l._)("button",{class:"button",onClick:e[1]||(e[1]=(...t)=>n.viewSpecializations&&n.viewSpecializations(...t))},"⬅️ Specializations"),""==o.doctorList?((0,l.wg)(),(0,l.iD)("div",Ya,Ka)):((0,l.wg)(),(0,l.iD)("div",Ga,[Za,Qa,(0,l._)("div",Xa,[(0,l._)("div",Ja,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.doctorSearchBar=t),placeholder:"Search..."},null,512),[[s.nr,o.doctorSearchBar]])])])])),o.specializationClicked?((0,l.wg)(),(0,l.iD)("div",ts,[0!==Object.keys(n.doctorSearch).length?((0,l.wg)(),(0,l.iD)("div",es,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.doctorSearch,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"card-content",key:t._id},[(0,l._)("div",as,[(0,l._)("figure",ss,[(0,l._)("p",is,[(0,l._)("img",{src:`http://res.cloudinary.com/leindfraust/image/upload/v1/assets/doctors/${t.alias}.jpg`},null,8,ls)])]),(0,l._)("div",os,[(0,l._)("p",ns,(0,v.zw)(t.name),1),(0,l._)("p",cs,(0,v.zw)(o.pickedSpecialist),1),(0,l._)("button",{class:"button",onClick:e=>n.pickDoctor(t,o.pickedSpecialist)},"Appoint",8,rs)])])])))),128))])):((0,l.wg)(),(0,l.iD)("div",ds,[""!=o.doctorList?((0,l.wg)(),(0,l.iD)("div",us,"No such doctor is available right now.")):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("div",Oa,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specialistList,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"column is-4",key:e},[(0,l._)("a",{onClick:e=>n.getDoctors(t.specialist)},["General Practitioner"!==t.specialist?((0,l.wg)(),(0,l.iD)("figure",Fa,[(0,l._)("img",{src:`https://ui-avatars.com/api/?name=${t.specialist}`},null,8,$a)])):(0,l.kq)("",!0),"General Practitioner"!==t.specialist?((0,l.wg)(),(0,l.iD)("p",Ra,(0,v.zw)(t.specialist),1)):(0,l.kq)("",!0)],8,Ea)])))),128))]))])])])])])],64)}var hs={name:"DoctorList",components:{NavigationTab:ca},data(){return{hospitalDetails:this.$store.state.hospitalDetails,patientDetails:null,doctorList:null,specialistList:this.$store.state.hospitalDetails.specializations.sort(),pickedSpecialist:null,specializationClicked:!1,doctorSearchBar:"",isDoctorLoading:!1}},async mounted(){await ie().get("/session/patient").then((t=>this.patientDetails=t.data))},computed:{doctorSearch(){return!!this.doctorList&&this.doctorList.filter((t=>t.name.toLowerCase().includes(this.doctorSearchBar.toLowerCase())))}},methods:{async getDoctors(t){this.doctorSearchBar="",this.isDoctorLoading=!0,this.specializationClicked=!0,this.pickedSpecialist=t,await ie().post("/api/checkDoctorAvailability",{hospital:this.hospitalDetails.hospital,specialist:t}).then((t=>this.doctorList=t?t.data.filter((t=>t.schedule.find((t=>new Date(t.date).getTime()>(new Date).getTime()&&t.hospital===this.hospitalDetails.hospital)))):"")).catch((t=>console.log(t))),this.isDoctorLoading=!1},viewSpecializations(){this.specializationClicked=!1},async pickDoctor(t,e){m.commit("pickedSpecialization",e),m.commit("doctorDetails",t),m.commit("statusAvailability",!0),m.commit("hospitalName",this.hospitalDetails.hospital),await this.$router.push(`/user/${this.patientDetails.username}/registration`)}}};const ms=(0,c.Z)(hs,[["render",ps],["__scopeId","data-v-b9afc90c"]]);var gs=ms;const vs=t=>((0,l.dD)("data-v-e2b209de"),t=t(),(0,l.Cn)(),t),ws={class:"section",style:{"background-color":"whitesmoke"}},_s=vs((()=>(0,l._)("div",{class:"modal-background"},null,-1))),bs=vs((()=>(0,l._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,l._)("div",{class:"loader",style:{margin:"auto"}})],-1))),ys=[_s,bs],ks={key:0,class:"notification is-danger"},fs=(0,l.Uk)("Something went wrong, please try again later or "),Ds=vs((()=>(0,l._)("a",{href:"/contactus"},"Contact us",-1))),Cs=[fs,Ds],xs={class:"container"},Ss={class:"tabs is-centered"},Us=vs((()=>(0,l._)("a",{style:{"pointer-events":"none"}},"Basic Details",-1))),As=[Us],Ps=vs((()=>(0,l._)("a",{style:{"pointer-events":"none"}},"Schedules",-1))),Ms=[Ps],zs={class:"section animate__animated animate__fadeInLeft",style:{width:"40%",margin:"auto","background-color":"white","border-radius":"5px","box-shadow":"5px 10px rgb(221, 221, 221)"}},Is={class:"field"},Ns={key:0},Ts=vs((()=>(0,l._)("div",{class:"has-text-danger"},"All fields are required.*",-1))),Ls=vs((()=>(0,l._)("label",{class:"label"},"First name",-1))),Hs={class:"control"},qs=["value"],Vs=vs((()=>(0,l._)("label",{class:"label"},"Last Name",-1))),Os={class:"control"},Es=vs((()=>(0,l._)("label",{class:"label"},"Contact Number:",-1))),Fs={class:"block control"},$s=vs((()=>(0,l._)("label",{class:"label"},"What are you feeling?",-1))),Rs=vs((()=>(0,l._)("label",{class:"label"},"Birthday",-1))),Bs={class:"control"},Ys={class:"is-block"},js=["onClick"],Ws=["value"],Ks={class:"block control"},Gs=vs((()=>(0,l._)("label",{class:"label"},"Current Address",-1))),Zs=["value"],Qs=vs((()=>(0,l._)("br",null,null,-1))),Xs={class:"block has-text-centered"},Js=["disabled"],ti=vs((()=>(0,l._)("br",null,null,-1))),ei={key:0},ai={class:"field"},si=vs((()=>(0,l._)("h1",{class:"subtitle has-text-black has-text-weight-bold"},"Pick your preferred schedule: ",-1))),ii=vs((()=>(0,l._)("hr",null,null,-1))),li={class:"controls"},oi={class:"radio"},ni=["onClick"],ci={class:"subtitle has-text-black"},ri=vs((()=>(0,l._)("br",null,null,-1))),di={class:"has-text-black"},ui={style:{"pointer-events":"none"},class:"button statusSched"},pi={key:0,class:"has-text-success"},hi={key:1,class:"has-text-danger"},mi=vs((()=>(0,l._)("br",null,null,-1))),gi=vs((()=>(0,l._)("br",null,null,-1))),vi=vs((()=>(0,l._)("br",null,null,-1))),wi={class:"block has-text-centered"},_i=["disabled"];function bi(t,e,a,i,o,n){const c=(0,l.up)("NavigationTab"),r=(0,l.up)("v-date-picker");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c),(0,l._)("section",ws,[(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isLoading}])},ys,2),o.errMsg?((0,l.wg)(),(0,l.iD)("div",ks,Cs)):(0,l.kq)("",!0),(0,l._)("div",xs,[(0,l._)("div",Ss,[(0,l._)("ul",null,[(0,l._)("li",{class:(0,v.C_)({"is-active":o.isActiveTabOne})},As,2),(0,l._)("li",{class:(0,v.C_)({"is-active":o.isActiveTabTwo})},Ms,2)])]),(0,l._)("section",zs,[(0,l._)("form",Is,[o.basicDetailsDone?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Ns,[Ts,Ls,(0,l._)("div",Hs,[(0,l._)("input",{class:"input",type:"text",value:o.firstName,placeholder:"First Name",required:""},null,8,qs)]),Vs,(0,l._)("div",Os,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.lastName=t),placeholder:"Last Name",required:""},null,512),[[s.nr,o.lastName]])]),Es,(0,l._)("div",Fs,[(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>o.contactNum=t),placeholder:"Contact Number",required:""},null,512),[[s.nr,o.contactNum]])]),$s,(0,l.wy)((0,l._)("textarea",{class:"textarea","onUpdate:modelValue":e[2]||(e[2]=t=>o.comments=t),placeholder:"Your symptoms, general well being etc...",required:""},null,512),[[s.nr,o.comments]]),Rs,(0,l._)("div",Bs,[(0,l.Wm)(r,{class:"block",modelValue:o.birthDay,"onUpdate:modelValue":e[3]||(e[3]=t=>o.birthDay=t)},{default:(0,l.w5)((({inputValue:t,togglePopover:e})=>[(0,l._)("div",Ys,[(0,l._)("a",{style:{margin:"auto"},onClick:t=>e()},[(0,l._)("input",{style:{cursor:"pointer"},value:t,class:"input",readonly:""},null,8,Ws)],8,js)])])),_:1},8,["modelValue"])]),(0,l._)("div",Ks,[Gs,(0,l._)("input",{class:"input",type:"text",value:o.currentAddress},null,8,Zs)]),Qs,(0,l._)("div",Xs,[(0,l._)("button",{type:"button",class:"button is-success",disabled:""==o.firstName||""==o.lastName||null==o.birthDay||""==o.contactNum||""==o.comments||""==o.currentAddress,onClick:e[4]||(e[4]=(...t)=>n.proceedSched&&n.proceedSched(...t))},"Proceed",8,Js)])]))]),ti,o.basicDetailsDone?((0,l.wg)(),(0,l.iD)("div",ei,[(0,l._)("form",ai,[si,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.doctorSched.filter((t=>new Date(t.date).getTime()>(new Date).getTime()&&t.hospital===o.hospital)).sort(((t,e)=>new Date(t.date).getTime()-new Date(e.date).getTime())),((t,e)=>((0,l.wg)(),(0,l.iD)("div",{key:t.id,style:{width:"75%",margin:"auto"}},[ii,(0,l._)("div",li,[(0,l._)("label",oi,[(0,l._)("input",{type:"radio",class:"radioSched",name:"schedule",onClick:a=>n.pickSched(e,t,t.prefix)},null,8,ni),(0,l._)("span",ci,(0,v.zw)(new Date(t.date).toDateString()),1),ri,(0,l._)("span",di,(0,v.zw)(t.timeStart)+" - "+(0,v.zw)(t.timeEnd),1)]),(0,l._)("a",ui,[o.schedAvailability?((0,l.wg)(),(0,l.iD)("span",pi,"Available")):((0,l.wg)(),(0,l.iD)("span",hi,"Unavailable"))])]),mi])))),128)),gi,vi,(0,l._)("div",wi,[(0,l._)("span",null,[(0,l._)("button",{class:"button is-danger",type:"button",style:{"margin-right":"5%"},onClick:e[5]||(e[5]=(...t)=>n.goBack&&n.goBack(...t))},"Go Back"),(0,l._)("button",{type:"button",class:"button is-primary",disabled:null==o.schedule,onClick:e[6]||(e[6]=(...t)=>n.appoint&&n.appoint(...t))},"Submit appointment",8,_i)])])])])):(0,l.kq)("",!0)])])])],64)}var yi={name:"RegForm",components:{NavigationTab:ca},data(){return{checkPatientRecord:null,patient:null,doctorSched:m.state.doctorDetails.schedule,firstName:null,lastName:null,birthDay:null,comments:null,contactNum:null,schedule:null,currentAddress:null,priorityNum:null,patientsAppointed:null,doctorDetails:m.state.doctorDetails,pickedSpecialization:m.state.pickedSpecialization,basicDetailsDone:!1,isActiveTabOne:!0,isActiveTabTwo:!1,isLoading:!1,schedAvailability:!1,radioIndex:null,prefix:null,hospital:m.state.hospitalName,refID:null,errMsg:!1}},async mounted(){await ie().get("/session/patient").then((t=>this.patient=t.data)),this.firstName=await this.patient.name[0],this.lastName=await this.patient.name[1],this.checkPatientRecord=await this.doctorDetails.patients.find((t=>t.patient===this.patient._id)),this.currentAddress=await this.patient.currentAddress},methods:{async appoint(){this.isLoading=!0;let t=document.getElementsByClassName("radioSched"),e=document.getElementsByClassName("statusSched");if(await ie().get("/api/appointmentList").then((t=>this.patientsAppointed=t.data.filter((t=>t.schedule[0].date===this.schedule.date&&t.doctorID==this.doctorDetails._id)).length)),await this.patientsAppointed<this.schedule.appointmentLimit)if(await ie().get("/api/appointmentList").then((t=>this.priorityNum=t.data.filter((t=>t.schedule[0].date===this.schedule.date&&t.doctorID==this.doctorDetails._id)).length+1)),"undefined"!==typeof this.checkPatientRecord&&this.checkPatientRecord)try{this.generateRefID(),await ie().post("/api/appointmentList",{referenceID:this.refID,hospital:this.hospital,doctorID:this.doctorDetails._id,doctorName:this.doctorDetails.name,doctorSpecialization:this.pickedSpecialization,patientID:this.patient._id,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum});let t={referenceID:this.refID,hospital:this.hospital,doctor:this.doctorDetails.name,specialization:this.pickedSpecialization,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum};this.isLoading=!1,m.commit("patientDetails",t),m.commit("appointed",!0),await this.$router.push("/success").catch((t=>console.log(t)))}catch(a){this.errMsg=a}else try{this.generateRefID(),await ie().post("/api/patientUpdate",{doctorID:this.doctorDetails._id,patientID:this.patient._id,patientFullName:this.firstName+" "+this.lastName}),await ie().post("/api/appointmentList",{referenceID:this.refID,hospital:this.hospital,doctorID:this.doctorDetails._id,doctorName:this.doctorDetails.name,doctorSpecialization:this.pickedSpecialization,patientID:this.patient._id,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum});let t={referenceID:this.refID,hospital:this.hospital,doctor:this.doctorDetails.name,specialization:this.pickedSpecialization,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum};m.commit("patientDetails",t),m.commit("appointed",!0),await this.$router.push("/success").catch((t=>console.log(t)))}catch(a){this.errMsg=a}else this.isLoading=!1,this.schedAvailability=!1,this.schedule=null,t[this.radioIndex].checked=!1,t[this.radioIndex].disabled=!0,e[this.radioIndex].style.display="block"},proceedSched(){this.isActiveTabOne=!1,this.isActiveTabTwo=!0,this.basicDetailsDone=!0},goBack(){this.isActiveTabOne=!0,this.isActiveTabTwo=!1,this.basicDetailsDone=!1},async pickSched(t,e,a){this.radioIndex=t,this.isLoading=!0;let s=document.getElementsByClassName("radioSched"),i=document.getElementsByClassName("statusSched");for(let l=0;l<i.length;l++)i[l].style.display="none";this.schedule=await e,await ie().get("/api/appointmentList").then((t=>this.patientsAppointed=t.data.filter((t=>t.schedule[0].date===this.schedule.date&&t.doctorID==this.doctorDetails._id)).length)),await this.patientsAppointed<this.schedule.appointmentLimit?(this.isLoading=!1,this.schedAvailability=!0,this.prefix=a,i[t].style.display="block"):(this.isLoading=!1,this.schedAvailability=!1,this.schedule=null,s[t].checked=!1,s[t].disabled=!0,i[t].style.display="block")},generateRefID(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=e.length;for(let s=0;s<12;s++)t+=e.charAt(Math.floor(Math.random()*a));this.refID=t.toUpperCase()}}};const ki=(0,c.Z)(yi,[["render",bi],["__scopeId","data-v-e2b209de"]]);var fi=ki;const Di=t=>((0,l.dD)("data-v-5bc95263"),t=t(),(0,l.Cn)(),t),Ci={class:"hero is-fullheight"},xi={class:"hero-body animate__animated animate__fadeInLeft"},Si={class:"box has-text-centered",style:{margin:"auto"}},Ui={class:"container is-fluid",style:{width:"100%",margin:"auto"}},Ai={class:"field",style:{"margin-top":"5%"}},Pi=Di((()=>(0,l._)("h1",{class:"title has-text-link has-text-left"},"Nice to see you Doc.",-1))),Mi={class:"control"},zi={class:"control",style:{"margin-top":"2%"}},Ii={key:0,class:"has-text-danger",style:{"margin-top":"5%"}},Ni={key:1,class:"has-text-danger",style:{"margin-top":"5%"}},Ti=Di((()=>(0,l._)("hr",null,null,-1))),Li=Di((()=>(0,l._)("h1",{class:"title"},"Or",-1)));function Hi(t,e,a,i,o,n){const c=(0,l.up)("ForgotPassword");return(0,l.wg)(),(0,l.iD)("section",Ci,[(0,l._)("div",xi,[(0,l._)("div",Si,[(0,l._)("div",Ui,[(0,l._)("form",Ai,[Pi,(0,l._)("div",Mi,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t),placeholder:"username",onKeyup:e[1]||(e[1]=(0,s.D2)(((...t)=>n.login&&n.login(...t)),["enter"])),required:""},null,544),[[s.nr,o.username]])]),(0,l._)("div",zi,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":e[2]||(e[2]=t=>o.password=t),placeholder:"password",onKeyup:e[3]||(e[3]=(0,s.D2)(((...t)=>n.login&&n.login(...t)),["enter"])),required:""},null,544),[[s.nr,o.password]])]),o.incorrectUserPass?((0,l.wg)(),(0,l.iD)("p",Ii,(0,v.zw)(o.validateMessage),1)):0==o.incorrectUserPass?((0,l.wg)(),(0,l.iD)("p",Ni,(0,v.zw)(o.validateMessage),1)):(0,l.kq)("",!0),(0,l._)("button",{type:"button",class:"button is-primary",onClick:e[4]||(e[4]=(...t)=>n.login&&n.login(...t))},"Login"),Ti,Li,(0,l._)("a",{onClick:e[5]||(e[5]=(...t)=>n.signup&&n.signup(...t)),class:"is-danger"},"Create an account")])]),(0,l.Wm)(c,{userType:"doctor"})])])])}var qi=a(4934);const Vi=new qi.Cloudinary({cloud_name:"leindfraust"});var Oi=Vi,Ei=a(9615),Fi={name:"LoginDoctor",component:Ei["default"],data(){return{username:null,password:null,userDoctor:null,incorrectUserPass:Boolean,validateMessage:"",specializations:null,profileImg:null}},async mounted(){await ie().get("/session/doctor").then((t=>this.userDoctor=t.data)),null!==m.state.alias&&await this.$router.push(`/doctor/user/${m.state.alias}`)},methods:{async login(){null==await this.username||null==this.password?(this.incorrectUserPass=!1,this.validateMessage="empty username or password",this.username=null,this.password=null):(await ie().post("/api/auth/doctor",{username:this.username,password:this.password}).then((t=>this.userDoctor=t.data)),await this.userDoctor?(m.commit("alias",this.userDoctor.alias),m.commit("doctorID",this.userDoctor._id),await ie().post("/session/doctor",{verified:this.userDoctor.verified,_id:this.userDoctor._id,licenseNo:this.userDoctor.licenseNo,alias:this.userDoctor.alias,fullname:this.userDoctor.name,specialist:this.userDoctor.specialist,gmail:this.userDoctor.gmail,hospitalOrigin:this.userDoctor.hospitalOrigin,schedule:this.userDoctor.schedule,username:this.userDoctor.username,messageHistory:this.userDoctor.messageHistory}),m.commit("profileImg",Oi.imageTag(`assets/doctors/${this.userDoctor.alias}.jpg`).toHtml()),await this.$router.push(`/doctor/user/${this.userDoctor.alias}`)):(this.validateMessage="Incorrect username or password",this.incorrectUserPass=!0,this.username=null,this.password=null))},async signup(){await this.$router.push("/doctor/signup")}},components:{ForgotPassword:Ei["default"]}};const $i=(0,c.Z)(Fi,[["render",Hi],["__scopeId","data-v-5bc95263"]]);var Ri=$i;const Bi=t=>((0,l.dD)("data-v-20454ccc"),t=t(),(0,l.Cn)(),t),Yi={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},ji={class:"columns"},Wi={class:"column is-2"},Ki={class:"column",style:{"background-color":"whitesmoke"}},Gi={class:"section",style:{"background-color":"whitesmoke"}},Zi=Bi((()=>(0,l._)("h1",{class:"title"},"APPOINTMENTS",-1))),Qi={class:"field"},Xi={class:"control"},Ji={key:0,class:"container is-widescreen is-fullhd"},tl={key:0,class:"subtitle"},el=Bi((()=>(0,l._)("b",null,"TODAY",-1))),al=[el],sl={class:"subtitle has-text-black"},il={class:"table-container"},ll={class:"table is-striped is-narrow is-fullwidth is-bordered"},ol=Bi((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Reference ID"),(0,l._)("th",{class:"has-text-black-ter"},"Priority No."),(0,l._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,l._)("th",{class:"has-text-black-ter"},"Birthday"),(0,l._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1))),nl=["onClick"],cl=["onClick"],rl=Bi((()=>(0,l._)("br",null,null,-1))),dl=Bi((()=>(0,l._)("div",{class:"modal-background"},null,-1))),ul={class:"modal-content animate__animated animate__fadeInLeft"},pl={class:"field customField has-text-centered"},hl=Bi((()=>(0,l._)("h1",{class:"title is-4"},"Confirm Patient Details",-1))),ml=Bi((()=>(0,l._)("label",{class:"label"},"First Name",-1))),gl={class:"control"},vl=Bi((()=>(0,l._)("label",{class:"label"},"Last Name",-1))),wl={class:"control"},_l=Bi((()=>(0,l._)("label",{class:"label"},"Contact Number",-1))),bl={class:"control"},yl=Bi((()=>(0,l._)("label",{class:"label"},"Birthday",-1))),kl={class:"control"},fl={class:"field"},Dl=Bi((()=>(0,l._)("label",{class:"label"},"Upload a prescription(optional)",-1))),Cl={class:"control"},xl=Bi((()=>(0,l._)("button",{class:"is-hidden",type:"submit",value:"submit"},"Submit",-1))),Sl=Bi((()=>(0,l._)("div",{class:"modal-background"},null,-1))),Ul={class:"modal-content animate__animated animate__fadeInLeft"},Al=Bi((()=>(0,l._)("p",{class:"subtitle is-4 has-text-centered"},"Do you wish to cancel the appointment? ",-1))),Pl=Bi((()=>(0,l._)("p",{class:"subtitle is-6 has-text-centered"},"The user will be notified of the cancellation via email and notifications if you wish to proceed.",-1))),Ml=Bi((()=>(0,l._)("p",{class:"help"},"NOTE: This action cannot be undone.",-1))),zl={class:"buttons is-centered"},Il={class:"has-text-black-ter"},Nl={class:"has-text-black-ter"},Tl={class:"has-text-black-ter"},Ll={class:"has-text-black-ter"},Hl={class:"has-text-black-ter"},ql={class:"has-text-black-ter"},Vl={class:"has-text-black-ter"},Ol={class:"has-text-black-ter"},El={key:1,class:"section"},Fl=Bi((()=>(0,l._)("div",{class:"notification is-info"},[(0,l._)("h1",{class:"title is-5"},"No upcoming appointments.")],-1))),$l=[Fl];function Rl(t,e,a,i,o,n){const c=(0,l.up)("DoctorMenu");return(0,l.wg)(),(0,l.iD)("div",Yi,[(0,l._)("div",ji,[(0,l._)("div",Wi,[(0,l.Wm)(c)]),(0,l._)("div",Ki,[(0,l._)("section",Gi,[Zi,(0,l._)("div",Qi,[(0,l._)("div",Xi,[(0,l.wy)((0,l._)("input",{class:"input",type:"text",style:{width:"50% !important"},"onUpdate:modelValue":e[0]||(e[0]=t=>o.searchBar=t),placeholder:"Search..."},null,512),[[s.nr,o.searchBar]])])]),0!==Object.keys(n.appointmentSchedules).length?((0,l.wg)(),(0,l.iD)("div",Ji,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.appointmentSchedules,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{class:"box",key:a,style:(0,v.j5)(new Date(a).toDateString()==(new Date).toDateString()?"box-shadow: rgb(10 10 10 / 10%) 0px 0.5em 1em -0.125em, #485fc7 0px 0px 0px 1px !important;":"")},[new Date(a).toDateString()==(new Date).toDateString()?((0,l.wg)(),(0,l.iD)("h1",tl,al)):(0,l.kq)("",!0),(0,l._)("h1",sl,"Schedule: "+(0,v.zw)(new Date(a).toDateString()),1),(0,l._)("div",il,[(0,l._)("table",ll,[ol,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t,(t=>((0,l.wg)(),(0,l.iD)("tbody",{key:t._id},[(0,l._)("tr",null,[new Date(a).toDateString()==(new Date).toDateString()?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"button has-text-success",type:"button",onClick:e=>n.toggleConfirmModal(t.referenceID,t.doctorName,t.patientID,t.firstName,t.lastName,t.contactNum,t.birthDay,t._id)},"Confirm Visitation",8,nl)):((0,l.wg)(),(0,l.iD)("button",{key:1,class:"button has-text-danger",type:"button",onClick:e=>n.toggleCancelModal(t)},"Cancel Visitation",8,cl)),rl,(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isActiveModalConfirm}])},[dl,(0,l._)("div",ul,[(0,l._)("div",pl,[hl,ml,(0,l._)("div",gl,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.firstName=t),placeholder:"First Name",required:""},null,512),[[s.nr,o.firstName]])]),vl,(0,l._)("div",wl,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.lastName=t),placeholder:"Last Name",required:""},null,512),[[s.nr,o.lastName]])]),_l,(0,l._)("div",bl,[(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":e[3]||(e[3]=t=>o.contactNum=t),placeholder:"Contact Number",required:""},null,512),[[s.nr,o.contactNum]])]),yl,(0,l._)("div",kl,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>o.birthDay=t),placeholder:"Birthday",required:""},null,512),[[s.nr,o.birthDay]])]),(0,l._)("div",fl,[Dl,(0,l._)("div",Cl,[(0,l._)("input",{onChange:e[5]||(e[5]=t=>n.handleFile(t)),class:"input",type:"file"},null,32)]),xl]),(0,l._)("button",{class:"button is-success",onClick:e[6]||(e[6]=t=>n.confirmVisitation())},"Submit")])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:e[7]||(e[7]=(...t)=>n.cancelModalConfirm&&n.cancelModalConfirm(...t))})],2),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isActiveModalCancel}])},[Sl,(0,l._)("div",Ul,[Al,Pl,Ml,(0,l._)("div",zl,[(0,l._)("button",{class:"button has-text-success",onClick:e[8]||(e[8]=(...t)=>n.cancelAppointment&&n.cancelAppointment(...t))},"YES"),(0,l._)("button",{class:"button has-text-danger",onClick:e[9]||(e[9]=(...t)=>n.cancelModalCancel&&n.cancelModalCancel(...t))},"NO")])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:e[10]||(e[10]=(...t)=>n.cancelModalCancel&&n.cancelModalCancel(...t))})],2),(0,l._)("th",Il,(0,v.zw)(t.referenceID),1),(0,l._)("th",Nl,(0,v.zw)(t.priorityNum),1),(0,l._)("th",Tl,(0,v.zw)(t.hospital),1),(0,l._)("td",Ll,(0,v.zw)(t.firstName),1),(0,l._)("td",Hl,(0,v.zw)(t.lastName),1),(0,l._)("td",ql,(0,v.zw)(t.contactNum),1),(0,l._)("td",Vl,(0,v.zw)(t.birthDay),1),(0,l._)("td",Ol,(0,v.zw)(t.comments),1)])])))),128))])])],4)))),128))])):((0,l.wg)(),(0,l.iD)("section",El,$l))])])])])}var Bl=a(6486),Yl=a.n(Bl);const jl=t=>((0,l.dD)("data-v-68c92300"),t=t(),(0,l.Cn)(),t),Wl={class:"navbar is-hidden-desktop"},Kl={class:"navbar-brand"},Gl={class:"navbar-item"},Zl={class:"label"},Ql=jl((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),Xl=jl((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),Jl=jl((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),to=[Ql,Xl,Jl],eo={class:"has-text-centered block",style:{padding:"5px"}},ao={class:"is-hidden-mobile is-hidden-touch image is-square",style:{margin:"auto"}},so=["innerHTML"],io={class:"is-hidden-desktop image is-128x128",style:{margin:"auto"}},lo=["innerHTML"],oo={key:0,class:"title is-5"},no={class:"menu-list block"},co=jl((()=>(0,l._)("p",{class:"menu-label"},"General",-1))),ro=jl((()=>(0,l._)("p",{class:"menu-label"},"Verification and Information",-1))),uo=jl((()=>(0,l._)("p",{class:"menu-label"},"Support",-1))),po=jl((()=>(0,l._)("hr",null,null,-1)));function ho(t,e,a,s,i,o){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("nav",Wl,[(0,l._)("div",Kl,[(0,l._)("a",Gl,[(0,l._)("label",Zl,(0,v.zw)(i.alias),1)]),(0,l._)("a",{role:"button",class:(0,v.C_)(["navbar-burger",{"is-active":!i.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:e[0]||(e[0]=(...t)=>o.menuNav&&o.menuNav(...t))},to,2)])]),(0,l._)("aside",{class:(0,v.C_)(["menu",{"is-hidden-mobile":i.isActive,fixedMenu:i.isActive}]),style:{"background-color":"white",padding:"20px","box-shadow":"5px 10px rgba(240, 240, 240, 0.966)"}},[(0,l._)("div",eo,[(0,l._)("figure",ao,[(0,l._)("span",{innerHTML:i.profileImg},null,8,so)]),(0,l._)("figure",io,[(0,l._)("span",{innerHTML:i.profileImg},null,8,lo)]),i.isActive?((0,l.wg)(),(0,l.iD)("h5",oo,(0,v.zw)(i.alias),1)):(0,l.kq)("",!0)]),(0,l._)("ul",no,[co,(0,l._)("li",null,[(0,l._)("a",{onClick:e[1]||(e[1]=(...t)=>o.routeHome&&o.routeHome(...t))},"Appointments")]),(0,l._)("li",null,[(0,l._)("a",{onClick:e[2]||(e[2]=(...t)=>o.patientLogs&&o.patientLogs(...t))},"Patient History")]),(0,l._)("li",null,[(0,l._)("a",{onClick:e[3]||(e[3]=(...t)=>o.openSchedule&&o.openSchedule(...t))},"Schedule")]),ro,(0,l._)("li",null,[(0,l._)("a",{onClick:e[4]||(e[4]=(...t)=>o.profile&&o.profile(...t))},"Profile")]),(0,l._)("li",null,[(0,l._)("a",{onClick:e[5]||(e[5]=(...t)=>o.openSecurity&&o.openSecurity(...t))},"Security")]),uo,(0,l._)("li",null,[(0,l._)("a",{onClick:e[6]||(e[6]=(...e)=>t.openFAQs&&t.openFAQs(...e))},"FAQ")]),(0,l._)("li",null,[(0,l._)("a",{onClick:e[7]||(e[7]=t=>this.$router.push("/contactus"))},"Contact Us")])]),po,(0,l._)("button",{onClick:e[8]||(e[8]=(...t)=>o.logout&&o.logout(...t)),class:"button is-danger",type:"button"},"Logout")],2)],64)}var mo={name:"AdminMenu",data(){return{alias:m.state.alias,profileImg:m.state.profileImg,isActive:!0}},methods:{async logout(){m.commit("alias",null),await ie()["delete"]("/session/doctor"),await this.$router.push("/doctor/login")},async routeHome(){await this.$router.push(`/doctor/user/${this.alias}`)},async profile(){await this.$router.push(`/doctor/user/${this.alias}/profile`)},async patientLogs(){await this.$router.push(`/doctor/user/${this.alias}/patients`)},async openSecurity(){await this.$router.push(`/doctor/user/${this.alias}/security`)},async openSchedule(){await this.$router.push(`/doctor/user/${this.alias}/schedule`)},menuNav(){this.isActive=!this.isActive}}};const go=(0,c.Z)(mo,[["render",ho],["__scopeId","data-v-68c92300"]]);var vo=go,wo={name:"DoctorDashboard",components:{DoctorMenu:vo},data(){return{alias:m.state.alias,profileImg:m.state.profileImg,isActiveModalConfirm:!1,isActiveModalCancel:!1,id:null,refID:null,refIDPatient:null,firstName:null,lastName:null,birthDay:null,contactNum:null,doctorName:null,searchBar:"",schedule:null,appointmentSched:[],file:null}},computed:{appointmentSchedules(){return!!this.appointmentSched&&Yl().groupBy(this.appointmentSched.filter((t=>t.firstName.toLowerCase().includes(this.searchBar.toLowerCase())||t.lastName.toLowerCase().includes(this.searchBar.toLowerCase())||t.referenceID.toLowerCase().includes(this.searchBar.toLowerCase()))).sort(((t,e)=>new Date(t.schedule[0].date).getTime()-new Date(e.schedule[0].date).getTime())).filter((t=>new Date(t.schedule[0].date).getTime()>=(new Date).getTime()&&new Date(t.schedule[0].date).getMonth()>=(new Date).getMonth()&&0==t.ifPatientVisited)),"schedule[0].date")}},async mounted(){await ie().post("/api/appointmentList/doctors",{id:m.state.doctorID}).then((t=>this.appointmentSched=t.data))},methods:{async confirmVisitation(){this.generateRefID();let t="Appointment visitation confirmed",e=`Your appointment visitation has been confirmed by your doctor Ms/Mr. ${this.doctorName}, reference ID: ${this.refIDPatient}, a digital prescription will be displayed below if your doctor has uploaded one. We hope you well!`;la.emit("message",this.refID,t,e,"Med Search",new Date);const a=new FormData;a.append("id",this.refID),a.append("imgFile",this.file);try{await ie().post("/api/imgUploadImgMsg",a,{headers:{"Content-Type":"multipart/form-data"}}),await ie().put(`/api/appointmentList/${this.id}`,{firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay,ifPatientVisited:!0}),await ie().post("/api/appointmentList/doctors",{id:m.state.doctorID}).then((t=>this.appointmentSched=t.data))}catch(s){console.log(s)}this.isActiveModalConfirm=!1},async cancelAppointment(){let t="Your appointment has been cancelled!",e=`Your appointment visitation has been cancelled by your doctor Ms/Mr. ${this.doctorName}, reference ID: ${this.refIDPatient}, this is due to some emergencies or problems in their side. We hope you understand.`;la.emit("message",null,t,e,"Med Search",new Date),await ie()["delete"](`/api/appointmentList/${this.id}`).catch((t=>console.log(t))),await ie().post("/api/appointmentList/doctors",{id:m.state.doctorID}).then((t=>this.appointmentSched=t.data)).catch((t=>console.log(t))),this.isActiveModalCancel=!1},async toggleConfirmModal(t,e,a,s,i,l,o,n){this.isActiveModalConfirm=!0,this.refIDPatient=t,this.doctorName=e,this.firstName=s,this.lastName=i,this.contactNum=l,this.birthDay=o,this.id=n,la.connect(),la.emit("join room",a)},cancelModalConfirm(){this.isActiveModalConfirm=!1,la.disconnect()},async toggleCancelModal(t){this.isActiveModalCancel=!0,this.refIDPatient=t.referenceID,this.doctorName=t.doctorName,this.id=t._id,la.connect(),la.emit("join room",t.patientID)},cancelModalCancel(){this.isActiveModalCancel=!1,la.disconnect()},generateRefID(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=e.length;for(let s=0;s<12;s++)t+=e.charAt(Math.floor(Math.random()*a));this.refID=t},handleFile(t){this.file=t.target.files[0]}}};const _o=(0,c.Z)(wo,[["render",Rl],["__scopeId","data-v-20454ccc"]]);var bo=_o;const yo=t=>((0,l.dD)("data-v-cf487660"),t=t(),(0,l.Cn)(),t),ko={class:"section",style:{"background-color":"whitesmoke"}},fo={class:"container box animate__animated animate__fadeInLeft",style:{margin:"auto",width:"50%"}},Do={key:0,class:"notification is-danger"},Co=(0,l.Uk)(" Oops, something went wrong. Try again later or "),xo=(0,l.Uk)("contact us"),So={action:"/api/imgUploadDoctor",method:"post",enctype:"multipart/form-data"},Uo={class:"field is-horizontal"},Ao={class:"field-body"},Po={class:"field"},Mo=yo((()=>(0,l._)("label",{class:"label"},"License code:",-1))),zo={class:"control"},Io={class:"field"},No=yo((()=>(0,l._)("label",{class:"label"},"Alias",-1))),To={key:0},Lo={key:0,class:"help is-danger"},Ho=(0,l.Uk)(" Unavailable "),qo={key:0,class:"fas fa-spinner fa-spin"},Vo={key:1,class:"help is-success"},Oo=(0,l.Uk)(" Available "),Eo={key:0,class:"fas fa-spinner fa-spin"},Fo={class:"control"},$o={class:"field"},Ro={class:"field-body"},Bo={class:"field"},Yo=yo((()=>(0,l._)("label",{class:"label"},"Full Name",-1))),jo={class:"control"},Wo=yo((()=>(0,l._)("div",{class:"field"},[(0,l._)("label",{class:"label"},"Profile Picture"),(0,l._)("div",{class:"control"},[(0,l._)("input",{class:"input",type:"file",name:"imgFile",required:""})])],-1))),Ko={class:"field"},Go=yo((()=>(0,l._)("label",{class:"label"},"Registration Code",-1))),Zo={key:0},Qo={key:0,class:"help is-success"},Xo=(0,l.Uk)(" Registration code is correct. "),Jo={key:0,class:"fas fa-spinner fa-spin"},tn={key:1,class:"help is-danger"},en=(0,l.Uk)(" Incorrect registration code, please refer to your hospital for your registration code. "),an={key:0,class:"fas fa-spinner fa-spin"},sn={class:"control"},ln={class:"field is-horizontal"},on={class:"field-body"},nn={class:"field"},cn=yo((()=>(0,l._)("label",{class:"label"},"Username",-1))),rn={key:0},dn={key:0,class:"help is-danger"},un=(0,l.Uk)(" Unavailable "),pn={key:0,class:"fas fa-spinner fa-spin"},hn={key:1,class:"help is-success"},mn=(0,l.Uk)(" Available "),gn={key:0,class:"fas fa-spinner fa-spin"},vn={class:"control"},wn={class:"field"},_n=yo((()=>(0,l._)("label",{class:"label"},"Gmail",-1))),bn={class:"control"},yn={class:"field is-horizontal"},kn={class:"field-body"},fn={class:"field"},Dn=yo((()=>(0,l._)("label",{class:"label"},"Password",-1))),Cn={class:"control"},xn={class:"subtitle has-text-danger"},Sn={class:"field"},Un=yo((()=>(0,l._)("label",{class:"label"},"Repeat Password",-1))),An={class:"control"},Pn={class:"subtitle has-text-danger"},Mn={class:"columns"},zn={class:"column"},In=yo((()=>(0,l._)("label",{class:"label"},"Specializations you possess(Select all that applies)",-1))),Nn={class:"panel"},Tn={class:"panel-block"},Ln={style:{"max-height":"20em",overflow:"auto"}},Hn=["value"],qn=["onClick"],Vn={class:"column"},On=yo((()=>(0,l._)("label",{class:"label"},"Selected",-1))),En={class:"columns is-multiline"},Fn={class:"column",id:"selectedSpecializations",style:{"max-height":"26em",overflow:"auto"}},$n=["onClick"],Rn={class:"has-text-right"},Bn=["disabled"];function Yn(t,e,a,i,o,n){const c=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("section",ko,[(0,l._)("div",fo,[o.errMsg?((0,l.wg)(),(0,l.iD)("div",Do,[Co,(0,l.Wm)(c,{to:"/contactus"},{default:(0,l.w5)((()=>[xo])),_:1})])):(0,l.kq)("",!0),(0,l._)("form",So,[(0,l._)("div",Uo,[(0,l._)("div",Ao,[(0,l._)("div",Po,[Mo,(0,l._)("div",zo,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.licenseCode=t),placeholder:"license code",required:""},null,512),[[s.nr,o.licenseCode]])])]),(0,l._)("div",Io,[No,""!==o.aliasFound?((0,l.wg)(),(0,l.iD)("div",To,[o.aliasFound?((0,l.wg)(),(0,l.iD)("p",Lo,[Ho,o.loadingAlias?((0,l.wg)(),(0,l.iD)("i",qo)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("p",Vo,[Oo,o.loadingAlias?((0,l.wg)(),(0,l.iD)("i",Eo)):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0),(0,l._)("div",Fo,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.alias=t),placeholder:"alias",name:"alias",required:"",onInput:e[2]||(e[2]=(...t)=>n.aliasFindTimeout&&n.aliasFindTimeout(...t))},null,544),[[s.nr,o.alias]])])])])]),(0,l._)("div",$o,[(0,l._)("div",Ro,[(0,l._)("div",Bo,[Yo,(0,l._)("div",jo,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.name=t),placeholder:"Last name, First name, Extension name, Middle name",required:""},null,512),[[s.nr,o.name]])])]),Wo])]),(0,l._)("div",Ko,[Go,""!==o.registrationCodeFound?((0,l.wg)(),(0,l.iD)("div",Zo,[o.registrationCodeFound?((0,l.wg)(),(0,l.iD)("p",Qo,[Xo,o.loadingRegistrationCode?((0,l.wg)(),(0,l.iD)("i",Jo)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("p",tn,[en,o.loadingRegistrationCode?((0,l.wg)(),(0,l.iD)("i",an)):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0),(0,l._)("div",sn,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>o.registrationCode=t),onInput:e[5]||(e[5]=(...t)=>n.registrationCodeFindTimeout&&n.registrationCodeFindTimeout(...t)),placeholder:"registration code",required:""},null,544),[[s.nr,o.registrationCode]])])]),(0,l._)("div",ln,[(0,l._)("div",on,[(0,l._)("div",nn,[cn,""!==o.usernameFound?((0,l.wg)(),(0,l.iD)("div",rn,[o.usernameFound?((0,l.wg)(),(0,l.iD)("p",dn,[un,o.loadingUsername?((0,l.wg)(),(0,l.iD)("i",pn)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("p",hn,[mn,o.loadingUsername?((0,l.wg)(),(0,l.iD)("i",gn)):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0),(0,l._)("div",vn,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>o.username=t),onInput:e[7]||(e[7]=(...t)=>n.usernameFindTimeout&&n.usernameFindTimeout(...t)),placeholder:"username",required:""},null,544),[[s.nr,o.username]])])]),(0,l._)("div",wn,[_n,(0,l._)("div",bn,[(0,l.wy)((0,l._)("input",{class:"input",type:"email","onUpdate:modelValue":e[8]||(e[8]=t=>o.gmail=t),placeholder:"gmail",required:""},null,512),[[s.nr,o.gmail]])])])])]),(0,l._)("div",yn,[(0,l._)("div",kn,[(0,l._)("div",fn,[Dn,(0,l._)("div",Cn,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":e[9]||(e[9]=t=>o.password=t),placeholder:"password",required:""},null,512),[[s.nr,o.password]])]),(0,l._)("p",xn,(0,v.zw)(o.passwordMatch),1)]),(0,l._)("div",Sn,[Un,(0,l._)("div",An,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":e[10]||(e[10]=t=>o.passwordRepeat=t),placeholder:"repeat password",required:""},null,512),[[s.nr,o.passwordRepeat]])]),(0,l._)("p",Pn,(0,v.zw)(o.passwordMatch),1)])])]),(0,l._)("div",Mn,[(0,l._)("div",zn,[In,(0,l._)("nav",Nn,[(0,l._)("div",Tn,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[11]||(e[11]=t=>o.searchBarSpecialization=t),placeholder:"Search"},null,512),[[s.nr,o.searchBarSpecialization]])]),(0,l._)("div",Ln,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.specializationListIndexed,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"panel-block",key:e,value:t},[(0,l._)("a",{onClick:e=>n.selectSpecialization(t)},(0,v.zw)(t),9,qn)],8,Hn)))),128))])])]),(0,l._)("div",Vn,[On,(0,l._)("div",En,[(0,l._)("div",Fn,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specializationsSelected,((t,e)=>((0,l.wg)(),(0,l.iD)("button",{type:"button",key:e,class:"button is-light",style:{margin:"5px"}},[(0,l.Uk)((0,v.zw)(t)+"  ",1),(0,l._)("span",{class:"has-text-danger",onClick:e=>n.undoSpecialization(t)},"X",8,$n)])))),128))])])])]),(0,l._)("div",Rn,[(0,l._)("button",{type:"submit",value:"Submit",class:"button is-primary",onClick:e[12]||(e[12]=t=>n.create(t)),disabled:""==o.specializationsSelected},"Create account",8,Bn)])])])])}var jn={name:"SignUp",computed:{specializationListIndexed(){return this.specializationList.filter((t=>t.toLowerCase().includes(this.searchBarSpecialization.toLowerCase())))}},data(){return{licenseCode:"",alias:"",name:"",registrationCode:"",username:"",password:"",passwordRepeat:"",gmail:"",passwordMatch:null,aliasFound:"",usernameFound:"",registrationCodeFound:"",loadingUsername:!1,loadingAlias:!1,loadingRegistrationCode:!1,specializationsSelected:[],specializationList:this.$store.getters.getSpecializationList,searchBarSpecialization:"",errMsg:"",searchTimeoutUsername:null,searchTimeoutAlias:null,searchTimeoutRegistrationCode:null}},methods:{async registrationCodeFindTimeout(){this.searchTimeoutRegistrationCode&&(clearTimeout(this.searchTimeoutRegistrationCode),this.searchTimeoutRegistrationCode=null),this.searchTimeoutRegistrationCode=setTimeout(this.registrationCodeFinder,500)},async usernameFindTimeout(){this.searchTimeoutUsername&&(clearTimeout(this.searchTimeoutUsername),this.searchTimeoutUsername=null),this.searchTimeoutUsername=setTimeout(this.usernameFinder,500)},async aliasFindTimeout(){this.searchTimeoutAlias&&(clearTimeout(this.searchTimeoutAlias),this.searchTimeoutAlias=null),this.searchTimeoutAlias=setTimeout(this.aliasFinder,500)},async registrationCodeFinder(){this.loadingRegistrationCode=!0,await ie().post("/api/doctor/check_registrationCode",{registrationCode:this.registrationCode}).then((t=>{this.registrationCodeFound=t.data})),""==this.registrationCode&&(this.registrationCodeFound=""),this.loadingRegistrationCode=!1},async usernameFinder(){this.loadingUsername=!0,await ie().post("/api/doctor/check_username",{username:this.username}).then((t=>{this.usernameFound=t.data})),""==this.username&&(this.usernameFound=""),this.loadingUsername=!1},async aliasFinder(){this.loadingAlias=!0,await ie().post("/api/doctor/check_alias",{alias:this.alias}).then((t=>{this.aliasFound=t.data})),""==this.alias&&(this.aliasFound=""),this.loadingAlias=!1},async create(t){this.password!==this.passwordRepeat?(this.passwordMatch="password do not match",await t.preventDefault(),this.registrationCode&&(null==this.registrationCodeFound&&this.registrationCodeFound||await t.preventDefault()),this.alias&&(null==this.aliasFound||this.aliasFound)&&await t.preventDefault(),this.username&&(null==this.usernameFound||this.usernameFound)&&await t.preventDefault()):(this.passwordMatch=null,this.registrationCode&&(null!=this.registrationCodeFound&&this.registrationCodeFound||await t.preventDefault()),this.alias&&(null==this.aliasFound||this.aliasFound)&&await t.preventDefault(),this.username&&(null==this.usernameFound||this.usernameFound)&&await t.preventDefault()),this.password!==this.passwordRepeat||this.aliasFound||this.usernameFound||!this.registrationCodeFound||(await ie().post("/api/doctor",{alias:this.alias,licenseNo:this.licenseCode,name:this.name,gmail:this.gmail,specialist:this.specializationsSelected,username:this.username,password:this.password}).catch((t=>this.errMsg=t)),await this.$store.commit("imgSuccess",!0))},selectSpecialization(t){this.specializationsSelected.find((e=>e===t))||this.specializationsSelected.push(t)},undoSpecialization(t){this.specializationsSelected=this.specializationsSelected.filter((e=>e!==t))}}};const Wn=(0,c.Z)(jn,[["render",Yn],["__scopeId","data-v-cf487660"]]);var Kn=Wn;const Gn=t=>((0,l.dD)("data-v-6679bf40"),t=t(),(0,l.Cn)(),t),Zn={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Qn={class:"columns"},Xn={class:"column is-2"},Jn={class:"column",style:{"background-color":"whitesmoke"}},tc={class:"section"},ec=Gn((()=>(0,l._)("h1",{class:"title"},"SETUP SCHEDULES",-1))),ac=Gn((()=>(0,l._)("div",{class:"modal-background"},null,-1))),sc={class:"modal-content"},ic={class:"card"},lc={class:"card-content"},oc={class:"content has-text-centered"},nc={class:"control block"},cc=Gn((()=>(0,l._)("label",{class:"label"},"Prefix:",-1))),rc={class:"select block"},dc=["value"],uc=Gn((()=>(0,l._)("label",{class:"label"},"Time start:",-1))),pc=Gn((()=>(0,l._)("br",null,null,-1))),hc=Gn((()=>(0,l._)("label",{class:"label"},"Time end:",-1))),mc={class:"control block"},gc=Gn((()=>(0,l._)("label",{class:"label"},"Appointment limit:",-1))),vc={class:"block"},wc=["disabled"],_c=Gn((()=>(0,l._)("div",{class:"modal-background"},null,-1))),bc=Gn((()=>(0,l._)("div",{class:"modal-content loader"},null,-1))),yc=[_c,bc],kc={class:"columns"},fc={class:"column"},Dc={key:0,class:"notification is-success has-text-centered"},Cc={class:"column"},xc={class:"container"},Sc=Gn((()=>(0,l._)("h1",{class:"subtitle has-text-weight-bold"},"Ongoing Schedules:",-1))),Uc={key:0,class:"columns is-multiline",style:{overflow:"scroll","max-height":"30em"}},Ac={class:"block card"},Pc={class:"card-content"},Mc={class:"content"},zc={class:"title is-5 has-text-black has-text-left"},Ic={class:"icon-text"},Nc={class:"icon"},Tc=["onClick"],Lc=Gn((()=>(0,l._)("i",{class:"fa-solid fa-trash-can"},null,-1))),Hc=[Lc],qc={class:"has-text-black"},Vc={class:"has-text-black"},Oc={class:"has-text-black"},Ec={class:"has-text-black"},Fc={key:1,class:"notification is-warning"},$c=Gn((()=>(0,l._)("h1",{class:"title is-5"},"No ongoing schedules.",-1))),Rc=[$c];function Bc(t,e,a,i,o,n){const c=(0,l.up)("DoctorMenu"),r=(0,l.up)("v-date-picker"),d=(0,l.up)("v-calendar");return(0,l.wg)(),(0,l.iD)("div",Zn,[(0,l._)("div",Qn,[(0,l._)("div",Xn,[(0,l.Wm)(c)]),(0,l._)("div",Jn,[(0,l._)("section",tc,[ec,(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isActive}])},[ac,(0,l._)("div",sc,[(0,l._)("div",ic,[(0,l._)("div",lc,[(0,l._)("div",oc,[(0,l._)("div",nc,[cc,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.prefix=t),style:{width:"33%"},placeholder:"e.g. ROOM305"},null,512),[[s.nr,o.prefix]])]),(0,l._)("div",rc,[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.selectedHospital=t)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.hospitalList,(t=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:t.hospital},(0,v.zw)(t.hospital),9,dc)))),128))],512),[[s.bM,o.selectedHospital]])]),uc,(0,l.Wm)(r,{modelValue:o.timeStart,"onUpdate:modelValue":e[2]||(e[2]=t=>o.timeStart=t),mode:"time",timezone:o.timezone,class:"block"},null,8,["modelValue","timezone"]),pc,hc,(0,l.Wm)(r,{modelValue:o.timeEnd,"onUpdate:modelValue":e[3]||(e[3]=t=>o.timeEnd=t),mode:"time",timezone:o.timezone,class:"block"},null,8,["modelValue","timezone"]),(0,l._)("div",mc,[gc,(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>o.appointmentLimits=t),style:{width:"33%"}},null,512),[[s.nr,o.appointmentLimits]])]),(0,l._)("div",vc,[(0,l._)("button",{class:"button is-primary",type:"button",onClick:e[5]||(e[5]=(...t)=>n.addSched&&n.addSched(...t)),disabled:""==o.prefix},"Confirm",8,wc)])])])])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:e[6]||(e[6]=(...t)=>n.modalClose&&n.modalClose(...t))})],2),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.loading}])},yc,2),(0,l._)("div",kc,[(0,l._)("div",fc,[o.uploadSchedSuccess?((0,l.wg)(),(0,l.iD)("div",Dc,"Schedules Added/Updated! ")):(0,l.kq)("",!0),(0,l.Wm)(d,{columns:t.$screens({default:1,lg:2}),rows:t.$screens({default:1,lg:2}),"is-expanded":t.$screens({default:!0,lg:!1}),modelValue:o.date,"onUpdate:modelValue":e[7]||(e[7]=t=>o.date=t),"min-date":new Date,"disabled-dates":[{start:new Date,end:new Date}],attributes:n.attributes,onDayclick:n.modalUp,timezone:o.timezone},null,8,["columns","rows","is-expanded","modelValue","min-date","disabled-dates","attributes","onDayclick","timezone"])]),(0,l._)("div",Cc,[(0,l._)("div",xc,[Sc,0!==Object.keys(n.daysIndexed).length?((0,l.wg)(),(0,l.iD)("div",Uc,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.daysIndexed,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"column is-6",key:t.id},[(0,l._)("div",Ac,[(0,l._)("div",Pc,[(0,l._)("div",Mc,[(0,l._)("p",zc,[(0,l.Uk)((0,v.zw)(new Date(t.date).toDateString())+"  ",1),(0,l._)("span",Ic,[(0,l._)("span",Nc,[(0,l._)("a",{class:"has-text-black-ter",onClick:e=>n.modalUp(t.dayDetail)},Hc,8,Tc)])])]),(0,l._)("p",qc,"Prefix: "+(0,v.zw)(t.prefix),1),(0,l._)("p",Vc,"Hospital: "+(0,v.zw)(t.hospital),1),(0,l._)("p",Oc,(0,v.zw)(t.timeStart)+" - "+(0,v.zw)(t.timeEnd),1),(0,l._)("p",Ec,"Appointment limit: "+(0,v.zw)(t.appointmentLimit),1)])])])])))),128))])):((0,l.wg)(),(0,l.iD)("div",Fc,Rc))])])])])])])])}var Yc={name:"SchedulerPage",components:{DoctorMenu:vo},data(){return{alias:m.state.alias,profileImg:m.state.profileImg,userID:"",date:new Date,timeStart:"",timeEnd:"",timezone:"Asia/Hong_Kong",prefix:"",days:[],appointmentLimits:10,checkServer:null,isActive:!1,uploadSchedSuccess:!1,loading:!1,hospitalList:[],selectedHospital:""}},async mounted(){await ie().get("/session/doctor").then((t=>this.days=t.data.schedule)),await ie().get("/session/doctor").then((t=>this.userID=t.data._id)),await ie().get("/session/doctor").then((t=>this.hospitalList=t.data.hospitalOrigin)),this.selectedHospital=await this.hospitalList[0].hospital},computed:{dates(){return this.days.map((t=>new Date(t.date).toDateString()))},attributes(){return this.dates.map((t=>({highlight:!0,dates:t})))},daysIndexed(){return""!==this.days&&this.sortDate()}},methods:{sortDate(){return this.days.sort(((t,e)=>{new Date(t.date).getTime(),new Date(e.date).getTime()})).filter((t=>new Date(t.date).getTime()>(new Date).getTime()))},async onDayClick(t){this.loading=!0,this.days.push({dayDetail:t,id:t.id,date:t.date,timeStart:this.timeStart.toLocaleTimeString(),timeEnd:this.timeEnd.toLocaleTimeString(),appointmentLimit:this.appointmentLimits,prefix:this.prefix,hospital:this.selectedHospital}),await ie().put(`/api/doctor/${this.userID}`,{schedule:this.days}),await ie().put("/session/doctor",{schedule:this.days}),await ie().get("/session/doctor").then((t=>this.days=t.data.schedule)),this.uploadSchedSuccess=!0,this.loading=!1},async modalUp(t){if(!t?.isDisabled){this.isActive=!0;const e=this.days.findIndex((e=>e.id===t.id));e>=0&&(this.loading=!0,this.days.splice(e,1),this.isActive=!1,await ie().put(`/api/doctor/${this.userID}`,{schedule:this.days}),await ie().put("/session/doctor",{schedule:this.days}),await ie().get("/session/doctor").then((t=>this.days=t.data.schedule)),this.uploadSchedSuccess=!0,this.loading=!1),this.day=t,this.timeStart=t.date,this.timeEnd=t.date}},addSched(t){t=this.day,this.onDayClick(t),this.isActive=!this.isActive},modalClose(){this.isActive=!this.isActive}}};const jc=(0,c.Z)(Yc,[["render",Bc],["__scopeId","data-v-6679bf40"]]);var Wc=jc;const Kc=t=>((0,l.dD)("data-v-23e6c0e9"),t=t(),(0,l.Cn)(),t),Gc={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Zc={class:"columns"},Qc={class:"column is-2"},Xc={class:"column",style:{"background-color":"whitesmoke"}},Jc={class:"section",style:{"background-color":"whitesmoke"}},tr=Kc((()=>(0,l._)("h1",{class:"title"},"PROFILE",-1))),er={class:"container box is-fluid"},ar={key:0,class:"message is-danger"},sr=Kc((()=>(0,l._)("div",{class:"message-header"},[(0,l._)("p",null,"YOU ARE NOT VERIFIED ❌")],-1))),ir=Kc((()=>(0,l._)("div",{class:"message-body"},[(0,l.Uk)(" To get started, please visit "),(0,l._)("b",null,"Security"),(0,l.Uk)(" tab under "),(0,l._)("b",null,"VERIFICATION AND INFORMATION.")],-1))),lr=[sr,ir],or={key:1,class:"message is-success"},nr=Kc((()=>(0,l._)("div",{class:"message-header"},[(0,l._)("p",null,"YOU ARE VERIFIED ✓")],-1))),cr=Kc((()=>(0,l._)("div",{class:"message-body"},[(0,l.Uk)(" Your basic information is "),(0,l._)("b",null,"locked"),(0,l.Uk)(". To edit, please go to the "),(0,l._)("b",null,"Security"),(0,l.Uk)(" tab. ")],-1))),rr=[nr,cr],dr={class:"columns is-gapless"},ur={class:"column is-6"},pr=["innerHTML"],hr={id:"formUpload",action:"/api/imgUpload",method:"post",enctype:"multipart/form-data",style:{margin:"auto",width:"50%"},class:"field"},mr={class:"control"},gr=["value"],vr=Kc((()=>(0,l._)("div",{class:"has-text-centered"},[(0,l._)("button",{type:"submit",value:"Upload",class:"button is-primary"},"Change profile picture")],-1))),wr=Kc((()=>(0,l._)("br",null,null,-1))),_r={class:"column"},br={class:"field"},yr={class:"control"},kr=Kc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"License No.")],-1))),fr=["disabled"],Dr={class:"field is-horizontal"},Cr={class:"field-body"},xr={class:"field"},Sr={class:"control"},Ur=Kc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Full Name:")],-1))),Ar=["disabled"],Pr={class:"field"},Mr={class:"control"},zr=Kc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Gmail:")],-1))),Ir=["disabled"],Nr={class:"field"},Tr={class:"control"},Lr={key:1,class:"notification is-success is-light"},Hr={class:"field"},qr={class:"control"},Vr=Kc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Managed Hospitals:")],-1))),Or=["onClick"],Er=(0,l.Uk)("  "),Fr={class:"dropdown-trigger"},$r={class:"dropdown-menu"},Rr=["onClick"],Br={class:"field"},Yr={class:"control"},jr=Kc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Specializations:")],-1))),Wr=["onClick"],Kr=(0,l.Uk)("  "),Gr={class:"dropdown-trigger"},Zr={class:"dropdown-menu"},Qr=["onClick"],Xr=Kc((()=>(0,l._)("div",{class:"modal-background"},null,-1))),Jr={class:"modal-content"},td={key:0,class:"field box"},ed=Kc((()=>(0,l._)("label",{class:"label"},"Please check your email for the verification code.",-1))),ad={class:"control"},sd=Kc((()=>(0,l._)("br",null,null,-1))),id={class:"has-text-centered"},ld=["disabled"],od={key:0,class:"notification is-danger"},nd={key:1,class:"notification is-danger"};function cd(t,e,a,i,o,n){const c=(0,l.up)("DoctorMenu");return(0,l.wg)(),(0,l.iD)("div",Gc,[(0,l._)("div",Zc,[(0,l._)("div",Qc,[(0,l.Wm)(c)]),(0,l._)("div",Xc,[(0,l._)("section",Jc,[tr,(0,l._)("div",er,[o.verified?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("article",ar,lr)),o.verified?((0,l.wg)(),(0,l.iD)("article",or,rr)):(0,l.kq)("",!0),(0,l._)("div",dr,[(0,l._)("div",ur,[(0,l._)("span",{id:"profile-img",innerHTML:o.profileImg},null,8,pr),(0,l._)("form",hr,[(0,l._)("div",mr,[(0,l._)("input",{type:"hidden",name:"alias",value:o.alias},null,8,gr),(0,l._)("input",{class:"input",type:"file",name:"imgFile",onClick:e[0]||(e[0]=(...t)=>n.imgSuccess&&n.imgSuccess(...t)),required:""}),vr])])]),wr,(0,l._)("div",_r,[(0,l._)("div",br,[(0,l._)("div",yr,[kr,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.licenseNo=t),style:{width:"33%"},disabled:1==o.verified},null,8,fr),[[s.nr,o.licenseNo]])])]),(0,l._)("div",Dr,[(0,l._)("div",Cr,[(0,l._)("div",xr,[(0,l._)("div",Sr,[Ur,(0,l.wy)((0,l._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.fullname=t),disabled:1==o.verified},null,8,Ar),[[s.nr,o.fullname]])])]),(0,l._)("div",Pr,[(0,l._)("div",Mr,[zr,(0,l.wy)((0,l._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.gmail=t),disabled:1==o.verified},null,8,Ir),[[s.nr,o.gmail]])])])])]),(0,l._)("div",Nr,[(0,l._)("div",Tr,[o.verified?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,class:"button is-link",type:"button",onClick:e[4]||(e[4]=(...t)=>n.updateInfo&&n.updateInfo(...t))},"Save changes")),o.infoValidate?((0,l.wg)(),(0,l.iD)("div",Lr,(0,v.zw)(o.infoValidateMessage),1)):(0,l.kq)("",!0)])]),(0,l._)("div",Hr,[(0,l._)("div",qr,[Vr,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.hospitalOrigin,(t=>((0,l.wg)(),(0,l.iD)("button",{class:"button",key:t.hospital},[(0,l.Uk)((0,v.zw)(t.hospital)+"  ",1),(0,l._)("span",{class:"has-text-danger",onClick:e=>n.pullHospital(t.hospital)},"x",8,Or)])))),128)),Er,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownHospital}])},[(0,l._)("div",Fr,[(0,l._)("button",{onClick:e[5]||(e[5]=(...t)=>n.dropdownHospital&&n.dropdownHospital(...t)),class:"button"},"+")]),(0,l._)("div",$r,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.hospitalList,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e},[(0,l._)("a",{class:"dropdown-item",onClick:e=>n.promptVerificationHospital(t.hospital)},(0,v.zw)(t.hospital),9,Rr)])))),128))])],2)])]),(0,l._)("div",Br,[(0,l._)("div",Yr,[jr,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specialist,((t,e)=>((0,l.wg)(),(0,l.iD)("button",{class:"button",style:{margin:"5px"},key:e},[(0,l.Uk)((0,v.zw)(t)+"  ",1),(0,l._)("span",{class:"has-text-danger",onClick:e=>n.pullSpecialization(t)},"x",8,Wr)])))),128)),Kr,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownSpecialist}])},[(0,l._)("div",Gr,[(0,l._)("button",{onClick:e[6]||(e[6]=(...t)=>n.dropdownSpecialist&&n.dropdownSpecialist(...t)),class:"button"},"+")]),(0,l._)("div",Zr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specializationList,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e},[(0,l._)("a",{class:"dropdown-item",onClick:e=>n.addSpecialization(t)},(0,v.zw)(t),9,Qr)])))),128))])],2)])])])])]),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.modalActive}])},[Xr,(0,l._)("div",Jr,[o.codeSent?((0,l.wg)(),(0,l.iD)("div",nd,"You can only request a verification code once, please try again in 10 minutes.")):((0,l.wg)(),(0,l.iD)("div",td,[ed,(0,l._)("div",ad,[(0,l.wy)((0,l._)("input",{class:"input","onUpdate:modelValue":e[7]||(e[7]=t=>o.verificationCode=t),type:"text",placeholder:"code"},null,512),[[s.nr,o.verificationCode]])]),sd,(0,l._)("div",id,[(0,l._)("button",{class:"button is-primary",onClick:e[8]||(e[8]=(...t)=>n.addHospital&&n.addHospital(...t)),disabled:""==o.verificationCode},"Confirm",8,ld)]),o.errorCode?((0,l.wg)(),(0,l.iD)("div",od,"Invalid login code, please check your email thoroughly.")):(0,l.kq)("",!0)]))]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:e[9]||(e[9]=(...t)=>n.modalClose&&n.modalClose(...t))})],2)])])])])}var rd={name:"DoctorProfile",data(){return{alias:m.state.alias,fullname:null,password:null,passwordRepeat:null,infoValidate:null,infoValidateMessage:null,doctorDetails:null,id:null,profileImg:m.state.profileImg,hospitalOrigin:null,specialist:null,hospital:null,gmail:null,specializationList:this.$store.getters.getSpecializationList,hospitalList:[],isActiveDropdownSpecialist:!1,isActiveDropdownHospital:!1,licenseNo:null,verified:null,modalActive:!1,verificationCode:"",errorCode:!1,codeSent:!1,selectedHospital:""}},components:{DoctorMenu:vo},async mounted(){await ie().get("/session/doctor").then((t=>this.doctorDetails=t.data)),this.verified=await this.doctorDetails.verified,this.licenseNo=await this.doctorDetails.licenseNo,this.fullname=await this.doctorDetails.fullname,this.id=await this.doctorDetails._id,this.specialist=await this.doctorDetails.specialist,this.gmail=await this.doctorDetails.gmail,this.hospitalOrigin=await this.doctorDetails.hospitalOrigin,await ie().get("/api/manager").then((t=>this.hospitalList=t.data))},methods:{async updateInfo(){this.verified||(await ie().put(`/api/doctor/${this.id}`,{licenseNo:this.licenseNo,name:this.fullname,gmail:this.gmail}),await ie().put("/session/doctor",{licenseNo:this.licenseNo,name:this.fullname,gmail:this.gmail}),await ie().get("/session/doctor").then((t=>this.fullname=t.data.fullname)),this.infoValidate=!0,this.infoValidateMessage="changes saved successfully")},imgSuccess(){m.commit("imgSuccess",!0)},showPass(){let t=document.getElementsByClassName("password");for(let e=0;e<t.length;e++)"password"===t[e].type?t[e].type="text":t[e].type="password"},dropdownSpecialist(){this.isActiveDropdownSpecialist=!this.isActiveDropdownSpecialist},dropdownHospital(){this.isActiveDropdownHospital=!this.isActiveDropdownHospital},async addSpecialization(t){this.specialist.find((e=>e===t))||(this.specialist.push(t),this.isActiveDropdownSpecialist=!1,await ie().put(`/api/doctor/${this.id}`,{specialist:this.specialist}),await ie().put("/session/doctor",{specialist:this.specialist}),await ie().get("/session/doctor").then((t=>this.specialist=t.data.specialist)))},async promptVerificationHospital(t){if(!this.hospitalOrigin.find((e=>e.hospital===t))){this.selectedHospital=t,this.modalActive=!0;let e=Math.floor(1e3+9e3*Math.random());await ie().post("/api/code/email",{email:this.gmail}).then((async t=>{t.data?this.codeSent=!0:(await ie().post("/api/code",{email:this.gmail,code:e}),await ie().post("/api/OTPMail",{email:this.gmail,code:e}))}))}},async addHospital(){await ie().post("/api/code/verify",{code:this.verificationCode}).then((async t=>{t.data?this.errorCode?this.errorCode=!0:(this.hospitalOrigin.push({hospital:this.selectedHospital}),await ie().put(`/api/doctor/${this.id}`,{hospitalOrigin:this.hospitalOrigin}),await ie().put("/session/doctor",{hospitalOrigin:this.hospitalOrigin}),await ie().get("/session/doctor").then((t=>this.hospitalOrigin=t.data.hospitalOrigin)),this.selectedHospital="",this.modalActive=!1):this.errorCode=!0}))},async pullSpecialization(t){this.specialist=this.specialist.filter((e=>e!==t)),await ie().put(`/api/doctor/${this.id}`,{specialist:this.specialist}),await ie().put("/session/doctor",{specialist:this.specialist}),await ie().get("/session/doctor").then((t=>this.specialist=t.data.specialist))},async pullHospital(t){this.hospitalOrigin=this.hospitalOrigin.filter((e=>e.hospital!==t)),await ie().put(`/api/doctor/${this.id}`,{hospitalOrigin:this.hospitalOrigin}),await ie().put("/session/doctor",{hospitalOrigin:this.hospitalOrigin}),await ie().get("/session/doctor").then((t=>this.hospitalOrigin=t.data.hospitalOrigin))},modalClose(){this.modalActive=!1}}};const dd=(0,c.Z)(rd,[["render",cd],["__scopeId","data-v-23e6c0e9"]]);var ud=dd;const pd={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},hd={class:"columns"},md={class:"column is-2"},gd={class:"column",style:{"background-color":"whitesmoke"}},vd=(0,l._)("div",{class:"modal-background"},null,-1),wd={class:"modal-content"},_d={class:"section box"},bd={class:"field is-horizontal"},yd={class:"field-body"},kd={class:"field"},fd={class:"control"},Dd=(0,l._)("label",{class:"label"},"From:",-1),Cd=["value"],xd={class:"field"},Sd={class:"control"},Ud=(0,l._)("div",{class:"label"},"To(Patient):",-1),Ad=["value"],Pd={class:"field"},Md={class:"control"},zd=(0,l._)("label",{class:"label"},"Attach an image(optional):",-1),Id={class:"field"},Nd={class:"control"},Td=(0,l._)("label",{class:"label"},"Subject: ",-1),Ld={class:"field"},Hd={class:"control"},qd=(0,l._)("label",{class:"label"},"Message:",-1),Vd={class:"field"},Od={class:"control has-text-right"},Ed=["disabled"],Fd={key:0,class:"has-text-success"},$d=(0,l.Uk)(" A message has been sent to "),Rd=(0,l.Uk)(". "),Bd=(0,l._)("p",{class:"subtitle"},"Messaging History",-1),Yd={key:1,class:"container"},jd=(0,l._)("p",{class:"subtitle is-size-6 has-text-right"},"Are you sure you want to delete all messages?",-1),Wd={class:"buttons is-right"},Kd={key:2},Gd={class:"notification",style:{margin:"5%"}},Zd={class:"content"},Qd={key:0},Xd={class:"image is-square"},Jd=["src"],tu={class:"has-text-centered"},eu=["href"],au=(0,l._)("br",null,null,-1),su=["onClick"],iu={key:3},lu=(0,l._)("p",null,"No past messages yet.",-1),ou=[lu],nu={class:"section",style:{"background-color":"whitesmoke"}},cu={class:"container is-widescreen is-fullhd",style:{padding:"15"}},ru=(0,l._)("h1",{class:"title"}," APPOINTMENT HISTORY ",-1),du={class:"field"},uu={class:"control"},pu={key:0,class:"container"},hu={class:"subtitle has-text-black"},mu={class:"table-container"},gu={class:"table is-striped is-narrow is-fullwidth is-bordered"},vu=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Reference ID"),(0,l._)("th",{class:"has-text-black-ter"},"Priority No."),(0,l._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,l._)("th",{class:"has-text-black-ter"},"Birthday"),(0,l._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1),wu=["onClick"],_u={class:"has-text-black-ter"},bu={class:"has-text-black-ter"},yu={class:"has-text-black-ter"},ku={class:"has-text-black-ter"},fu={class:"has-text-black-ter"},Du={class:"has-text-black-ter"},Cu={class:"has-text-black-ter"},xu={class:"has-text-black-ter"},Su={key:1,class:"notification is-info"};function Uu(t,e,a,i,o,n){const c=(0,l.up)("DoctorMenu");return(0,l.wg)(),(0,l.iD)("div",pd,[(0,l._)("div",hd,[(0,l._)("div",md,[(0,l.Wm)(c)]),(0,l._)("div",gd,[(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isActiveModal}])},[vd,(0,l._)("div",wd,[(0,l._)("div",_d,[(0,l._)("div",bd,[(0,l._)("div",yd,[(0,l._)("div",kd,[(0,l._)("div",fd,[Dd,(0,l._)("input",{class:"input",type:"text",value:"Dr. "+o.doctorName,disabled:""},null,8,Cd)])]),(0,l._)("div",xd,[(0,l._)("div",Sd,[Ud,(0,l._)("input",{class:"input",type:"text",value:o.selectedPatient,disabled:""},null,8,Ad)])])])]),(0,l._)("div",Pd,[(0,l._)("div",Md,[zd,(0,l._)("input",{class:"input",type:"file",onChange:e[0]||(e[0]=t=>n.handleFile(t))},null,32)])]),(0,l._)("div",Id,[(0,l._)("div",Nd,[Td,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Subject","onUpdate:modelValue":e[1]||(e[1]=t=>o.titleMsg=t)},null,512),[[s.nr,o.titleMsg]])])]),(0,l._)("div",Ld,[(0,l._)("div",Hd,[qd,(0,l.wy)((0,l._)("textarea",{class:"textarea",placeholder:"Message","onUpdate:modelValue":e[2]||(e[2]=t=>o.noticeMsg=t)},"default value",512),[[s.nr,o.noticeMsg]])])]),(0,l._)("div",Vd,[(0,l._)("div",Od,[(0,l._)("button",{class:(0,v.C_)(["button is-primary",{"is-loading":o.loadingButton}]),onClick:e[3]||(e[3]=(...t)=>n.sendNotif&&n.sendNotif(...t)),disabled:""==o.selectedPatient||""==o.noticeMsg},"Send",10,Ed)])]),o.notificationSent?((0,l.wg)(),(0,l.iD)("p",Fd,[$d,(0,l._)("b",null,(0,v.zw)(o.messageSuccessSelectedPatient),1),Rd])):(0,l.kq)("",!0),(0,l._)("a",{class:"button is-size-6 has-text-danger is-pulled-right",onClick:e[4]||(e[4]=t=>o.clearMsgPrompt=!0)},"Clear message history"),Bd,o.clearMsgPrompt?((0,l.wg)(),(0,l.iD)("div",Yd,[jd,(0,l._)("div",Wd,[(0,l._)("button",{class:"button",onClick:e[5]||(e[5]=(...t)=>n.clearNotif&&n.clearNotif(...t))},"Yes"),(0,l._)("button",{class:"button",onClick:e[6]||(e[6]=t=>o.clearMsgPrompt=!1)},"No")])])):(0,l.kq)("",!0),0!==Object.keys(o.messageHistory).length?((0,l.wg)(),(0,l.iD)("div",Kd,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.messageHistory,((e,a)=>((0,l.wg)(),(0,l.iD)("div",{class:"container",key:a},[(0,l._)("div",Gd,[(0,l._)("div",Zd,[(0,l._)("p",null,"To: "+(0,v.zw)(e.to),1),(0,l._)("p",null,"Subject: "+(0,v.zw)(e.subject),1),(0,l._)("p",null,"Message: "+(0,v.zw)(e.message),1),e.id?((0,l.wg)(),(0,l.iD)("div",Qd,[(0,l._)("figure",Xd,[(0,l._)("img",{loading:"lazy",src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/doctorCopy/${t.$store.state.doctorID+e.id}.jpg`},null,8,Jd)]),(0,l._)("div",tu,[(0,l._)("a",{href:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/patientimgmsg/doctorCopy/${t.$store.state.doctorID+e.id}.jpg`,class:"button",download:""},"Download File",8,eu)])])):(0,l.kq)("",!0),au,(0,l._)("p",null,"Date: "+(0,v.zw)(new Date(e.date).toLocaleString()),1)]),(0,l._)("button",{class:"delete",onClick:t=>n.deleteNotif(e)},null,8,su)])])))),128))])):((0,l.wg)(),(0,l.iD)("div",iu,ou))])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:e[7]||(e[7]=(...t)=>n.sendNotifInactive&&n.sendNotifInactive(...t))})],2),(0,l._)("section",nu,[(0,l._)("div",cu,[ru,(0,l._)("div",du,[(0,l._)("div",uu,[(0,l.wy)((0,l._)("input",{class:"input",type:"text",style:{width:"50% !important"},"onUpdate:modelValue":e[8]||(e[8]=t=>o.searchBar=t),placeholder:"Search..."},null,512),[[s.nr,o.searchBar]])])]),0!==Object.keys(n.appointmentSchedules).length?((0,l.wg)(),(0,l.iD)("div",pu,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.appointmentSchedules,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,v.C_)(["box",{"is-hidden":new Date(e).toDateString()==(new Date).toDateString()}]),key:e},[(0,l._)("h1",hu,"Schedule: "+(0,v.zw)(new Date(e).toDateString()),1),(0,l._)("div",mu,[(0,l._)("table",gu,[vu,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t,(t=>((0,l.wg)(),(0,l.iD)("tbody",{key:t._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"button is-info",onClick:e=>n.sendNotifActive(t.patientID,t.firstName,t.lastName)},"Send a notification",8,wu),(0,l._)("th",_u,(0,v.zw)(t.referenceID),1),(0,l._)("th",bu,(0,v.zw)(t.priorityNum),1),(0,l._)("th",yu,(0,v.zw)(t.hospital),1),(0,l._)("td",ku,(0,v.zw)(t.firstName),1),(0,l._)("td",fu,(0,v.zw)(t.lastName),1),(0,l._)("td",Du,(0,v.zw)(t.contactNum),1),(0,l._)("td",Cu,(0,v.zw)(t.birthDay),1),(0,l._)("td",xu,(0,v.zw)(t.comments),1)])])))),128))])])],2)))),128))])):((0,l.wg)(),(0,l.iD)("div",Su,"No previous appointments."))])])])])])}var Au={name:"PatientLogs",components:{DoctorMenu:vo},async mounted(){await ie().post("/api/appointmentList/doctors",{id:this.$store.state.doctorID}).then((t=>this.appointmentSched=t.data)),await ie().get("/api/doctor").then((t=>this.patients=t.data.find((t=>t.alias==this.alias)))),await ie().get("/session/doctor").then((t=>this.doctorName=t.data.fullname)),await ie().get("/session/doctor").then((t=>this.messageHistory=t.data.messageHistory.reverse()))},data(){return{clearMsgPrompt:!1,loadingButton:!1,searchBar:"",appointmentSched:[],alias:this.$store.state.alias,file:null,patients:[],isActiveModal:!1,selectedPatient:"",messageSuccessSelectedPatient:"",refID:"",doctorName:"",titleMsg:"",noticeMsg:"Dear",notificationSent:!1,messageHistory:[]}},computed:{appointmentSchedules(){return!!this.appointmentSched&&Yl().groupBy(this.appointmentSched.filter((t=>t.firstName.toLowerCase().includes(this.searchBar.toLowerCase())||t.lastName.toLowerCase().includes(this.searchBar.toLowerCase())||t.referenceID.toLowerCase().includes(this.searchBar.toLowerCase()))).sort(((t,e)=>new Date(e.schedule[0].date).getTime()-new Date(t.schedule[0].date).getTime())).filter((t=>new Date(t.schedule[0].date).getTime()<(new Date).getTime()||1==t.ifPatientVisited)),"schedule[0].date")}},methods:{sendNotifActive(t,e,a){this.isActiveModal=!0,this.selectedPatient=e+" "+a,this.noticeMsg=`Dear Ms/Mr. ${this.selectedPatient},`,la.connect(),la.emit("join room",t)},sendNotifInactive(){this.isActiveModal=!1,this.selectedPatient="",la.disconnect()},generateRefID(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=e.length;for(let s=0;s<12;s++)t+=e.charAt(Math.floor(Math.random()*a));this.refID=t},async sendNotif(){if(this.loadingButton=!0,this.file){this.generateRefID();const t=new FormData;t.append("id",this.refID),t.append("doctorID",this.$store.state.doctorID),t.append("imgFile",this.file),await ie().post("/api/imgUploadImgMsg",t,{headers:{"Content-Type":"multipart/form-data"}})}else this.refID=null;let t;this.messageSuccessSelectedPatient=this.selectedPatient,la.emit("message",this.refID,this.titleMsg,this.noticeMsg,this.doctorName,new Date),await ie().post("/api/pushMsg",{id:this.$store.state.doctorID,message:{id:this.refID,to:this.selectedPatient,subject:this.titleMsg,message:this.noticeMsg,date:new Date}}).then((e=>t=e.data)).catch((t=>{console.log(t)})),await ie().put("/session/doctor",{messageHistory:t}),this.messageHistory=t.reverse(),this.noticeMsg="",this.notificationSent=!0,this.loadingButton=!1},async deleteNotif(t){let e;try{await ie().post("/api/imgUploadImgMsgDeleteDoctor",{doctorID:"assets/patientimgmsg/doctorCopy/"+this.$store.state.doctorID,id:t.id}),await ie().post("/api/pullMsg",{id:this.$store.state.doctorID,message:t}).then((t=>e=t.data)).catch((t=>{console.log(t)})),await ie().put("/session/doctor",{messageHistory:e})}catch(a){console.log(a)}this.messageHistory=e.reverse()},async clearNotif(){try{await ie().post("/api/imgUploadImgMsgClearDoctor",{doctorID:this.$store.state.doctorID}),await ie().post("/api/clearMsg",{id:this.$store.state.doctorID}).then((t=>this.messageHistory=t.data)).catch((t=>console.log(t))),await ie().put("/session/doctor",{messageHistory:this.messageHistory})}catch(t){console.log(t)}this.clearMsgPrompt=!1},handleFile(t){this.file=t.target.files[0]}}};const Pu=(0,c.Z)(Au,[["render",Uu]]);var Mu=Pu;const zu=t=>((0,l.dD)("data-v-5fba7b41"),t=t(),(0,l.Cn)(),t),Iu={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Nu={class:"columns"},Tu={class:"column is-2"},Lu={class:"column",style:{"background-color":"whitesmoke"}},Hu={class:"section",style:{"background-color":"whitesmoke"}},qu=zu((()=>(0,l._)("h1",{class:"title"},"SECURITY",-1))),Vu={class:"container box"},Ou={key:0,class:"message is-danger"},Eu=zu((()=>(0,l._)("div",{class:"message-header"},[(0,l._)("p",null,"YOU ARE NOT VERIFIED ❌")],-1))),Fu=zu((()=>(0,l._)("div",{class:"message-body"},[(0,l.Uk)(" To get verified, link your "),(0,l._)("b",null,"email account"),(0,l.Uk)(". ")],-1))),$u=[Eu,Fu],Ru={class:"columns"},Bu={class:"column"},Yu=zu((()=>(0,l._)("h1",{class:"title"},"Change password:",-1))),ju=zu((()=>(0,l._)("div",{class:"block"},null,-1))),Wu={class:"field"},Ku={class:"control"},Gu=zu((()=>(0,l._)("label",{class:"label"},"Current password",-1))),Zu={key:0,class:"notification is-warning"},Qu={class:"field"},Xu={class:"control"},Ju=zu((()=>(0,l._)("label",{class:"label"},"Create new password:",-1))),tp={key:0,class:"notification is-danger"},ep={class:"field"},ap={class:"control"},sp=zu((()=>(0,l._)("label",{class:"label"},"Repeat new password:",-1))),ip={key:0,class:"notification is-danger"},lp={class:"field"},op={class:"control"},np={class:"checkbox"},cp=(0,l.Uk)(" Show password "),rp={class:"field"},dp={class:"control"},up=["disabled"],pp={key:0,class:"notification is-success"},hp={class:"column"},mp=zu((()=>(0,l._)("div",{class:"modal-background"},null,-1))),gp={key:0,class:"modal-content box section",id:"OTPModal",style:{width:"33%"}},vp={key:0,class:"notification is-info is-light"},wp={key:1,class:"notification is-danger"},_p={key:2,class:"field"},bp={class:"control has-text-centered"},yp=["disabled"],kp={key:3,class:"has-text-centered"},fp=["disabled"],Dp={key:0,class:"notification is-danger"},Cp={key:1,class:"modal-content box section",id:"OTPModal",style:{width:"33%"}},xp={key:0,class:"field"},Sp=zu((()=>(0,l._)("div",{class:"notification is-success is-light"},"Verify your email.",-1))),Up={class:"control has-text-centered"},Ap={class:"has-text-centered"},Pp=["disabled"],Mp={key:1,class:"field"},zp={key:0,class:"notification is-info is-light"},Ip={key:1,class:"notification is-danger is-light"},Np={key:0},Tp={key:1},Lp={class:"control has-text-centered"},Hp=["disabled"],qp={key:2,class:"has-text-centered"},Vp=["disabled"],Op={key:0,class:"notification is-danger"},Ep={class:"field"},Fp={class:"control"},$p=zu((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"License No.")],-1))),Rp=["disabled"],Bp={class:"field is-horizontal"},Yp={class:"field-body"},jp={class:"field"},Wp={class:"control"},Kp=zu((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Full Name:")],-1))),Gp=["disabled"],Zp={class:"field"},Qp={class:"control"},Xp={class:"label"},Jp=(0,l.Uk)(" Email "),th={key:0,class:"has-text-success"},eh=zu((()=>(0,l._)("b",null,"Verified ✓",-1))),ah=[eh],sh={key:1,class:"has-text-danger"},ih=zu((()=>(0,l._)("b",null,"Requires verification ❌",-1))),lh=[ih],oh=["disabled"],nh={key:0,class:"notification is-success is-light"};function ch(t,e,a,i,o,n){const c=(0,l.up)("DoctorMenu"),r=(0,l.up)("ForgotPassword");return(0,l.wg)(),(0,l.iD)("div",Iu,[(0,l._)("div",Nu,[(0,l._)("div",Tu,[(0,l.Wm)(c)]),(0,l._)("div",Lu,[(0,l._)("section",Hu,[qu,(0,l._)("div",Vu,[o.verified?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("article",Ou,$u)),(0,l._)("div",Ru,[(0,l._)("div",Bu,[Yu,null!=o.gmail?((0,l.wg)(),(0,l.j4)(r,{key:0,userType:"doctor",email:o.gmail},null,8,["email"])):(0,l.kq)("",!0),ju,(0,l._)("div",Wu,[(0,l._)("div",Ku,[Gu,(0,l.wy)((0,l._)("input",{class:"input password",size:"5",type:"password","onUpdate:modelValue":e[0]||(e[0]=t=>o.currentPassword=t),required:""},null,512),[[s.nr,o.currentPassword]])]),o.incorrectPasswordValidate?((0,l.wg)(),(0,l.iD)("div",Zu,(0,v.zw)(o.currentPasswordValidateMessage),1)):(0,l.kq)("",!0)]),(0,l._)("div",Qu,[(0,l._)("div",Xu,[Ju,(0,l.wy)((0,l._)("input",{class:(0,v.C_)(["input password",{"is-danger":o.passwordValidate}]),size:"5",type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),required:""},null,2),[[s.nr,o.password]])]),o.passwordValidate?((0,l.wg)(),(0,l.iD)("div",tp,(0,v.zw)(o.passwordValidateMessage),1)):(0,l.kq)("",!0)]),(0,l._)("div",ep,[(0,l._)("div",ap,[sp,(0,l.wy)((0,l._)("input",{class:(0,v.C_)(["input password",{"is-danger":o.passwordValidate}]),size:"5",type:"password","onUpdate:modelValue":e[2]||(e[2]=t=>o.passwordRepeat=t),required:""},null,2),[[s.nr,o.passwordRepeat]])]),o.passwordValidate?((0,l.wg)(),(0,l.iD)("div",ip,(0,v.zw)(o.passwordValidateMessage),1)):(0,l.kq)("",!0)]),(0,l._)("div",lp,[(0,l._)("div",op,[(0,l._)("label",np,[(0,l._)("input",{type:"checkbox",onClick:e[3]||(e[3]=(...t)=>n.showPass&&n.showPass(...t))}),cp])])]),(0,l._)("div",rp,[(0,l._)("div",dp,[(0,l._)("button",{class:"button is-danger",type:"submit",onClick:e[4]||(e[4]=(...t)=>n.updatePassword&&n.updatePassword(...t)),disabled:null==o.currentPassword||null==o.password||null==o.passwordRepeat},"Confirm",8,up),o.passwordSuccess?((0,l.wg)(),(0,l.iD)("div",pp,"Password has been changed.")):(0,l.kq)("",!0)])])]),(0,l._)("div",hp,[(0,l._)("p",null,[o.verified?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"has-text-info",onClick:e[5]||(e[5]=(...t)=>n.modalUpEditInfo&&n.modalUpEditInfo(...t))},"[Edit Information]")):((0,l.wg)(),(0,l.iD)("a",{key:1,class:"has-text-danger",onClick:e[6]||(e[6]=(...t)=>n.modalUpInfoVerify&&n.modalUpInfoVerify(...t))},"[Verify Now]"))]),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isActiveModal}])},[mp,o.verified?((0,l.wg)(),(0,l.iD)("div",gp,[o.codeError?((0,l.wg)(),(0,l.iD)("div",wp,"You can only request a verification code once, please try again in 10 minutes.")):((0,l.wg)(),(0,l.iD)("div",vp,"We have sent you a verification code on your email.")),o.codeError?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",_p,[(0,l._)("div",bp,[(0,l.wy)((0,l._)("input",{class:"input",type:"number",maxlength:"4",id:"OTP","onUpdate:modelValue":e[7]||(e[7]=t=>o.OTP=t),oninput:"this.value=this.value.slice(0,this.maxLength)",disabled:o.codeError},null,8,yp),[[s.nr,o.OTP]])])])),o.codeError?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",kp,[(0,l._)("button",{class:"button is-info",disabled:""===o.OTP,onClick:e[8]||(e[8]=(...t)=>n.confirmOTPEditInfo&&n.confirmOTPEditInfo(...t))},"Confirm",8,fp),o.incorrectCode?((0,l.wg)(),(0,l.iD)("div",Dp,"Incorrect code, please check your email thoroughly.")):(0,l.kq)("",!0)])),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:e[9]||(e[9]=(...t)=>n.closeModal&&n.closeModal(...t))})])):((0,l.wg)(),(0,l.iD)("div",Cp,[o.verifyEmailSent?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",xp,[Sp,(0,l._)("div",Up,[(0,l.wy)((0,l._)("input",{class:"input",type:"email","onUpdate:modelValue":e[10]||(e[10]=t=>o.gmail=t)},null,512),[[s.nr,o.gmail]])]),(0,l._)("div",Ap,[(0,l._)("button",{class:"button is-success",onClick:e[11]||(e[11]=(...t)=>n.sendVerificationEmail&&n.sendVerificationEmail(...t)),disabled:""===o.gmail},"Verify",8,Pp)])])),o.verifyEmailSent?((0,l.wg)(),(0,l.iD)("div",Mp,[o.codeError?((0,l.wg)(),(0,l.iD)("div",Ip,[o.emailTaken?((0,l.wg)(),(0,l.iD)("span",Np,"Email address is already taken.")):((0,l.wg)(),(0,l.iD)("span",Tp,"You can only request a verification code once, please try again in 10 minutes."))])):((0,l.wg)(),(0,l.iD)("div",zp,"We have sent you a verification code on your email.")),(0,l._)("div",Lp,[o.codeError?(0,l.kq)("",!0):(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:0,class:"input",type:"number",maxlength:"4",id:"OTP","onUpdate:modelValue":e[12]||(e[12]=t=>o.OTP=t),oninput:"this.value=this.value.slice(0,this.maxLength)",disabled:o.codeError||""==o.OTP},null,8,Hp)),[[s.nr,o.OTP]])]),o.codeError?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",qp,[(0,l._)("button",{class:"button is-info",disabled:""===o.OTP,onClick:e[13]||(e[13]=(...t)=>n.verifyEmail&&n.verifyEmail(...t))},"Confirm",8,Vp),o.incorrectCode?((0,l.wg)(),(0,l.iD)("div",Op,"Incorrect code, please check your email thoroughly.")):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:e[14]||(e[14]=(...t)=>n.closeModal&&n.closeModal(...t))})]))],2),(0,l._)("div",Ep,[(0,l._)("div",Fp,[$p,(0,l.wy)((0,l._)("input",{class:(0,v.C_)(["input",{"is-success":o.authorized}]),type:"text","onUpdate:modelValue":e[15]||(e[15]=t=>o.licenseNo=t),style:{width:"33%"},disabled:!o.authorized},null,10,Rp),[[s.nr,o.licenseNo]])])]),(0,l._)("div",Bp,[(0,l._)("div",Yp,[(0,l._)("div",jp,[(0,l._)("div",Wp,[Kp,(0,l.wy)((0,l._)("input",{class:(0,v.C_)(["input",{"is-success":o.authorized}]),size:"5",type:"text","onUpdate:modelValue":e[16]||(e[16]=t=>o.fullname=t),disabled:!o.authorized},null,10,Gp),[[s.nr,o.fullname]])])]),(0,l._)("div",Zp,[(0,l._)("div",Qp,[(0,l._)("label",Xp,[Jp,o.verified?((0,l.wg)(),(0,l.iD)("span",th,ah)):((0,l.wg)(),(0,l.iD)("span",sh,lh))]),(0,l.wy)((0,l._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":e[17]||(e[17]=t=>o.gmail=t),disabled:""},null,512),[[s.nr,o.gmail]])])])])]),(0,l._)("button",{class:"button is-link",disabled:!o.authorized,onClick:e[18]||(e[18]=(...t)=>n.updateInfo&&n.updateInfo(...t))},"Confirm",8,oh),o.updateInfoSuccess?((0,l.wg)(),(0,l.iD)("div",nh,"Changes have been updated successfully.")):(0,l.kq)("",!0)])])])])])])])}var rh={name:"DoctorSecurity",components:{DoctorMenu:vo,ForgotPassword:(0,l.RC)((()=>Promise.resolve().then(a.bind(a,9615))))},async mounted(){await ie().get("/session/doctor").then((t=>this.doctorDetails=t.data)),this.verified=await this.doctorDetails.verified,this.id=await this.doctorDetails._id,this.licenseNo=await this.doctorDetails.licenseNo,this.fullname=await this.doctorDetails.fullname,this.gmail=await this.doctorDetails.gmail},data(){return{doctorDetails:[],OTP:null,id:null,isActiveModal:!1,currentPassword:null,currentPasswordValidate:null,currentPasswordValidateMessage:null,currentValidateMessage:null,passwordValidateMessage:null,incorrectPasswordValidate:null,passwordValidate:null,password:null,passwordRepeat:null,passwordSuccess:!1,verified:null,licenseNo:null,fullname:null,gmail:null,authorized:!1,verifyEmailSent:!1,emailTaken:!1,codeError:!1,updateInfoSuccess:!1,incorrectCode:!1,errMsg:""}},methods:{async updatePassword(){if(""!==await this.currentPassword&&""!==this.password&&""!==this.passwordRepeat)if(this.password!==this.passwordRepeat)this.passwordValidate=!0,this.passwordValidateMessage="Passwords do not match",this.passwordSuccess=!1;else try{await ie().put("/api/updatePassword/doctor",{doctorID:this.id,currentPassword:this.currentPassword,newPassword:this.password}).then((t=>{t.data?(this.incorrectPasswordValidate=!1,this.passwordValidate=!1,this.passwordSuccess=!0,this.currentPassword=null,this.password=null,this.passwordRepeat=null):(this.passwordValidate=!1,this.passwordSuccess=!1,this.incorrectPasswordValidate=!0,this.currentPasswordValidateMessage="Incorrect current password")}))}catch(t){this.passwordValidate=!1,this.passwordSuccess=!1,this.incorrectPasswordValidate=!0,this.errMsg=t}},showPass(){let t=document.getElementsByClassName("password");for(let e=0;e<t.length;e++)"password"===t[e].type?t[e].type="text":t[e].type="password"},async modalUpEditInfo(){let t=Math.floor(1e3+9e3*Math.random());await ie().post("/api/code/email",{email:this.gmail}).then((async e=>{e.data?(this.isActiveModal=!0,this.codeError=!0):(this.isActiveModal=!0,await ie().post("/api/code",{email:this.gmail,code:t}),await ie().post("/api/OTPMail",{email:this.gmail,code:t}))}))},async modalUpInfoVerify(){this.isActiveModal=!0},async sendVerificationEmail(){let t=[],e=Math.floor(1e3+9e3*Math.random());await ie().get("/api/doctor").then((e=>t=e.data.find((t=>t.gmail===this.gmail)))),"undefined"!==typeof t?await ie().post("/api/code/email",{email:this.gmail}).then((async t=>{t.data?(this.verifyEmailSent=!0,this.codeError=!0):(await ie().post("/api/code",{email:this.gmail,code:e}),await ie().post("/api/OTPMail",{email:this.gmail,code:e}),this.verifyEmailSent=!0)})):(this.verifyEmailSent=!0,this.codeError=!0,this.emailTaken=!0)},async confirmOTPEditInfo(){await ie().post("/api/code/verify",{code:this.OTP}).then((t=>{t.data?this.codeError||(this.authorized=!0,this.isActiveModal=!1):this.incorrectCode=!0}))},async verifyEmail(){await ie().post("/api/code/verify",{code:this.OTP}).then((async t=>{await t.data?this.codeError?this.incorrectCode=!0:(await ie().put(`/api/doctor/${this.id}`,{gmail:this.gmail,verified:!0}),await ie().put("/session/doctor",{gmail:this.gmail,verified:!0}),this.verified=!0,this.isActiveModal=!1,this.isActiveModal||await ie().get("/session/doctor").then((t=>this.doctorDetails=t.data))):this.incorrectCode=!0}))},async updateInfo(){this.verified&&(await ie().put(`/api/doctor/${this.id}`,{licenseNo:this.licenseNo,name:this.fullname}),await ie().put("/session/doctor",{licenseNo:this.licenseNo,name:this.fullname}),await ie().get("/session/doctor").then((t=>this.fullname=t.data.fullname)),this.updateInfoSuccess=!0)},closeModal(){this.isActiveModal=!1}}};const dh=(0,c.Z)(rh,[["render",ch],["__scopeId","data-v-5fba7b41"]]);var uh=dh;const ph={class:"section is-medium"},hh={class:"subtitle has-text-centered"},mh=(0,l.Uk)(" You have been successfuly appointed to "),gh=(0,l.Uk)(" at "),vh=(0,l.Uk)(", "),wh=(0,l.Uk)(" - "),_h=(0,l.Uk)(" in "),bh=(0,l.Uk)(". "),yh={class:"subtitle has-text-centered"},kh=(0,l.Uk)("Your "),fh=(0,l._)("b",null,"priority number",-1),Dh=(0,l.Uk)(" is "),Ch=(0,l._)("br",null,null,-1),xh={class:"subtitle is-6 has-text-centered has-text-weight-bold"},Sh=(0,l._)("hr",null,null,-1),Uh=(0,l._)("h1",{class:"title"},"Patient Details ",-1),Ah=(0,l._)("br",null,null,-1),Ph={class:"subtitle"},Mh=(0,l._)("b",null,"First Name:",-1),zh={class:"subtitle"},Ih=(0,l._)("b",null,"Last Name:",-1),Nh={class:"subtitle"},Th=(0,l._)("b",null,"Contact Number:",-1),Lh={class:"subtitle"},Hh=(0,l._)("b",null,"Birthday:",-1),qh={class:"subtitle"},Vh=(0,l._)("b",null,"Symptoms/Comments:",-1);function Oh(t,e,a,s,i,o){const n=(0,l.up)("NavigationTab");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(n),(0,l._)("section",ph,[(0,l._)("h1",hh,[mh,(0,l._)("b",null,(0,v.zw)(i.patient.doctor)+", "+(0,v.zw)(i.patient.specialization),1),gh,(0,l._)("b",null,(0,v.zw)(new Date(i.patient.schedule.date).toDateString()),1),vh,(0,l._)("b",null,(0,v.zw)(i.patient.schedule.timeStart),1),wh,(0,l._)("b",null,(0,v.zw)(i.patient.schedule.timeEnd),1),_h,(0,l._)("b",null,(0,v.zw)(i.patient.hospital),1),bh]),(0,l._)("h1",yh,[kh,fh,Dh,(0,l._)("b",null,(0,v.zw)(i.patient.priorityNum),1)]),Ch,(0,l._)("p",xh,"Reference ID: "+(0,v.zw)(i.patient.referenceID),1),Sh,Uh,Ah,(0,l._)("h1",Ph,[Mh,(0,l.Uk)(" "+(0,v.zw)(i.patient.firstName),1)]),(0,l._)("h1",zh,[Ih,(0,l.Uk)(" "+(0,v.zw)(i.patient.lastName),1)]),(0,l._)("h1",Nh,[Th,(0,l.Uk)(" "+(0,v.zw)(i.patient.contactNum),1)]),(0,l._)("h1",Lh,[Hh,(0,l.Uk)(" "+(0,v.zw)(i.patient.birthDay),1)]),(0,l._)("h1",qh,[Vh,(0,l.Uk)(" "+(0,v.zw)(i.patient.comments),1)])])],64)}var Eh={name:"pickDoctorSuccess",data(){return{patient:m.state.patientDetails}},mounted(){m.commit("statusAvailability",!1)},components:{NavigationTab:ca}};const Fh=(0,c.Z)(Eh,[["render",Oh]]);var $h=Fh;const Rh={class:"container",style:{"margin-top":"20%"}},Bh=(0,l._)("h1",{class:"title has-text-centered"},"Profile image changed successfully, changes may take a few minutes to hours to take effect.",-1),Yh=(0,l._)("br",null,null,-1),jh=(0,l._)("h1",{class:"subtitle has-text-centered"},"Redirecting browser in 15 seconds.",-1),Wh=(0,l._)("h1",{class:"subtitle has-text-centered"},[(0,l.Uk)(" If the browser does not reload automatically, please click "),(0,l._)("a",{href:"/doctor/login"},"here")],-1),Kh=[Bh,Yh,jh,Wh];function Gh(t,e,a,s,i,o){return(0,l.wg)(),(0,l.iD)("div",Rh,Kh)}var Zh={name:"imgUploadSuccess",created(){setTimeout((()=>{window.location.href="/doctor/login",this.$store.commit("imgSuccess",!1)}),15e3)}};const Qh=(0,c.Z)(Zh,[["render",Gh]]);var Xh=Qh;const Jh={class:"container",style:{"margin-top":"20%"}},tm=(0,l._)("h1",{class:"title has-text-centered"},"Your account has been successfully created, please login onto your account and setup your schedule to start.",-1),em=(0,l._)("br",null,null,-1),am=(0,l._)("h1",{class:"subtitle has-text-centered"},"Redirecting browser in 15 seconds.",-1),sm=(0,l._)("h1",{class:"subtitle has-text-centered"},[(0,l.Uk)(" If the browser does not reload automatically, please click "),(0,l._)("a",{href:"/admin/login"},"here")],-1),im=[tm,em,am,sm];function lm(t,e,a,s,i,o){return(0,l.wg)(),(0,l.iD)("div",Jh,im)}var om={name:"imageUploadSuccessDoctor",created(){setTimeout((()=>{window.location.href="/doctor/login",this.$store.commit("imgSuccess",!1)}),15e3)}};const nm=(0,c.Z)(om,[["render",lm]]);var cm=nm;const rm={class:"container",style:{"margin-top":"20%"}},dm=(0,l._)("h1",{class:"title has-text-centered"},"Hospital image changed successfully, changes may take a few minutes to hours to take effect.",-1),um=(0,l._)("br",null,null,-1),pm=(0,l._)("h1",{class:"subtitle has-text-centered"},"Redirecting browser in 15 seconds.",-1),hm=(0,l._)("h1",{class:"subtitle has-text-centered"},[(0,l.Uk)(" If the browser does not reload automatically, please click "),(0,l._)("a",{href:"/user/manager/login"},"here")],-1),mm=[dm,um,pm,hm];function gm(t,e,a,s,i,o){return(0,l.wg)(),(0,l.iD)("div",rm,mm)}var vm={name:"imgUploadSuccessManager",created(){setTimeout((()=>{window.location.href="/user/manager/login",this.$store.commit("imgSuccessManager",!1)}),15e3)}};const wm=(0,c.Z)(vm,[["render",gm]]);var _m=wm;const bm=t=>((0,l.dD)("data-v-0628a19e"),t=t(),(0,l.Cn)(),t),ym={class:"section"},km=bm((()=>(0,l._)("i",{class:"fa-solid fa-arrow-left"},null,-1))),fm=(0,l.Uk)(" Back to Login"),Dm={class:"container",style:{width:"50%",margin:"auto"}},Cm={key:0,class:"notification is-danger"},xm=(0,l.Uk)(" Oops, something went wrong. Try again later or "),Sm=(0,l.Uk)("contact us"),Um=bm((()=>(0,l._)("h1",{class:"title has-text-primary"},"You're almost there...",-1))),Am={class:"box"},Pm={class:"field is-horizontal"},Mm={class:"field-body"},zm={class:"field"},Im={class:"control"},Nm=bm((()=>(0,l._)("label",{class:"label"},"First name:",-1))),Tm={class:"field"},Lm={class:"control"},Hm=bm((()=>(0,l._)("label",{class:"label"},"Last name:",-1))),qm={class:"field is-horizontal"},Vm={class:"field-body"},Om={class:"field"},Em={class:"control"},Fm=bm((()=>(0,l._)("label",{class:"label"},"Age:",-1))),$m=bm((()=>(0,l._)("br",null,null,-1))),Rm={class:"field"},Bm={class:"control"},Ym=bm((()=>(0,l._)("label",{class:"label"},"Gender:",-1))),jm={class:"radio"},Wm=(0,l.Uk)(" Male "),Km={class:"radio"},Gm=(0,l.Uk)(" Female "),Zm={class:"field is-horizontal"},Qm=bm((()=>(0,l._)("br",null,null,-1))),Xm={class:"field-body"},Jm={class:"field"},tg={class:"control"},eg=bm((()=>(0,l._)("label",{class:"label"},"Contact Number:",-1))),ag={class:"field"},sg={class:"control"},ig=bm((()=>(0,l._)("label",{class:"label"},"Gmail(Optional):",-1))),lg={class:"field is-horizontal"},og={class:"field-body"},ng={class:"field"},cg={class:"control"},rg=bm((()=>(0,l._)("label",{class:"label"},"Province:",-1))),dg={class:"dropdown-trigger"},ug={key:0},pg={key:1},hg={class:"dropdown-menu"},mg=["onClick"],gg={class:"field"},vg={class:"control"},wg=bm((()=>(0,l._)("div",{class:"label"},"City/Municipality:",-1))),_g={class:"dropdown-trigger"},bg=["disabled"],yg={key:0},kg={key:1},fg={key:0,class:"dropdown-menu"},Dg=["onClick"],Cg={class:"field"},xg={class:"control"},Sg=bm((()=>(0,l._)("label",{class:"label"},"Current Address",-1))),Ug={class:"field"},Ag={class:"control"},Pg=bm((()=>(0,l._)("label",{class:"label"},"Username:",-1))),Mg={key:0},zg={key:0,class:"help is-danger"},Ig=(0,l.Uk)("Unavailable"),Ng={key:0,class:"fas fa-spinner fa-spin"},Tg={key:1,class:"help is-success"},Lg=(0,l.Uk)("Available"),Hg={key:0,class:"fas fa-spinner fa-spin"},qg={class:"field is-horizontal"},Vg={class:"field-body"},Og={class:"field"},Eg={class:"control"},Fg=bm((()=>(0,l._)("label",{class:"label"},"Password:",-1))),$g={class:"subtitle has-text-danger"},Rg={class:"field"},Bg={class:"control"},Yg=bm((()=>(0,l._)("label",{class:"label"},"Repeat Password:",-1))),jg={class:"subtitle has-text-danger"},Wg={class:"checkbox"},Kg=(0,l.Uk)(" I agree to the "),Gg=bm((()=>(0,l._)("a",{href:"#"},"terms and conditions",-1))),Zg=bm((()=>(0,l._)("br",null,null,-1))),Qg={class:"has-text-right"},Xg=["disabled"];function Jg(t,e,a,i,o,n){const c=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("section",ym,[(0,l.Wm)(c,{to:"/user/login"},{default:(0,l.w5)((()=>[km,fm])),_:1}),(0,l._)("div",Dm,[o.errMsg?((0,l.wg)(),(0,l.iD)("div",Cm,[xm,(0,l.Wm)(c,{to:"/contactus"},{default:(0,l.w5)((()=>[Sm])),_:1})])):(0,l.kq)("",!0),Um,(0,l._)("div",Am,[(0,l._)("div",Pm,[(0,l._)("div",Mm,[(0,l._)("div",zm,[(0,l._)("p",Im,[Nm,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"First name","onUpdate:modelValue":e[0]||(e[0]=t=>o.firstName=t),required:""},null,512),[[s.nr,o.firstName]])])]),(0,l._)("div",Tm,[(0,l._)("p",Lm,[Hm,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Last name","onUpdate:modelValue":e[1]||(e[1]=t=>o.lastName=t),required:""},null,512),[[s.nr,o.lastName]])])])])]),(0,l._)("div",qm,[(0,l._)("div",Vm,[(0,l._)("div",Om,[(0,l._)("p",Em,[Fm,(0,l.wy)((0,l._)("input",{class:"input",type:"number",placeholder:"age","onUpdate:modelValue":e[2]||(e[2]=t=>o.age=t),required:""},null,512),[[s.nr,o.age]])])]),$m,(0,l._)("div",Rm,[(0,l._)("p",Bm,[Ym,(0,l._)("label",jm,[(0,l._)("input",{type:"radio",name:"sex",onClick:e[3]||(e[3]=(...t)=>n.sexMale&&n.sexMale(...t))}),Wm]),(0,l._)("label",Km,[(0,l._)("input",{type:"radio",name:"sex",onClick:e[4]||(e[4]=(...t)=>n.sexFemale&&n.sexFemale(...t))}),Gm])])])])]),(0,l._)("div",Zm,[Qm,(0,l._)("div",Xm,[(0,l._)("div",Jm,[(0,l._)("p",tg,[eg,(0,l.wy)((0,l._)("input",{class:"input",type:"number",placeholder:"contact number","onUpdate:modelValue":e[5]||(e[5]=t=>o.contactNum=t),required:""},null,512),[[s.nr,o.contactNum]])])]),(0,l._)("div",ag,[(0,l._)("p",sg,[ig,(0,l.wy)((0,l._)("input",{class:"input",type:"email",placeholder:"gmail","onUpdate:modelValue":e[6]||(e[6]=t=>o.gmail=t),required:""},null,512),[[s.nr,o.gmail]])])])])]),(0,l._)("div",lg,[(0,l._)("div",og,[(0,l._)("div",ng,[(0,l._)("div",cg,[rg,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownProvince}])},[(0,l._)("div",dg,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:e[7]||(e[7]=(...t)=>n.provinceDropdown&&n.provinceDropdown(...t))},[""==o.province?((0,l.wg)(),(0,l.iD)("span",ug,"Select")):((0,l.wg)(),(0,l.iD)("span",pg,(0,v.zw)(o.province),1))])]),(0,l._)("div",hg,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.geolocationData,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:t._id},[(0,l._)("a",{class:"dropdown-item",onClick:e=>n.selectProvince(t.province)},(0,v.zw)(t.province),9,mg)])))),128))])],2)])]),(0,l._)("div",gg,[(0,l._)("div",vg,[wg,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownCity}])},[(0,l._)("div",_g,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:e[8]||(e[8]=(...t)=>n.cityDropdown&&n.cityDropdown(...t)),disabled:""==o.province},[""==o.city?((0,l.wg)(),(0,l.iD)("span",yg,"Select")):((0,l.wg)(),(0,l.iD)("span",kg,(0,v.zw)(o.city),1))],8,bg)]),o.province?((0,l.wg)(),(0,l.iD)("div",fg,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.citiesData,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:t.name},[(0,l._)("a",{class:"dropdown-item",onClick:e=>n.selectCity(t.name)},(0,v.zw)(t.name),9,Dg)])))),128))])):(0,l.kq)("",!0)],2)])])])]),(0,l._)("div",Cg,[(0,l._)("p",xg,[Sg,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"your current address","onUpdate:modelValue":e[9]||(e[9]=t=>o.currentAddress=t),required:""},null,512),[[s.nr,o.currentAddress]])])]),(0,l._)("div",Ug,[(0,l._)("div",Ag,[Pg,""!==o.usernameFound?((0,l.wg)(),(0,l.iD)("div",Mg,[o.usernameFound?((0,l.wg)(),(0,l.iD)("p",zg,[Ig,o.loadingUsername?((0,l.wg)(),(0,l.iD)("i",Ng)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("p",Tg,[Lg,o.loadingUsername?((0,l.wg)(),(0,l.iD)("i",Hg)):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0),(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"username","onUpdate:modelValue":e[10]||(e[10]=t=>o.username=t),onInput:e[11]||(e[11]=(...t)=>n.usernameFindTimeout&&n.usernameFindTimeout(...t)),required:""},null,544),[[s.nr,o.username]])])]),(0,l._)("div",qg,[(0,l._)("div",Vg,[(0,l._)("div",Og,[(0,l._)("p",Eg,[Fg,(0,l.wy)((0,l._)("input",{class:"input",type:"password",placeholder:"password","onUpdate:modelValue":e[12]||(e[12]=t=>o.password=t),required:""},null,512),[[s.nr,o.password]])]),(0,l._)("p",$g,(0,v.zw)(o.passwordMatch),1)]),(0,l._)("div",Rg,[(0,l._)("p",Bg,[Yg,(0,l.wy)((0,l._)("input",{class:"input",type:"password",placeholder:"repeat password","onUpdate:modelValue":e[13]||(e[13]=t=>o.passwordRepeat=t),required:""},null,512),[[s.nr,o.passwordRepeat]])]),(0,l._)("p",jg,(0,v.zw)(o.passwordMatch),1)])])]),(0,l._)("label",Wg,[(0,l._)("input",{type:"checkbox",onClick:e[14]||(e[14]=(...t)=>n.agreeTermsAndConditions&&n.agreeTermsAndConditions(...t))}),Kg,Gg]),Zg,(0,l._)("div",Qg,[(0,l._)("button",{class:"button is-primary",onClick:e[15]||(e[15]=t=>n.signup(t)),disabled:null==o.firstName||null==o.lastName||null==o.age||null==o.sex||null==o.contactNum||null==o.province||null==o.city||null==o.currentAddress||null==o.username||null==o.password||0==o.termsAndConditionsAgreed},"Confirm",8,Xg)])])])])}var tv={username:"UserSignUp",data(){return{firstName:"",lastName:"",age:"",contactNum:"",gmail:"",currentAddress:"",username:"",password:"",passwordRepeat:"",sex:null,passwordMatch:"",geolocationData:[],isActiveDropdownProvince:!1,isActiveDropdownCity:!1,city:"",province:"",citiesData:[],termsAndConditionsAgreed:!1,errMsg:"",usernameFound:"",loadingUsername:!1,searchTimeout:null}},async mounted(){await ie().get("/api/geolocation").then((t=>this.geolocationData=t.data))},methods:{async usernameFindTimeout(){this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.searchTimeout=setTimeout(this.usernameFinder,500)},async usernameFinder(){this.loadingUsername=!0,await ie().post("/api/user/check_username",{username:this.username}).then((t=>{this.usernameFound=t.data})),""==await this.username&&(this.usernameFound=""),this.loadingUsername=!1},agreeTermsAndConditions(){this.termsAndConditionsAgreed=!0},sexMale(){this.sex="Male"},sexFemale(){this.sex="Female"},async selectProvince(t){this.city="",this.province=t,this.isActiveDropdownProvince=!1,await ie().get("/api/geolocation").then((e=>this.citiesData=e.data.find((e=>e.province===t)))),this.citiesData=await this.citiesData.citiesOrMunicipalities.sort(((t,e)=>t.name>e.name?1:-1))},selectCity(t){this.city=t,this.isActiveDropdownCity=!1},provinceDropdown(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},cityDropdown(){this.isActiveDropdownCity=!this.isActiveDropdownCity},async signup(){if(this.password!==this.passwordRepeat?this.passwordMatch="password do not match":this.passwordMatch=null,this.password===this.passwordRepeat&&!this.usernameFound)try{await ie().post("/api/user",{username:this.username,password:this.password,name:[this.firstName,this.lastName],age:this.age,sex:this.sex,contactNum:this.contactNum,gmail:this.gmail,province:this.province,city:this.city,currentAddress:this.currentAddress}),await this.$store.commit("accountCreated",!0),await this.$router.push("/user/login")}catch(t){this.errMsg=t}}}};const ev=(0,c.Z)(tv,[["render",Jg],["__scopeId","data-v-0628a19e"]]);var av=ev;const sv=t=>((0,l.dD)("data-v-79c96746"),t=t(),(0,l.Cn)(),t),iv={class:"section",style:{height:"92vh"}},lv={class:"container has-text-centered animate__animated animate__fadeInLeft"},ov={class:"box",style:{width:"40%",margin:"auto"}},nv={key:0,class:"notification is-success"},cv=sv((()=>(0,l._)("div",{class:"notification is-info has-text-left"},[(0,l.Uk)(" Are you one of our doctors? Click "),(0,l._)("a",{href:"/doctor/login"},"here"),(0,l.Uk)(". ")],-1))),rv=sv((()=>(0,l._)("br",null,null,-1))),dv=sv((()=>(0,l._)("p",{class:"subtitle has-text-info has-text-left"},"Login to make an appointment.",-1))),uv={class:"field"},pv={class:"control"},hv={class:"control",style:{"margin-top":"2%"}},mv={key:0,class:"subtitle has-text-danger"},gv={key:1,class:"subtitle has-text-danger"},vv=sv((()=>(0,l._)("br",null,null,-1))),wv=sv((()=>(0,l._)("br",null,null,-1))),_v=sv((()=>(0,l._)("h1",{class:"subtitle"},"OR",-1))),bv=sv((()=>(0,l._)("a",{href:"/user/signup"},"Create an account",-1)));function yv(t,e,a,i,o,n){const c=(0,l.up)("NavigationTabVue"),r=(0,l.up)("ForgotPassword");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c),(0,l._)("section",iv,[(0,l._)("div",lv,[(0,l._)("div",ov,[o.newAccount?((0,l.wg)(),(0,l.iD)("div",nv,"Your account has been successfully created.")):(0,l.kq)("",!0),cv,rv,dv,(0,l._)("div",uv,[(0,l._)("div",pv,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t),placeholder:"username",onKeyup:e[1]||(e[1]=(0,s.D2)(((...t)=>n.login&&n.login(...t)),["enter"])),required:""},null,544),[[s.nr,o.username]])]),(0,l._)("div",hv,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":e[2]||(e[2]=t=>o.password=t),placeholder:"password",onKeyup:e[3]||(e[3]=(0,s.D2)(((...t)=>n.login&&n.login(...t)),["enter"])),required:""},null,544),[[s.nr,o.password]])]),o.incorrectUserPass?((0,l.wg)(),(0,l.iD)("h1",mv,(0,v.zw)(o.validateMessage),1)):0==o.incorrectUserPass?((0,l.wg)(),(0,l.iD)("h1",gv,(0,v.zw)(o.validateMessage),1)):(0,l.kq)("",!0),(0,l._)("button",{type:"button",class:"button is-primary",onClick:e[4]||(e[4]=(...t)=>n.login&&n.login(...t))},"Login"),vv,wv,_v,bv]),(0,l.Wm)(r,{userType:"patient"})])])])],64)}var kv={username:"UserLogin",components:{NavigationTabVue:ca,ForgotPassword:Ei["default"]},data(){return{username:null,password:null,userPatient:null,validateMessage:null,incorrectUserPass:Boolean,newAccount:!1}},async mounted(){1==this.$store.state.accountCreated&&(this.newAccount=!0,await this.$store.commit("accountCreated",!1)),null!==this.$store.state.patientUsername&&null!==this.$store.state.patientID&&await this.$router.push(`/user/${this.$store.state.patientUsername}`)},methods:{async login(){null==this.username||null==this.password?(this.incorrectUserPass=!1,this.validateMessage="empty username or password",this.username=null,this.password=null):(await ie().post("/api/auth/patient",{username:this.username,password:this.password}).then((t=>this.userPatient=t.data)),await this.userPatient?(await ie().post("/session/patient",{_id:this.userPatient._id,name:this.userPatient.name,email:this.userPatient.gmail,username:this.username,province:this.userPatient.province,city:this.userPatient.city,currentAddress:this.userPatient.currentAddress}),m.commit("patientUsername",this.userPatient.username),m.commit("patientID",this.userPatient._id),await this.$router.push(`/user/${this.userPatient.username}`)):(this.validateMessage="Incorrect username or password",this.incorrectUserPass=!0,this.username=null,this.password=null))}}};const fv=(0,c.Z)(kv,[["render",yv],["__scopeId","data-v-79c96746"]]);var Dv=fv,Cv=a(2262),xv={__name:"UserView",setup(t){return(t,e)=>((0,l.wg)(),(0,l.j4)((0,Cv.SU)(ua)))}};const Sv=xv;var Uv=Sv;const Av=t=>((0,l.dD)("data-v-153e50a0"),t=t(),(0,l.Cn)(),t),Pv={class:"section",style:{width:"75%",margin:"auto"}},Mv={key:0,class:"container"},zv=Av((()=>(0,l._)("h1",{class:"title"},"Profile",-1))),Iv={key:0,class:"notification is-danger"},Nv=(0,l.Uk)(" Oops, something went wrong. Try again later or "),Tv=(0,l.Uk)("contact us"),Lv={key:1,class:"notification is-success"},Hv={class:"field is-horizontal"},qv={class:"field-body"},Vv={class:"field"},Ov=Av((()=>(0,l._)("label",{class:"label"},"Username:",-1))),Ev={class:"controls"},Fv={class:"field"},$v=Av((()=>(0,l._)("label",{class:"label"},"Email:",-1))),Rv={class:"controls"},Bv={class:"field is-horizontal"},Yv={class:"field-body"},jv={class:"field"},Wv=Av((()=>(0,l._)("label",{class:"label"},"First Name:",-1))),Kv={class:"controls"},Gv={class:"field"},Zv=Av((()=>(0,l._)("label",{class:"label"},"Last Name:",-1))),Qv={class:"controls"},Xv={class:"field is-horizontal"},Jv={class:"field-body"},tw={class:"field"},ew={class:"control"},aw=Av((()=>(0,l._)("label",{class:"label"},"Province:",-1))),sw={class:"dropdown-trigger"},iw={key:0},lw={key:1},ow={class:"dropdown-menu"},nw=["onClick"],cw={class:"field"},rw={class:"control"},dw=Av((()=>(0,l._)("div",{class:"label"},"City/Municipality:",-1))),uw={class:"dropdown-trigger"},pw=["disabled"],hw={key:0},mw={key:1},gw={key:0,class:"dropdown-menu"},vw=["onClick"],ww={class:"field"},_w=Av((()=>(0,l._)("label",{class:"label"},"Current Address:",-1))),bw={class:"controls"},yw=Av((()=>(0,l._)("br",null,null,-1))),kw={class:"breadcrumb","aria-label":"breadcrumbs"},fw={key:1,class:"container"},Dw={key:0,class:"table-container"},Cw={class:"table is-striped is-narrow is-fullwidth is-bordered"},xw=Av((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Reference ID"),(0,l._)("th",{class:"has-text-black-ter"},"Schedule"),(0,l._)("th",{class:"has-text-black-ter"},"Priority No."),(0,l._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"Doctor Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,l._)("th",{class:"has-text-black-ter"},"Birthday"),(0,l._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1))),Sw=["onClick"],Uw=Av((()=>(0,l._)("br",null,null,-1))),Aw={class:"has-text-black-ter"},Pw={class:"has-text-black-ter"},Mw={class:"has-text-black-ter"},zw={class:"has-text-black-ter"},Iw={class:"has-text-black-ter"},Nw={class:"has-text-black-ter"},Tw={class:"has-text-black-ter"},Lw={class:"has-text-black-ter"},Hw={class:"has-text-black-ter"},qw={class:"has-text-black-ter"},Vw={key:1,class:"container"},Ow=Av((()=>(0,l._)("div",{class:"notification is-info"},"You do not have any ongoing appointments.",-1))),Ew=[Ow],Fw={key:2,class:"container"},$w={key:0,class:"table-container"},Rw={class:"table is-striped is-narrow is-fullwidth is-bordered"},Bw=Av((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Schedule"),(0,l._)("th",{class:"has-text-black-ter"},"Priority No."),(0,l._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"Doctor Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,l._)("th",{class:"has-text-black-ter"},"Birthday"),(0,l._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1))),Yw={class:"has-text-black-ter"},jw={class:"has-text-black-ter"},Ww={class:"has-text-black-ter"},Kw={class:"has-text-black-ter"},Gw={class:"has-text-black-ter"},Zw={class:"has-text-black-ter"},Qw={class:"has-text-black-ter"},Xw={class:"has-text-black-ter"},Jw={class:"has-text-black-ter"},t_={key:1,class:"container"},e_=Av((()=>(0,l._)("div",{class:"notification is-info"},"You do not have any past appointments.",-1))),a_=[e_];var s_={__name:"UserProfile",setup(t){const e=(0,u.oR)();let a=(0,Cv.iH)([]),i=(0,Cv.iH)([]),o=(0,Cv.iH)([]),n=(0,Cv.iH)([]),c=(0,Cv.iH)(""),r=(0,Cv.iH)(""),d=(0,Cv.iH)(!1),p=(0,Cv.iH)(!1),h=(0,Cv.iH)(""),m=(0,Cv.iH)(!1),g=(0,Cv.iH)(!0),w=(0,Cv.iH)(!1);(0,l.bv)((async()=>{await ie().post("/api/appointmentList/patients",{id:e.state.patientID}).then((t=>a.value=t.data)),await ie().get("/session/patient").then((t=>i.value=t.data)),await ie().get("/api/geolocation").then((t=>o.value=t.data)),c.value=await i.value.province,r.value=await i.value.city,await ie().get("/api/geolocation").then((t=>n.value=t.data.find((t=>t.province===c.value)))),n.value=await n.value.citiesOrMunicipalities.sort(((t,e)=>t.name>e.name?1:-1))}));const _=(0,l.Fl)((()=>k())),b=(0,l.Fl)((()=>y()));function y(){return a.value.sort(((t,e)=>new Date(e.schedule[0].date).getTime()-new Date(t.schedule[0].date).getTime())).filter((t=>new Date(t.schedule[0].date).getTime()<(new Date).getTime()||1==t.ifPatientVisited))}function k(){return a.value.sort(((t,e)=>{new Date(t.schedule[0].date).getTime(),new Date(e.schedule[0].date).getTime()})).filter((t=>new Date(t.schedule[0].date).getTime()>=(new Date).getTime()&&new Date(t.schedule[0].date).getMonth()>=(new Date).getMonth()&&0==t.ifPatientVisited))}async function f(t){d.value=!1,r.value="",c.value=t,await ie().get("/api/geolocation").then((e=>n.value=e.data.find((e=>e.province===t)))),n.value=await n.value.citiesOrMunicipalities.sort(((t,e)=>t.name>e.name?1:-1))}function D(t){p.value=!1,r.value=t}async function C(){try{await ie().put("/session/patient/",{name:[i.value.name[0],i.value.name[1]],province:c.value,city:r.value,currentAddress:i.value.currentAddress}),await ie().put(`/api/user/${i.value._id}`,{name:[i.value.name[0],i.value.name[1]],province:c.value,city:r.value,currentAddress:i.value.currentAddress}),m.value=!0,h.value="",await ie().get("/session/patient").then((t=>i.value=t.data)),await ie().get("/api/geolocation").then((t=>o.value=t.data)),c.value=await i.value.province,r.value=await i.value.city,await ie().get("/api/geolocation").then((t=>n.value=t.data.find((t=>t.province===c.value)))),n.value=await n.value.citiesOrMunicipalities.sort(((t,e)=>t.name>e.name?1:-1))}catch(t){h.value=t}}async function x(t){try{await ie()["delete"](`/api/appointmentList/${t}`),await ie().get("/api/appointmentList").then((t=>a.value=t.data.filter((t=>t.patientID===e.state.patientID))))}catch(s){h.value=s}}return(t,e)=>{const a=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(ca),(0,l._)("section",Pv,[0!==(0,Cv.SU)(i).length?((0,l.wg)(),(0,l.iD)("div",Mv,[zv,(0,Cv.SU)(h)?((0,l.wg)(),(0,l.iD)("div",Iv,[Nv,(0,l.Wm)(a,{to:"/contactus"},{default:(0,l.w5)((()=>[Tv])),_:1})])):(0,l.kq)("",!0),(0,Cv.SU)(m)?((0,l.wg)(),(0,l.iD)("div",Lv,"Changes have been pushed.")):(0,l.kq)("",!0),(0,l._)("div",Hv,[(0,l._)("div",qv,[(0,l._)("div",Vv,[Ov,(0,l._)("div",Ev,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":e[0]||(e[0]=t=>(0,Cv.SU)(i).username=t),disabled:""},null,512),[[s.nr,(0,Cv.SU)(i).username]])])]),(0,l._)("div",Fv,[$v,(0,l._)("div",Rv,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":e[1]||(e[1]=t=>(0,Cv.SU)(i).email=t)},null,512),[[s.nr,(0,Cv.SU)(i).email]])])])])]),(0,l._)("div",Bv,[(0,l._)("div",Yv,[(0,l._)("div",jv,[Wv,(0,l._)("div",Kv,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":e[2]||(e[2]=t=>(0,Cv.SU)(i).name[0]=t)},null,512),[[s.nr,(0,Cv.SU)(i).name[0]]])])]),(0,l._)("div",Gv,[Zv,(0,l._)("div",Qv,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":e[3]||(e[3]=t=>(0,Cv.SU)(i).name[1]=t)},null,512),[[s.nr,(0,Cv.SU)(i).name[1]]])])])])]),(0,l._)("div",Xv,[(0,l._)("div",Jv,[(0,l._)("div",tw,[(0,l._)("div",ew,[aw,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":(0,Cv.SU)(d)}])},[(0,l._)("div",sw,[(0,l._)("button",{class:"button",onClick:e[4]||(e[4]=t=>(0,Cv.dq)(d)?d.value=!(0,Cv.SU)(d):d=!(0,Cv.SU)(d))},[""==(0,Cv.SU)(c)?((0,l.wg)(),(0,l.iD)("span",iw,"Select")):((0,l.wg)(),(0,l.iD)("span",lw,(0,v.zw)((0,Cv.SU)(c)),1))])]),(0,l._)("div",ow,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,Cv.SU)(o),(t=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:t._id},[(0,l._)("a",{class:"dropdown-item",onClick:e=>f(t.province)},(0,v.zw)(t.province),9,nw)])))),128))])],2)])]),(0,l._)("div",cw,[(0,l._)("div",rw,[dw,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":(0,Cv.SU)(p)}])},[(0,l._)("div",uw,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:e[5]||(e[5]=t=>(0,Cv.dq)(p)?p.value=!(0,Cv.SU)(p):p=!(0,Cv.SU)(p)),disabled:""==(0,Cv.SU)(c)},[""==(0,Cv.SU)(r)?((0,l.wg)(),(0,l.iD)("span",hw,"Select")):((0,l.wg)(),(0,l.iD)("span",mw,(0,v.zw)((0,Cv.SU)(r)),1))],8,pw)]),(0,Cv.SU)(c)?((0,l.wg)(),(0,l.iD)("div",gw,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,Cv.SU)(n),(t=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:t.name},[(0,l._)("a",{class:"dropdown-item",onClick:e=>D(t.name)},(0,v.zw)(t.name),9,vw)])))),128))])):(0,l.kq)("",!0)],2)])]),(0,l._)("div",ww,[_w,(0,l._)("div",bw,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":e[6]||(e[6]=t=>(0,Cv.SU)(i).currentAddress=t)},null,512),[[s.nr,(0,Cv.SU)(i).currentAddress]])])])])]),(0,l._)("div",{class:"field is-grouped is-grouped-right"},[(0,l._)("p",{class:"control"},[(0,l._)("a",{class:"button is-primary",onClick:C},"Save changes")])])])):(0,l.kq)("",!0),yw,(0,l._)("nav",kw,[(0,l._)("ul",null,[(0,l._)("li",{class:(0,v.C_)({"is-active":(0,Cv.SU)(g)})},[(0,l._)("a",{onClick:e[7]||(e[7]=t=>((0,Cv.dq)(g)?g.value=!0:g=!0,(0,Cv.dq)(w)?w.value=!1:w=!1))},"Ongoing Appointments")],2),(0,l._)("li",{class:(0,v.C_)({"is-active":(0,Cv.SU)(w)})},[(0,l._)("a",{onClick:e[8]||(e[8]=t=>((0,Cv.dq)(g)?g.value=!1:g=!1,(0,Cv.dq)(w)?w.value=!0:w=!0))},"Past Appointments")],2)])]),(0,Cv.SU)(g)?((0,l.wg)(),(0,l.iD)("div",fw,[0!==Object.keys((0,Cv.SU)(_)).length?((0,l.wg)(),(0,l.iD)("div",Dw,[(0,l._)("table",Cw,[xw,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,Cv.SU)(_),(t=>((0,l.wg)(),(0,l.iD)("tbody",{key:t._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-danger",type:"button",onClick:e=>x(t._id)},"Cancel",8,Sw),Uw,(0,l._)("th",Aw,(0,v.zw)(t.referenceID),1),(0,l._)("th",Pw,(0,v.zw)(new Date(t.schedule[0].date).toDateString()),1),(0,l._)("th",Mw,(0,v.zw)(t.priorityNum),1),(0,l._)("th",zw,(0,v.zw)(t.hospital),1),(0,l._)("th",Iw,(0,v.zw)(t.doctorName),1),(0,l._)("td",Nw,(0,v.zw)(t.firstName),1),(0,l._)("td",Tw,(0,v.zw)(t.lastName),1),(0,l._)("td",Lw,(0,v.zw)(t.contactNum),1),(0,l._)("td",Hw,(0,v.zw)(t.birthDay),1),(0,l._)("td",qw,(0,v.zw)(t.comments),1)])])))),128))])])):((0,l.wg)(),(0,l.iD)("div",Vw,Ew))])):(0,l.kq)("",!0),(0,Cv.SU)(w)?((0,l.wg)(),(0,l.iD)("div",Fw,[0!==Object.keys((0,Cv.SU)(b)).length?((0,l.wg)(),(0,l.iD)("div",$w,[(0,l._)("table",Rw,[Bw,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,Cv.SU)(b),(t=>((0,l.wg)(),(0,l.iD)("tbody",{key:t._id},[(0,l._)("tr",null,[(0,l._)("th",Yw,(0,v.zw)(new Date(t.schedule[0].date).toDateString()),1),(0,l._)("th",jw,(0,v.zw)(t.priorityNum),1),(0,l._)("th",Ww,(0,v.zw)(t.hospital),1),(0,l._)("th",Kw,(0,v.zw)(t.doctorName),1),(0,l._)("td",Gw,(0,v.zw)(t.firstName),1),(0,l._)("td",Zw,(0,v.zw)(t.lastName),1),(0,l._)("td",Qw,(0,v.zw)(t.contactNum),1),(0,l._)("td",Xw,(0,v.zw)(t.birthDay),1),(0,l._)("td",Jw,(0,v.zw)(t.comments),1)])])))),128))])])):((0,l.wg)(),(0,l.iD)("div",t_,a_))])):(0,l.kq)("",!0)])],64)}}};const i_=(0,c.Z)(s_,[["__scopeId","data-v-153e50a0"]]);var l_=i_;const o_=t=>((0,l.dD)("data-v-4e907d0b"),t=t(),(0,l.Cn)(),t),n_={class:"section",style:{width:"75%",margin:"auto"}},c_={class:"container"},r_=o_((()=>(0,l._)("h1",{class:"title"},"Security",-1))),d_={key:0,class:"notification is-danger"},u_=(0,l.Uk)("Oops, something went wrong. Try again later or "),p_=(0,l.Uk)("contact us"),h_={key:1,class:"notification is-success"},m_={class:"field"},g_={class:"control"},v_=o_((()=>(0,l._)("label",{class:"label"},"Current Password:",-1))),w_={key:0,class:"help is-danger"},__={class:"field"},b_={class:"control"},y_=o_((()=>(0,l._)("label",{class:"label"},"New Password:",-1))),k_={key:0,class:"help is-danger"},f_={class:"field"},D_={class:"control"},C_=o_((()=>(0,l._)("label",{class:"label"},"Confirm Password:",-1))),x_={key:0,class:"help is-danger"},S_=(0,l.Uk)(" Show password "),U_={class:"field has-text-right"},A_={class:"control"},P_=["disabled"];var M_={__name:"UserSecurity",setup(t){let e=(0,Cv.iH)([]),a=(0,Cv.iH)(""),i=(0,Cv.iH)(""),o=(0,Cv.iH)(""),n=(0,Cv.iH)(""),c=(0,Cv.iH)(!1),r=(0,Cv.iH)(!1),d=(0,Cv.iH)(!1),u=(0,Cv.iH)(""),p=(0,Cv.iH)("");function h(){let t=document.getElementsByClassName("password");for(let e=0;e<t.length;e++)"password"===t[e].type?t[e].type="text":t[e].type="password"}async function m(){if(""!==a.value&&i.value,i.value!==o.value?r.value=!0:r.value=!1,!r.value)try{await ie().put("/api/updatePassword/patient",{patientID:e.value._id,currentPassword:a.value,newPassword:i.value}).then((t=>{t.data?(a.value="",i.value="",o.value="",c.value=!0,n.value=""):(c.value=!1,d.value=!0)}))}catch(t){n.value=t,c.value=!1}}return(0,l.bv)((async()=>{await ie().get("/session/patient").then((t=>e.value=t.data)),u.value=await e.value.username,p.value=await e.value.email})),(t,e)=>{const g=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(ca),(0,l._)("section",n_,[(0,l._)("div",c_,[r_,(0,Cv.SU)(n)?((0,l.wg)(),(0,l.iD)("div",d_,[u_,(0,l.Wm)(g,{to:"/contactus"},{default:(0,l.w5)((()=>[p_])),_:1})])):(0,l.kq)("",!0),(0,Cv.SU)(c)?((0,l.wg)(),(0,l.iD)("div",h_,"Password changed successfully.")):(0,l.kq)("",!0),(0,l._)("div",m_,[(0,l._)("div",g_,[v_,(0,l.wy)((0,l._)("input",{class:"input password","onUpdate:modelValue":e[0]||(e[0]=t=>(0,Cv.dq)(a)?a.value=t:a=t),type:"password",placeholder:"Current password"},null,512),[[s.nr,(0,Cv.SU)(a)]]),(0,Cv.SU)(d)?((0,l.wg)(),(0,l.iD)("p",w_,"Current password is incorrect.")):(0,l.kq)("",!0)])]),(0,l._)("div",__,[(0,l._)("div",b_,[y_,(0,l.wy)((0,l._)("input",{class:"input password","onUpdate:modelValue":e[1]||(e[1]=t=>(0,Cv.dq)(i)?i.value=t:i=t),type:"password",placeholder:"New password"},null,512),[[s.nr,(0,Cv.SU)(i)]])]),(0,Cv.SU)(r)?((0,l.wg)(),(0,l.iD)("p",k_,"Password do not match.")):(0,l.kq)("",!0)]),(0,l._)("div",f_,[(0,l._)("div",D_,[C_,(0,l.wy)((0,l._)("input",{class:"input password","onUpdate:modelValue":e[2]||(e[2]=t=>(0,Cv.dq)(o)?o.value=t:o=t),type:"password",placeholder:"Confirm password"},null,512),[[s.nr,(0,Cv.SU)(o)]])]),(0,Cv.SU)(r)?((0,l.wg)(),(0,l.iD)("p",x_,"Password do not match.")):(0,l.kq)("",!0)]),(0,l._)("div",{class:"field"},[(0,l._)("div",{class:"control"},[(0,l._)("label",{class:"checkbox"},[(0,l._)("input",{type:"checkbox",onClick:h}),S_])])]),(0,l._)("div",U_,[(0,l._)("div",A_,[(0,l._)("button",{class:"button is-danger",onClick:m,disabled:""===(0,Cv.SU)(a)||""===(0,Cv.SU)(i)||""===(0,Cv.SU)(o)},"Change password",8,P_)])]),""!=(0,Cv.SU)(u)&&""!=(0,Cv.SU)(p)?((0,l.wg)(),(0,l.j4)(Ei["default"],{key:2,userType:"patient",username:(0,Cv.SU)(u),email:(0,Cv.SU)(p)},null,8,["username","email"])):(0,l.kq)("",!0)])])],64)}}};const z_=(0,c.Z)(M_,[["__scopeId","data-v-4e907d0b"]]);var I_=z_;const N_={class:"columns"},T_={class:"column is-2"},L_={class:"navbar is-hidden-desktop"},H_={class:"navbar-brand"},q_={class:"navbar-item"},V_=(0,l._)("span",{"aria-hidden":"true"},null,-1),O_=(0,l._)("span",{"aria-hidden":"true"},null,-1),E_=(0,l._)("span",{"aria-hidden":"true"},null,-1),F_=[V_,O_,E_],$_={class:"subtitle is-6 is-hidden-mobile"},R_=(0,l._)("p",{class:"menu-label"},"General",-1),B_={class:"menu-list"},Y_=(0,l._)("p",{class:"menu-label"},"Accounts",-1),j_={class:"menu-list"},W_=(0,l._)("p",{class:"menu-label"},"Operations",-1),K_={class:"menu-list"},G_=(0,l._)("hr",null,null,-1),Z_={class:"column",style:{overflow:"auto"}},Q_={class:"section"},X_={key:0,class:"columns is-multiline"},J_=(0,l.uE)('<div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=624199be-220b-4ba6-8f32-84eb27e8aa13&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=62c6c3c7-7e6a-4eef-8d99-26c53d88bbf2&amp;maxDataAge=3600&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b58b-377f-452d-8971-c364718db3ff&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b7a6-a205-4291-8c3b-da5132939df6&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b45e-220b-4919-8476-84eb27f87521&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241a5a0-797a-4051-869a-5157a21251ca&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b38b-0445-478b-8bf9-19a45abf8264&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div>',7),tb=[J_],eb={key:1,class:"controls"},ab=(0,l._)("label",{class:"label"},"Search:",-1),sb=(0,l._)("br",null,null,-1),ib={class:"table-container"},lb=(0,l._)("div",{class:"modal-background"},null,-1),ob={class:"modal-content"},nb={class:"card"},cb={class:"card-content"},rb={class:"content"},db={class:"dropdown-trigger"},ub={class:"dropdown-menu block"},pb={class:"dropdown-content"},hb=(0,l._)("div",{class:"block"},null,-1),mb={class:"dropdown-trigger"},gb={class:"dropdown-menu block"},vb={class:"dropdown-content"},wb={class:"field has-text-centered"},_b=(0,l._)("label",{class:"label"},"New Email",-1),bb={class:"control"},yb={key:0,class:"table is-striped is-fullwidth is-narrow is-bordered"},kb=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Status"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"Pricing"),(0,l._)("th",{class:"has-text-black-ter"},"Hospital"),(0,l._)("th",{class:"has-text-black-ter"},"Email"),(0,l._)("th",{class:"has-text-black-ter"},"Province"),(0,l._)("th",{class:"has-text-black-ter"},"City"),(0,l._)("th",{class:"has-text-black-ter"},"Barangay or Street"),(0,l._)("th",{class:"has-text-black-ter"},"Latitude"),(0,l._)("th",{class:"has-text-black-ter"},"longitude"),(0,l._)("th",{class:"has-text-black-ter"},"Specializations")])],-1),fb=["onClick"],Db=["onClick"],Cb={key:0,class:"has-text-success"},xb={key:1,class:"has-text-danger"},Sb={class:"has-text-black-ter"},Ub={class:"has-text-black-ter"},Ab={class:"has-text-black-ter"},Pb={class:"has-text-black-ter"},Mb={class:"has-text-black-ter"},zb={class:"has-text-black-ter"},Ib={class:"has-text-black-ter"},Nb={class:"has-text-black-ter"},Tb={class:"has-text-black-ter"},Lb={key:1,class:"table is-striped is-fullwidth is-narrow is-bordered"},Hb=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"Alias"),(0,l._)("th",{class:"has-text-black-ter"},"Full Name"),(0,l._)("th",{class:"has-text-black-ter"},"Specialist"),(0,l._)("th",{class:"has-text-black-ter"},"Gmail"),(0,l._)("th",{class:"has-text-black-ter"},"Schedules")])],-1),qb=["onClick"],Vb=["onClick"],Ob={class:"has-text-black-ter"},Eb={class:"has-text-black-ter"},Fb={class:"has-text-black-ter"},$b={class:"has-text-black-ter"},Rb={class:"has-text-black-ter"},Bb={key:2,class:"table is-striped is-fullwidth is-narrow is-bordered"},Yb=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Age"),(0,l._)("th",{class:"has-text-black-ter"},"Sex"),(0,l._)("th",{class:"has-text-black-ter"},"Contact No."),(0,l._)("th",{class:"has-text-black-ter"},"Gmail"),(0,l._)("th",{class:"has-text-black-ter"},"Province"),(0,l._)("th",{class:"has-text-black-ter"},"City")])],-1),jb=["onClick"],Wb=["onClick"],Kb={class:"has-text-black-ter"},Gb={class:"has-text-black-ter"},Zb={class:"has-text-black-ter"},Qb={class:"has-text-black-ter"},Xb={class:"has-text-black-ter"},Jb={class:"has-text-black-ter"},ty={class:"has-text-black-ter"},ey={class:"has-text-black-ter"},ay={class:"has-text-black-ter"},sy={key:3,class:"table is-striped is-fullwidth is-narrow is-bordered"},iy=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Status"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"Date Issued"),(0,l._)("th",{class:"has-text-black-ter"},"ID"),(0,l._)("th",{class:"has-text-black-ter"},"Type"),(0,l._)("th",{class:"has-text-black-ter"},"Email"),(0,l._)("th",{class:"has-text-black-ter"},"Subject"),(0,l._)("th",{class:"has-text-black-ter"},"Problem")])],-1),ly=["onClick"],oy=["onClick"],ny=["onClick"],cy={key:2,class:"has-text-success"},ry={key:3,class:"has-text-danger"},dy={class:"has-text-black-ter"},uy={class:"has-text-black-ter"},py={class:"has-text-black-ter"},hy={class:"has-text-black-ter"},my={class:"has-text-black-ter"},gy={class:"has-text-black-ter"},vy={class:"has-text-black-ter"},wy={key:4},_y=["onClick"],by={class:"subtitle has-text-black"},yy={class:"table is-striped is-fullwidth is-narrow is-bordered"},ky=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"City/Municipality"),(0,l._)("th",{class:"has-text-black-ter"},"Postal Code"),(0,l._)("th",{class:"has-text-black-ter"},"Latitude"),(0,l._)("th",{class:"has-text-black-ter"},"Longitude")])],-1),fy=["onClick"],Dy={class:"has-text-black-ter"},Cy={class:"has-text-black-ter"},xy={class:"has-text-black-ter"},Sy={class:"has-text-black-ter"},Uy={class:"has-text-black-ter"},Ay={key:2,class:"section",style:{width:"50%"}},Py={class:"field"},My=(0,l._)("h1",{class:"title"},"Create a new Province",-1),zy={class:"control"},Iy=(0,l._)("label",{class:"label"},"Province",-1),Ny=["disabled"],Ty={key:0,class:"has-text-success"},Ly={class:"field"},Hy=(0,l._)("h1",{class:"title"},"Push City/Municipality into a Province",-1),qy={class:"control"},Vy={class:"dropdown-trigger"},Oy={key:0},Ey={key:1},Fy={class:"dropdown-menu",id:"dropdown-menu",role:"menu"},$y=["onClick"],Ry=(0,l._)("br",null,null,-1),By=(0,l._)("br",null,null,-1),Yy=(0,l._)("label",{class:"label"},"City/Municipality",-1),jy=(0,l._)("span",null,"e.g Bais City or Bindoy Municipality",-1),Wy=(0,l._)("label",{class:"label"},"Postal Code",-1),Ky=(0,l._)("label",{class:"label"},"Latitude N",-1),Gy=(0,l._)("label",{class:"label"},"longitude E",-1),Zy=["disabled"],Qy={key:0,class:"has-text-success"};function Xy(t,e,a,i,o,n){return(0,l.wg)(),(0,l.iD)("div",N_,[(0,l._)("div",T_,[(0,l._)("nav",L_,[(0,l._)("div",H_,[(0,l._)("p",q_,"Hello: "+(0,v.zw)(o.superUser),1),(0,l._)("a",{role:"button",class:(0,v.C_)(["navbar-burger",{"is-active":!o.isActiveMenu}]),onClick:e[0]||(e[0]=t=>o.isActiveMenu=!o.isActiveMenu)},F_,2)])]),(0,l._)("aside",{class:(0,v.C_)(["menu box",{"is-hidden-mobile":o.isActiveMenu,fixedMenu:o.isActiveMenu}]),style:{"background-color":"white",padding:"20px",height:"100vh"}},[(0,l._)("p",$_,"Hello "+(0,v.zw)(o.superUser),1),R_,(0,l._)("ul",B_,[(0,l._)("li",null,[(0,l._)("a",{onClick:e[1]||(e[1]=(...t)=>n.dashboard&&n.dashboard(...t))},"Dashboard")])]),Y_,(0,l._)("ul",j_,[(0,l._)("li",null,[(0,l._)("a",{class:(0,v.C_)({"is-active":o.isActiveManager}),onClick:e[2]||(e[2]=(...t)=>n.manager&&n.manager(...t))},"Manager accounts",2)]),(0,l._)("li",null,[(0,l._)("a",{class:(0,v.C_)({"is-active":o.isActiveDoctor}),onClick:e[3]||(e[3]=(...t)=>n.doctor&&n.doctor(...t))},"Doctor accounts",2)]),(0,l._)("li",null,[(0,l._)("a",{class:(0,v.C_)({"is-active":o.isActivePatient}),onClick:e[4]||(e[4]=(...t)=>n.patient&&n.patient(...t))},"Patient accounts",2)])]),W_,(0,l._)("ul",K_,[(0,l._)("li",null,[(0,l._)("a",{class:(0,v.C_)({"is-active":o.isActiveGeolocation}),onClick:e[5]||(e[5]=(...t)=>n.geolocation&&n.geolocation(...t))},"Geolocation",2)]),(0,l._)("li",null,[(0,l._)("a",{class:(0,v.C_)({"is-active":o.isActiveTickets}),onClick:e[6]||(e[6]=(...t)=>n.tickets&&n.tickets(...t))},"Tickets",2)])]),G_,(0,l._)("button",{class:"button is-danger",onClick:e[7]||(e[7]=(...t)=>n.logout&&n.logout(...t))},"Logout")],2)]),(0,l._)("div",Z_,[(0,l._)("section",Q_,[o.isActiveDashboard?((0,l.wg)(),(0,l.iD)("div",X_,tb)):(0,l.kq)("",!0),o.isActiveManager||o.isActiveDoctor||o.isActivePatient||o.isActiveGeolocation||o.isActiveTickets?((0,l.wg)(),(0,l.iD)("div",eb,[ab,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Search...","onUpdate:modelValue":e[8]||(e[8]=t=>o.searchBar=t)},null,512),[[s.nr,o.searchBar]])])):(0,l.kq)("",!0),sb,(0,l._)("div",ib,[(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isActiveModal}])},[lb,(0,l._)("div",ob,[(0,l._)("div",nb,[(0,l._)("div",cb,[(0,l._)("div",rb,["manager"==o.type?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownEditStatus}])},[(0,l._)("div",db,[(0,l._)("button",{class:"button is-danger",onClick:e[9]||(e[9]=(...t)=>n.dropdown&&n.dropdown(...t))},"Edit Status")]),(0,l._)("div",ub,[(0,l._)("div",pb,[(0,l._)("a",{class:(0,v.C_)(["dropdown-item",{"is-active":o.isActiveDropdownItemOne}]),onClick:e[10]||(e[10]=(...t)=>n.statusActive&&n.statusActive(...t))},"Active",2),(0,l._)("a",{class:(0,v.C_)(["dropdown-item",{"is-active":o.isActiveDropdownItemTwo}]),onClick:e[11]||(e[11]=(...t)=>n.statusInactive&&n.statusInactive(...t))},"Inactive",2)])])],2)):(0,l.kq)("",!0),hb,"manager"==o.type?((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownEditPricing}])},[(0,l._)("div",mb,[(0,l._)("button",{class:"button is-link",onClick:e[12]||(e[12]=(...t)=>n.dropdownPricing&&n.dropdownPricing(...t))},"Edit Pricing")]),(0,l._)("div",gb,[(0,l._)("div",vb,[(0,l._)("a",{class:(0,v.C_)(["dropdown-item",{"is-active":o.isActiveDropdownPricingItemOne}]),onClick:e[13]||(e[13]=(...t)=>n.pricingStandard&&n.pricingStandard(...t))},"Standard",2),(0,l._)("a",{class:(0,v.C_)(["dropdown-item",{"is-active":o.isActiveDropdownPricingItemTwo}]),onClick:e[14]||(e[14]=(...t)=>n.pricingPremium&&n.pricingPremium(...t))},"Premium",2)])])],2)):(0,l.kq)("",!0),(0,l._)("form",wb,[_b,(0,l._)("div",bb,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[15]||(e[15]=t=>o.email=t),placeholder:"Gmail, Yahoo mail...",required:""},null,512),[[s.nr,o.email]])]),(0,l._)("button",{class:"button is-primary",type:"button",onClick:e[16]||(e[16]=(...t)=>n.updateData&&n.updateData(...t))},"Submit")])])])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:e[17]||(e[17]=(...t)=>n.closeModal&&n.closeModal(...t))})])],2),o.isActiveManager?((0,l.wg)(),(0,l.iD)("table",yb,[kb,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.managerAccountsIndexed,((t,e)=>((0,l.wg)(),(0,l.iD)("tbody",{key:t._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:e=>n.managerEdit(t._id,t.email)},"Edit",8,fb),(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:e=>n.managerDelete(t._id)},"Delete",8,Db),"Active"==t.status?((0,l.wg)(),(0,l.iD)("td",Cb,(0,v.zw)(t.status),1)):(0,l.kq)("",!0),"Inactive"==t.status?((0,l.wg)(),(0,l.iD)("td",xb,(0,v.zw)(t.status),1)):(0,l.kq)("",!0),(0,l._)("td",Sb,(0,v.zw)(e+1),1),(0,l._)("td",Ub,(0,v.zw)(t.pricing),1),(0,l._)("td",Ab,(0,v.zw)(t.hospital),1),(0,l._)("td",Pb,(0,v.zw)(t.email),1),(0,l._)("td",Mb,(0,v.zw)(t.province),1),(0,l._)("td",zb,(0,v.zw)(t.city),1),(0,l._)("td",Ib,(0,v.zw)(t.barangayORStreet),1),(0,l._)("td",Nb,(0,v.zw)(t.location.coordinates[1]),1),(0,l._)("td",Tb,(0,v.zw)(t.location.coordinates[0]),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.specializations,(t=>((0,l.wg)(),(0,l.iD)("td",{class:"has-text-black-ter",key:t.specialist},(0,v.zw)(t.specialist),1)))),128))])])))),128))])):(0,l.kq)("",!0),o.isActiveDoctor?((0,l.wg)(),(0,l.iD)("table",Lb,[Hb,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.doctorAccountsIndexed,((t,e)=>((0,l.wg)(),(0,l.iD)("tbody",{key:t._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:e=>n.doctorRecoverEmail(t._id,t.gmail)},"Recover",8,qb),(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:e=>n.doctorDelete(t._id)},"Delete",8,Vb),(0,l._)("td",Ob,(0,v.zw)(e+1),1),(0,l._)("td",Eb,(0,v.zw)(t.alias),1),(0,l._)("td",Fb,(0,v.zw)(t.name),1),(0,l._)("td",$b,(0,v.zw)(t.specialist.toString()),1),(0,l._)("td",Rb,(0,v.zw)(t.gmail),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.schedule,(t=>((0,l.wg)(),(0,l.iD)("td",{class:"has-text-black-ter",key:t.id},(0,v.zw)(new Date(t.date).toLocaleDateString()),1)))),128))])])))),128))])):(0,l.kq)("",!0),o.isActivePatient?((0,l.wg)(),(0,l.iD)("table",Bb,[Yb,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.patientAccountsIndexed,((t,e)=>((0,l.wg)(),(0,l.iD)("tbody",{key:t._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:e=>n.patientRecoverEmail(t._id,t.gmail)},"Recover",8,jb),(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:e=>n.patientDelete(t._id)},"Delete",8,Wb),(0,l._)("td",Kb,(0,v.zw)(e+1),1),(0,l._)("td",Gb,(0,v.zw)(t.name[0]),1),(0,l._)("td",Zb,(0,v.zw)(t.name[1]),1),(0,l._)("td",Qb,(0,v.zw)(t.age),1),(0,l._)("td",Xb,(0,v.zw)(t.sex),1),(0,l._)("td",Jb,(0,v.zw)(t.contactNum),1),(0,l._)("td",ty,(0,v.zw)(t.gmail),1),(0,l._)("td",ey,(0,v.zw)(t.province),1),(0,l._)("td",ay,(0,v.zw)(t.city),1)])])))),128))])):(0,l.kq)("",!0),o.isActiveTickets?((0,l.wg)(),(0,l.iD)("table",sy,[iy,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.ticketsIndexed,((t,e)=>((0,l.wg)(),(0,l.iD)("tbody",{key:t.id},[(0,l._)("tr",null,[t.active?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"dropdown-item button has-text-info",type:"button",onClick:e=>n.closeTicket(t.id)},"Close Ticket",8,ly)):(0,l.kq)("",!0),t.active?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:1,class:"dropdown-item button has-text-info",type:"button",onClick:e=>n.reopenTicket(t.id)},"Reopen Ticket",8,oy)),(0,l._)("button",{class:"dropdown-item button has-text-danger",type:"button",onClick:e=>n.deleteTicket(t.id,t.type,t.email,t.title,t.message,t.active)},"Delete ticket",8,ny),t.active?((0,l.wg)(),(0,l.iD)("td",cy,"Active")):(0,l.kq)("",!0),t.active?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("td",ry,"Inactive")),(0,l._)("td",dy,(0,v.zw)(e+1),1),(0,l._)("td",uy,(0,v.zw)(new Date(t.date).toLocaleDateString()),1),(0,l._)("td",py,(0,v.zw)(t.id),1),(0,l._)("td",hy,(0,v.zw)(t.type),1),(0,l._)("td",my,(0,v.zw)(t.email),1),(0,l._)("td",gy,(0,v.zw)(t.title),1),(0,l._)("td",vy,(0,v.zw)(t.message),1)])])))),128))])):(0,l.kq)("",!0),o.isActiveGeolocation?((0,l.wg)(),(0,l.iD)("div",wy,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.provinceAndCitiesIndexed,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"box",key:e},[(0,l._)("a",{class:"has-text-danger",onClick:e=>n.deleteProvince(t[0]._id)},"Delete Province",8,_y),(0,l._)("p",by,"Province: "+(0,v.zw)(e),1),(0,l._)("table",yy,[ky,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t[0].citiesOrMunicipalities.sort(((t,e)=>t.name>e.name?1:-1)),((e,a)=>((0,l.wg)(),(0,l.iD)("tbody",{key:a},[(0,l._)("tr",null,[(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:a=>n.cityDelete(t[0]._id,e.name,e.location.coordinates[1],e.location.coordinates[0],e.postalCode)},"Delete",8,fy),(0,l._)("td",Dy,(0,v.zw)(a+1),1),(0,l._)("td",Cy,(0,v.zw)(e.name),1),(0,l._)("td",xy,(0,v.zw)(e.postalCode),1),(0,l._)("td",Sy,(0,v.zw)(e.location.coordinates[1]),1),(0,l._)("td",Uy,(0,v.zw)(e.location.coordinates[0]),1)])])))),128))])])))),128))])):(0,l.kq)("",!0)]),o.isActiveGeolocation?((0,l.wg)(),(0,l.iD)("section",Ay,[(0,l._)("div",Py,[My,(0,l._)("div",zy,[Iy,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[18]||(e[18]=t=>o.province=t),placeholder:"Province"},null,512),[[s.nr,o.province]]),(0,l._)("button",{class:"button",type:"button",onClick:e[19]||(e[19]=(...t)=>n.provincePost&&n.provincePost(...t)),disabled:""==o.province},"Confirm",8,Ny),o.provincePostSuccess?((0,l.wg)(),(0,l.iD)("div",Ty,"Province has been created.")):(0,l.kq)("",!0)])]),(0,l._)("div",Ly,[Hy,(0,l._)("div",qy,[(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownProvince}])},[(0,l._)("div",Vy,[(0,l._)("button",{class:"button",onClick:e[20]||(e[20]=t=>n.provinceDropdownActive())},[""==o.selectedProvince?((0,l.wg)(),(0,l.iD)("span",Oy,"Select a Province")):((0,l.wg)(),(0,l.iD)("span",Ey,(0,v.zw)(o.selectedProvince),1))])]),(0,l._)("div",Fy,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.provinceList,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:t._id},[(0,l._)("a",{onClick:e=>n.chooseProvince(t._id,t.province),class:"dropdown-item"},(0,v.zw)(t.province),9,$y)])))),128))])],2),Ry,By,Yy,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[21]||(e[21]=t=>o.cityOrMunicipality=t),placeholder:"City or Municipality"},null,512),[[s.nr,o.cityOrMunicipality]]),jy,Wy,(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":e[22]||(e[22]=t=>o.postalCode=t),placeholder:"Postal Code"},null,512),[[s.nr,o.postalCode]]),Ky,(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":e[23]||(e[23]=t=>o.latitude=t),placeholder:"Latitude"},null,512),[[s.nr,o.latitude]]),Gy,(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":e[24]||(e[24]=t=>o.longitude=t),placeholder:"longitude"},null,512),[[s.nr,o.longitude]]),(0,l._)("button",{class:"button",type:"button",onClick:e[25]||(e[25]=(...t)=>n.cityOrMunicipalityPost&&n.cityOrMunicipalityPost(...t)),disabled:""==o.selectedProvince||""==o.cityOrMunicipality||""==o.latitude||""==o.longitude},"Confirm",8,Zy),o.cityOrMunicipalityPostSuccess?((0,l.wg)(),(0,l.iD)("div",Qy,"City or Municipality added")):(0,l.kq)("",!0)])])])):(0,l.kq)("",!0)])])])}var Jy={name:"SuperUser",computed:{managerAccountsIndexed(){return this.managerAccounts.filter((t=>t.hospital.toLowerCase().includes(this.searchBar.toLowerCase())))},doctorAccountsIndexed(){return this.doctorAccounts.filter((t=>t.name.toLowerCase().includes(this.searchBar.toLowerCase())||t.specialist.find((t=>t.toLowerCase().includes(this.searchBar.toLowerCase())))))},patientAccountsIndexed(){return this.patientAccounts.filter((t=>t.name[0].toLowerCase().includes(this.searchBar.toLowerCase())||t.name[1].toLowerCase().includes(this.searchBar.toLowerCase())))},ticketsIndexed(){return this.ticketList.filter((t=>t.id.toLowerCase().includes(this.searchBar.toLowerCase())||t.type.toLowerCase().includes(this.searchBar.toLowerCase())||t.email.toLowerCase().includes(this.searchBar.toLowerCase())))},provinceAndCitiesIndexed(){return Yl().groupBy(this.provinceList.filter((t=>t.citiesOrMunicipalities.find((t=>t.name.toLowerCase().includes(this.searchBar.toLowerCase()))))),"province")}},async mounted(){await ie().get("/session/superuser").then((t=>this.superUser=t.data.superuser)),await ie().get("/api/geolocation").then((t=>this.provinceList=t.data))},data(){return{searchBar:"",superUser:"",managerAccounts:[],doctorAccounts:[],patientAccounts:[],ticketList:[],isActiveMenu:!0,isActiveDashboard:!0,isActiveManager:!1,isActiveDoctor:!1,isActivePatient:!1,isActiveGeolocation:!1,isActiveTickets:!1,isActiveModal:!1,isActiveDropdownEditStatus:!1,isActiveDropdownEditPricing:!1,isActiveDropdownItemOne:!1,isActiveDropdownItemTwo:!1,isActiveDropdownPricingItemOne:!1,isActiveDropdownPricingItemTwo:!1,isActiveDropdownProvince:!1,id:"",email:"",status:"",type:"",province:"",cityOrMunicipality:"",latitude:"",longitude:"",postalCode:"",provinceList:[],selectedProvince:"",selectedProvinceID:"",provincePostSuccess:!1,cityOrMunicipalityPostSuccess:!1}},methods:{dashboard(){this.isActiveMenu=!0,this.isActiveDashboard=!0,this.isActiveManager=!1,this.isActiveDoctor=!1,this.isActivePatient=!1,this.isActiveGeolocation=!1,this.isActiveTickets=!1},async manager(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!0,this.isActiveDoctor=!1,this.isActivePatient=!1,this.isActiveGeolocation=!1,this.isActiveTickets=!1,await ie().get("/api/manager").then((t=>this.managerAccounts=t.data))},async doctor(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!1,this.isActiveDoctor=!0,this.isActivePatient=!1,this.isActiveGeolocation=!1,this.isActiveTickets=!1,await ie().get("/api/doctor").then((t=>this.doctorAccounts=t.data))},async patient(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!1,this.isActiveDoctor=!1,this.isActivePatient=!0,this.isActiveGeolocation=!1,this.isActiveTickets=!1,await ie().get("/api/user").then((t=>this.patientAccounts=t.data))},async tickets(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!1,this.isActiveDoctor=!1,this.isActivePatient=!1,this.isActiveGeolocation=!1,this.isActiveTickets=!0,await ie().get("/api/superuser").then((t=>this.ticketList=t.data[0].tickets))},async geolocation(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!1,this.isActiveDoctor=!1,this.isActivePatient=!1,this.isActiveGeolocation=!0,this.isActiveTickets=!1,await ie().get("/api/geolocation").then((t=>this.provinceList=t.data))},async managerEdit(t,e){this.isActiveModal=!this.isActiveModal,this.id=t,this.email=e,this.type="manager"},async doctorRecoverEmail(t,e){this.isActiveModal=!this.isActiveModal,this.id=t,this.email=e,this.type="doctor"},async patientRecoverEmail(t,e){this.isActiveModal=!this.isActiveModal,this.id=t,this.email=e,this.type="patient"},async updateData(){"manager"==this.type?(await ie().put(`/api/manager/${this.id}`,{status:this.status,pricing:this.pricing,email:this.email}),await ie().get("/api/manager").then((t=>this.managerAccounts=t.data)),this.isActiveModal=!this.isActiveModal):"doctor"==this.type?(await ie().put(`/api/doctor/${this.id}`,{gmail:this.email}),await ie().get("/api/doctor").then((t=>this.doctorAccounts=t.data)),this.isActiveModal=!this.isActiveModal):"patient"==this.type&&(await ie().put(`/api/user/${this.id}`,{gmail:this.email}),await ie().get("/api/user").then((t=>this.patientAccounts=t.data)),this.isActiveModal=!this.isActiveModal)},async managerDelete(t){await ie()["delete"](`/api/manager/${t}`),await ie().get("/api/manager").then((t=>this.managerAccounts=t.data))},async doctorDelete(t){await ie()["delete"](`/api/doctor/${t}`),await ie().get("/api/doctor").then((t=>this.doctorAccounts=t.data))},async patientDelete(t){await ie()["delete"](`/api/user/${t}`),await ie().get("/api/user").then((t=>this.patientAccounts=t.data))},async cityDelete(t,e,a,s,i){await ie().post("/api/provinceCityPull",{provinceID:t,cityOrMunicipality:e,latitude:a,longitude:s,postalCode:i}),await ie().get("/api/geolocation").then((t=>this.provinceList=t.data))},async deleteProvince(t){await ie()["delete"](`/api/geolocation/${t}`),await ie().get("/api/geolocation").then((t=>this.provinceList=t.data))},closeModal(){this.isActiveModal=!1},dropdown(){this.isActiveDropdownEditStatus=!this.isActiveDropdownEditStatus},dropdownPricing(){this.isActiveDropdownEditPricing=!this.isActiveDropdownEditPricing},statusActive(){this.status="Active",this.isActiveDropdownItemOne=!0,this.isActiveDropdownItemTwo=!1},statusInactive(){this.status="Inactive",this.isActiveDropdownItemOne=!1,this.isActiveDropdownItemTwo=!0},pricingStandard(){this.pricing="Standard",this.isActiveDropdownPricingItemOne=!0,this.isActiveDropdownPricingItemTwo=!1},pricingPremium(){this.pricing="Premium",this.isActiveDropdownPricingItemOne=!1,this.isActiveDropdownPricingItemTwo=!0},async provincePost(){await ie().post("/api/geolocation",{province:this.province}),await ie().get("/api/geolocation").then((t=>this.provinceList=t.data)),this.provincePostSuccess=!0},async cityOrMunicipalityPost(){await ie().post("/api/provinceUpdate",{provinceID:this.selectedProvinceID,cityOrMunicipality:this.cityOrMunicipality,latitude:this.latitude,longitude:this.longitude,postalCode:this.postalCode}),this.cityOrMunicipalityPostSuccess=!0,this.selectedProvince="",this.selectedProvinceID="",this.cityOrMunicipality="",this.latitude="",this.longitude="",await ie().get("/api/geolocation").then((t=>this.provinceList=t.data))},provinceDropdownActive(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},chooseProvince(t,e){this.selectedProvinceID=t,this.selectedProvince=e,this.isActiveDropdownProvince=!1},async closeTicket(t){await ie().post("/api/superuser/updateTicket",{ticketID:t,ticketActive:!1}),await ie().get("/api/superuser").then((t=>this.ticketList=t.data[0].tickets))},async reopenTicket(t){await ie().post("/api/superuser/updateTicket",{ticketID:t,ticketActive:!0}),await ie().get("/api/superuser").then((t=>this.ticketList=t.data[0].tickets))},async deleteTicket(t,e,a,s,i,l){await ie().post("/api/superuser/deleteTicket",{ticketID:t,email:a,ticketType:e,ticketTitle:s,ticketMessage:i,ticketActive:l}),await ie().get("/api/superuser").then((t=>this.ticketList=t.data[0].tickets))},async logout(){await ie()["delete"]("/session/superuser"),await this.$store.commit("superUserAuth",!1),await this.$router.push("/user/superuser/login")}}};const tk=(0,c.Z)(Jy,[["render",Xy]]);var ek=tk;const ak=t=>((0,l.dD)("data-v-7bd5d093"),t=t(),(0,l.Cn)(),t),sk={class:"container",style:{width:"33%","margin-top":"15%"}},ik=ak((()=>(0,l._)("h1",{class:"title has-text-centered"},"Welcome Superuser/Developer",-1))),lk={class:"field"},ok=ak((()=>(0,l._)("label",{class:"label"},"Email",-1))),nk={class:"control"},ck=ak((()=>(0,l._)("br",null,null,-1))),rk={class:"has-text-centered"},dk={key:0,class:"subtitle has-text-danger"},uk=ak((()=>(0,l._)("div",{class:"modal-background"},null,-1))),pk={class:"modal-content"},hk={class:"field",style:{"background-color":"whitesmoke",padding:"12%"}},mk=ak((()=>(0,l._)("label",{class:"label"},"Please check your email for the login code",-1))),gk={class:"control"},vk=ak((()=>(0,l._)("br",null,null,-1))),wk={class:"has-text-centered"},_k={key:0,class:"subtitle has-text-danger"};function bk(t,e,a,i,o,n){return(0,l.wg)(),(0,l.iD)("div",sk,[ik,(0,l._)("div",lk,[ok,(0,l._)("div",nk,[(0,l.wy)((0,l._)("input",{class:"input is-rounded","onUpdate:modelValue":e[0]||(e[0]=t=>o.superUserEmail=t),type:"text",placeholder:"email"},null,512),[[s.nr,o.superUserEmail]])]),ck,(0,l._)("div",rk,[(0,l._)("button",{class:"button is-success",onClick:e[1]||(e[1]=(...t)=>n.authenticateMail&&n.authenticateMail(...t))},"Authenticate")]),"invalid developer"==o.statusMessage?((0,l.wg)(),(0,l.iD)("p",dk,"Sorry, email not identified as superuser/developer. Please try again.")):(0,l.kq)("",!0)]),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.modalActive}])},[uk,(0,l._)("div",pk,[(0,l._)("div",hk,[mk,(0,l._)("div",gk,[(0,l.wy)((0,l._)("input",{class:"input","onUpdate:modelValue":e[2]||(e[2]=t=>o.superUserCode=t),type:"text",placeholder:"code"},null,512),[[s.nr,o.superUserCode]])]),vk,(0,l._)("div",wk,[(0,l._)("button",{class:"button is-primary",onClick:e[3]||(e[3]=(...t)=>n.authenticateCode&&n.authenticateCode(...t))},"Confirm")]),"invalid code"==o.statusMessage?((0,l.wg)(),(0,l.iD)("p",_k,"Invalid login code, please check your email thoroughly.")):(0,l.kq)("",!0)])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:e[4]||(e[4]=(...t)=>n.modalClose&&n.modalClose(...t))})],2)])}var yk={name:"SuperUserLogin",async mounted(){await ie().get("/session/superuser").then((t=>this.superUserConfirmEmail=t.data)),"undefined"!==typeof this.superUserConfirmEmail.superuser?(this.$store.commit("superUserAuth",!0),await this.$router.push("/user/superuser")):await ie()["delete"]("/session/superuser")},data(){return{modalActive:!1,statusMessage:"",superUserEmail:"",superUserConfirmEmail:"",superUserCode:"",superUserConfirmCode:"",codes:[],gmails:[]}},methods:{async authenticateMail(){if(await ie().post("/api/code/superuser",{email:this.superUserEmail}).then((t=>this.superUserConfirmEmail=t.data)),await this.superUserConfirmEmail){let t=Math.floor(1e3+9e3*Math.random());0===this.codes.length?(this.modalActive=!0,await ie().post("/api/code",{email:this.superUserEmail,code:t}),await ie().post("/api/sendMail",{email:this.superUserEmail,code:t})):(this.statusMessage="invalid developer",this.superUserEmail="")}else this.statusMessage="invalid developer",this.superUserEmail=""},async authenticateCode(){await ie().post("/api/code/verify",{code:this.superUserCode}).then((t=>this.superUserConfirmCode=t.data)),await this.superUserConfirmCode?(await ie().post("/session/superuser",{superuser:this.superUserEmail}),await this.$store.commit("superUserAuth",!0),await this.$router.push("/user/superuser")):(this.statusMessage="invalid code",this.superUserCode="")},modalClose(){this.modalActive=!1}}};const kk=(0,c.Z)(yk,[["render",bk],["__scopeId","data-v-7bd5d093"]]);var fk=kk;const Dk=(0,l._)("div",{class:"modal-background"},null,-1),Ck=(0,l._)("div",{class:"modal-content loader"},null,-1),xk=[Dk,Ck],Sk={class:"columns"},Uk={class:"column is-2"},Ak={class:"column",style:{overflow:"auto"}},Pk={class:"section"},Mk={key:0,class:"notification is-light is-danger"},zk=(0,l.Uk)("The account is not activated yet and will not be displayed on hospital searches, complete the hospital's "),Ik=(0,l.Uk)(" profile"),Nk=(0,l.Uk)(" to activate the account. "),Tk={class:"title"},Lk={key:1,class:"container"},Hk=(0,l._)("h1",{class:"title is-4"},"Insights",-1),qk={class:"columns"},Vk={class:"column"},Ok={class:"column"},Ek=(0,l._)("hr",null,null,-1),Fk=(0,l._)("h1",{class:"title is-4"},"Doctors Registered",-1),$k={key:2,class:"field"},Rk={class:"control",style:{width:"33%"}},Bk=(0,l._)("label",{class:"label"},"Search:",-1),Yk={key:3,class:"table-container"},jk={class:"table"},Wk=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"Alias"),(0,l._)("th",{class:"has-text-black-ter"},"Full Name"),(0,l._)("th",{class:"has-text-black-ter"},"Specialist"),(0,l._)("th",{class:"has-text-black-ter"},"Email")])],-1),Kk=["onClick"],Gk=["onClick"],Zk={class:"has-text-black-ter"},Qk={class:"has-text-black-ter"},Xk={class:"has-text-black-ter"},Jk={class:"has-text-black-ter"},tf={class:"has-text-black-ter"},ef={key:4,class:"notification is-warning"},af=(0,l.Uk)(" No doctors as of yet, generate a security code in "),sf=(0,l._)("b",null,"Registration and Password",-1),lf=(0,l.Uk)(" for your doctors to use in registering to their account. "),of=[af,sf,lf],nf=(0,l._)("div",{class:"modal-background"},null,-1),cf={class:"modal-content"},rf={class:"box"},df={class:"field"},uf={class:"control"};function pf(t,e,a,i,o,n){const c=(0,l.up)("ManagerMenuVue"),r=(0,l.up)("router-link"),d=(0,l.up)("LineChart"),u=(0,l.up)("BarChart");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.loading}])},xk,2),(0,l._)("div",Sk,[(0,l._)("div",Uk,[(0,l.Wm)(c)]),(0,l._)("div",Ak,[(0,l._)("section",Pk,["Inactive"==o.hospitalStatus.status?((0,l.wg)(),(0,l.iD)("div",Mk,[zk,(0,l.Wm)(r,{to:`/user/manager/${this.managerHospital.hospital}/profile`,class:"has-text-link"},{default:(0,l.w5)((()=>[Ik])),_:1},8,["to"]),Nk])):(0,l.kq)("",!0),(0,l._)("h1",Tk,(0,v.zw)(o.managerHospital.hospital),1),o.loading||"Active"!=o.hospitalStatus.status?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Lk,[Hk,(0,l._)("div",qk,[(0,l._)("div",Vk,[(0,l.Wm)(d,{chartData:o.lineChartData,options:o.lineChartOptions},null,8,["chartData","options"])]),(0,l._)("div",Ok,[(0,l.Wm)(u,{chartData:o.barChartData,options:o.barChartOptions},null,8,["chartData","options"])])])])),Ek,Fk,0!==Object.keys(n.doctorAccountsIndexed).length?((0,l.wg)(),(0,l.iD)("div",$k,[(0,l._)("div",Rk,[Bk,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.searchBar=t),placeholder:"Search..."},null,512),[[s.nr,o.searchBar]])])])):(0,l.kq)("",!0),0!==Object.keys(n.doctorAccountsIndexed).length?((0,l.wg)(),(0,l.iD)("div",Yk,[(0,l._)("table",jk,[Wk,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.doctorAccountsIndexed,((t,e)=>((0,l.wg)(),(0,l.iD)("tbody",{key:t._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:e=>n.doctorRecoverEmail(t._id,t.gmail)},"Recover",8,Kk),(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:e=>n.doctorRemove(t._id)},"Remove",8,Gk),(0,l._)("td",Zk,(0,v.zw)(e+1),1),(0,l._)("td",Qk,(0,v.zw)(t.alias),1),(0,l._)("td",Xk,(0,v.zw)(t.name),1),(0,l._)("td",Jk,(0,v.zw)(t.specialist.toString()),1),(0,l._)("td",tf,(0,v.zw)(t.gmail),1)])])))),128))])])):((0,l.wg)(),(0,l.iD)("div",ef,of)),(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.isActiveModal}])},[nf,(0,l._)("div",cf,[(0,l._)("div",rf,[(0,l._)("div",df,[(0,l._)("div",uf,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.email=t)},null,512),[[s.nr,o.email]])]),(0,l._)("button",{class:"button is-success",type:"button",onClick:e[2]||(e[2]=(...t)=>n.updateData&&n.updateData(...t))},"Confirm")])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:e[3]||(e[3]=(...t)=>n.closeModal&&n.closeModal(...t))})])],2)])])])],64)}const hf={class:"navbar is-hidden-desktop"},mf={class:"navbar-brand"},gf=(0,l._)("span",{"aria-hidden":"true"},null,-1),vf=(0,l._)("span",{"aria-hidden":"true"},null,-1),wf=(0,l._)("span",{"aria-hidden":"true"},null,-1),_f=[gf,vf,wf],bf=(0,l._)("p",{class:"menu-label"},"General",-1),yf={class:"menu-list"},kf=(0,l._)("p",{class:"menu-label"},"Security",-1),ff={class:"menu-list"},Df=(0,l._)("p",{class:"menu-label"},"Support",-1),Cf={class:"menu-list"},xf=(0,l._)("li",null,[(0,l._)("a",null,"FAQ")],-1),Sf=(0,l._)("hr",null,null,-1);function Uf(t,e,a,s,i,o){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("nav",hf,[(0,l._)("div",mf,[(0,l._)("a",{role:"button",class:(0,v.C_)(["navbar-burger",{"is-active":!i.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:e[0]||(e[0]=(...t)=>o.menuNav&&o.menuNav(...t))},_f,2)])]),(0,l._)("aside",{class:(0,v.C_)(["menu box",{"is-hidden-mobile":i.isActive,fixedMenu:i.isActive}]),style:{"background-color":"white",padding:"20px",height:"100vh"}},[bf,(0,l._)("ul",yf,[(0,l._)("li",null,[(0,l._)("a",{onClick:e[1]||(e[1]=(...t)=>o.navDoctors&&o.navDoctors(...t))},"Dashboard")]),(0,l._)("li",null,[(0,l._)("a",{onClick:e[2]||(e[2]=(...t)=>o.navProfile&&o.navProfile(...t))},"Profile")])]),kf,(0,l._)("ul",ff,[(0,l._)("li",null,[(0,l._)("a",{onClick:e[3]||(e[3]=(...t)=>o.navChangePass&&o.navChangePass(...t))},"Registration and Password")])]),Df,(0,l._)("ul",Cf,[xf,(0,l._)("li",null,[(0,l._)("a",{onClick:e[4]||(e[4]=t=>this.$router.push("/contactus"))},"Contact Us")])]),Sf,(0,l._)("button",{class:"button is-danger",onClick:e[5]||(e[5]=(...t)=>o.logout&&o.logout(...t))},"Logout")],2)],64)}var Af={name:"ManagerMenu",data(){return{isActive:!0,managerHospital:""}},async mounted(){await ie().get("/session/manager").then((t=>this.managerHospital=t.data.hospital))},methods:{async logout(){await ie()["delete"]("/session/manager"),await this.$store.commit("managerHospital",null),await this.$router.push("/user/manager/login")},menuNav(){this.isActive=!this.isActive},navProfile(){this.$router.push(`/user/manager/${this.managerHospital}/profile`)},navDoctors(){this.$router.push(`/user/manager/${this.managerHospital}`)},navChangePass(){this.$router.push(`/user/manager/${this.managerHospital}/security`)}}};const Pf=(0,c.Z)(Af,[["render",Uf]]);var Mf=Pf,zf=a(2728),If=a(7158);zf.kL.register(...zf.zX);var Nf={name:"ManagerDashboard",components:{ManagerMenuVue:Mf,LineChart:If.wW,BarChart:If.vz},computed:{doctorAccountsIndexed(){return this.doctorAccounts.filter((t=>t.name.toLowerCase().includes(this.searchBar.toLowerCase())||t.alias.toLowerCase().includes(this.searchBar.toLowerCase())))}},async mounted(){this.loading=!0,await ie().get("/session/manager").then((t=>this.managerHospital=t.data)),await ie().get("/api/manager").then((t=>this.hospitalStatus=t.data.find((t=>t._id==this.managerHospital._id)))),await ie().get("/api/doctor").then((t=>this.doctorAccounts=t.data.filter((t=>t.hospitalOrigin.find((t=>t.hospital===this.managerHospital.hospital)))))),await ie().get("/api/appointmentList").then((t=>this.hospitalAppointments=t.data.filter((t=>t.hospital==this.managerHospital.hospital))));let t=[],e=[];this.hospitalAppointments.forEach((e=>t.push(e.schedule[0].id)));let a=[...new Set(t)];a.forEach((t=>e.push(this.hospitalAppointments.filter((e=>e.schedule[0].id==t)).length))),this.lineChartData={labels:a,datasets:[{data:e,backgroundColor:["#77CEFF"]}]};let s=[],i=[];this.hospitalAppointments.forEach((t=>s.push(t.doctorName)));let l=[...new Set(s)];l.forEach((t=>i.push(this.hospitalAppointments.filter((e=>e.doctorName==t)).length))),this.barChartData={labels:l,datasets:[{data:i,backgroundColor:["#77CEFF"]}]},console.log(this.doctorAccounts),this.loading=!1},data(){return{loading:!1,hospitalStatus:"",managerHospital:"",searchBar:"",isActiveModal:!1,doctorAccounts:[],email:"",id:"",lineChartData:[],lineChartOptions:{responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Appointments counts throughout schedules of doctors registered on your hospital"}}},barChartData:[],barChartOptions:{responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Top performing doctors counted via in their successful appointments"}}},hospitalAppointments:[]}},methods:{doctorRecoverEmail(t,e){this.id=t,this.email=e,this.isActiveModal=!0},async updateData(){await ie().put(`/api/doctor/${this.id}`,{gmail:this.email}),await ie().get("/api/doctor").then((t=>this.doctorAccounts=t.data)),this.isActiveModal=!this.isActiveModal},async doctorRemove(){await ie().post("/api/doctorPullHospital",{doctorID:this.id,hospital:this.managerHospital.hospital})},closeModal(){this.isActiveModal=!1}}};const Tf=(0,c.Z)(Nf,[["render",pf]]);var Lf=Tf;const Hf=t=>((0,l.dD)("data-v-46919a9a"),t=t(),(0,l.Cn)(),t),qf={class:"hero is-fullheight",style:{"background-color":"whitesmoke"}},Vf={class:"hero-body"},Of={class:"container has-text-centered"},Ef={class:"animate__animated animate__fadeInLeft"},Ff={key:0,class:"notification is-success"},$f={class:"box",style:{width:"33%",margin:"auto"}},Rf={class:"content"},Bf={class:"field",style:{"margin-top":"5%"}},Yf=Hf((()=>(0,l._)("h1",{class:"title"},"Login",-1))),jf={class:"control"},Wf={class:"control",style:{"margin-top":"2%"}},Kf={key:0,class:"has-text-danger",style:{"margin-top":"5%"}},Gf={key:1,class:"has-text-danger",style:{"margin-top":"5%"}},Zf=Hf((()=>(0,l._)("hr",null,null,-1))),Qf=Hf((()=>(0,l._)("h1",{class:"title"},"Or",-1)));function Xf(t,e,a,i,o,n){const c=(0,l.up)("ForgotPassword");return(0,l.wg)(),(0,l.iD)("section",qf,[(0,l._)("div",Vf,[(0,l._)("div",Of,[(0,l._)("div",Ef,[o.newAccount?((0,l.wg)(),(0,l.iD)("p",Ff,"The account has been successfully created, login to activate the account now.")):(0,l.kq)("",!0),(0,l._)("div",$f,[(0,l._)("div",Rf,[(0,l._)("form",Bf,[Yf,(0,l._)("div",jf,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t),placeholder:"username",required:"",onKeyup:e[1]||(e[1]=(0,s.D2)(((...t)=>n.login&&n.login(...t)),["enter"]))},null,544),[[s.nr,o.username]])]),(0,l._)("div",Wf,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":e[2]||(e[2]=t=>o.password=t),placeholder:"password",required:"",onKeyup:e[3]||(e[3]=(0,s.D2)(((...t)=>n.login&&n.login(...t)),["enter"]))},null,544),[[s.nr,o.password]])]),o.incorrectUserPass?((0,l.wg)(),(0,l.iD)("p",Kf,(0,v.zw)(o.validateMessage),1)):0==o.incorrectUserPass?((0,l.wg)(),(0,l.iD)("p",Gf,(0,v.zw)(o.validateMessage),1)):(0,l.kq)("",!0),(0,l._)("button",{type:"button",class:"button is-primary",onClick:e[4]||(e[4]=(...t)=>n.login&&n.login(...t))},"Login"),Zf,Qf,(0,l._)("a",{onClick:e[5]||(e[5]=(...t)=>n.signup&&n.signup(...t)),class:"is-danger"},"Create an account")])]),(0,l.Wm)(c,{userType:"manager"})])])])])])}var Jf={name:"ManagerLogin",component:Ei["default"],data(){return{username:"",password:"",userManager:null,incorrectUserPass:"",validateMessage:"",newAccount:!1}},async mounted(){1==this.$store.state.accountCreated&&(this.newAccount=!0,await this.$store.commit("accountCreated",!1)),null!==this.$store.state.managerHospital&&await this.$router.push(`/user/manager/${this.$store.state.managerHospital}`)},methods:{async login(){null==this.username||null==this.password?(this.incorrectUserPass=!1,this.validateMessage="empty username or password",this.username=null,this.password=null):(await ie().post("/api/auth/manager",{username:this.username,password:this.password}).then((t=>this.userManager=t.data)),await this.userManager?(this.$store.commit("managerHospital",this.userManager.hospital),await ie().post("/session/manager",{_id:this.userManager._id,registrationCode:this.userManager.registrationCode,hospital:this.userManager.hospital}),await this.$router.push(`/user/manager/${this.userManager.hospital}`)):(this.validateMessage="Incorrect username or password",this.incorrectUserPass=!0,this.username=null,this.password=null))},async signup(){await this.$router.push("/user/manager/signup")}},components:{ForgotPassword:Ei["default"]}};const tD=(0,c.Z)(Jf,[["render",Xf],["__scopeId","data-v-46919a9a"]]);var eD=tD;const aD=t=>((0,l.dD)("data-v-af530d7a"),t=t(),(0,l.Cn)(),t),sD={class:"section",style:{"background-color":"whitesmoke"}},iD={class:"container box",style:{width:"50%",margin:"auto"}},lD={key:0,class:"notification is-danger"},oD=(0,l.Uk)(" Oops, something went wrong. Try again later or "),nD=(0,l.Uk)("contact us"),cD={class:"field"},rD=aD((()=>(0,l._)("label",{class:"label"},"Hospital Name",-1))),dD=aD((()=>(0,l._)("label",{class:"label"},"E-mail",-1))),uD={class:"field is-horizontal"},pD={class:"field-body"},hD={class:"field"},mD=aD((()=>(0,l._)("label",{class:"label"},"Province",-1))),gD={class:"dropdown-trigger"},vD={key:0},wD={key:1},_D={class:"dropdown-menu"},bD=["onClick"],yD={class:"field"},kD=aD((()=>(0,l._)("label",{class:"label"},"City/Municipality",-1))),fD={class:"dropdown-trigger"},DD=["disabled"],CD={key:0},xD={key:1},SD={key:0,class:"dropdown-menu"},UD=["onClick"],AD={class:"field"},PD=aD((()=>(0,l._)("div",{class:"control"},[(0,l._)("label",{class:"label"},"Postal Code:")],-1))),MD={class:"field"},zD={class:"control"},ID=aD((()=>(0,l._)("label",{class:"label"},"Type:",-1))),ND={class:"radio"},TD=(0,l.Uk)("Public "),LD={class:"radio"},HD=(0,l.Uk)("Private "),qD={class:"field"},VD={class:"control"},OD=aD((()=>(0,l._)("label",{class:"label"},"Barangay or Street",-1))),ED={class:"field is-horizontal"},FD={class:"field-body"},$D={class:"field"},RD={class:"control"},BD=aD((()=>(0,l._)("label",{class:"label"},"Latitude",-1))),YD={class:"field"},jD={class:"control"},WD=aD((()=>(0,l._)("label",{class:"label"},"Longitude",-1))),KD={class:"field is-horizontal"},GD={class:"field-body"},ZD={class:"field"},QD={class:"control"},XD=aD((()=>(0,l._)("label",{class:"label"},"Username:",-1))),JD={key:0},tC={key:0,class:"help is-danger"},eC=(0,l.Uk)(" Unavailable "),aC={key:0,class:"fas fa-spinner fa-spin"},sC={key:1,class:"help is-success"},iC=(0,l.Uk)(" Available "),lC={key:0,class:"fas fa-spinner fa-spin"},oC={class:"field"},nC={class:"control"},cC=aD((()=>(0,l._)("label",{class:"label"},"Password",-1))),rC={class:"control"},dC=aD((()=>(0,l._)("label",{class:"label"},"Confirm Password",-1))),uC={key:0,class:"notification is-light is-danger"},pC={class:"columns"},hC={class:"column"},mC=aD((()=>(0,l._)("label",{class:"label"},"Specializations offered(Select all that applies)",-1))),gC={class:"panel"},vC={class:"panel-block"},wC={style:{"max-height":"20em",overflow:"auto"}},_C=["value"],bC=["onClick"],yC={class:"column"},kC=aD((()=>(0,l._)("label",{class:"label"},"Selected",-1))),fC={class:"columns is-multiline"},DC={class:"column",id:"selectedSpecializations"},CC=["onClick"],xC=aD((()=>(0,l._)("h1",{class:"label has-text-centered"},"Choose a plan",-1))),SC={class:"columns has-text-centered"},UC={class:"column"},AC={class:"card"},PC=aD((()=>(0,l._)("div",{class:"card-image"},[(0,l._)("figure",{class:"image is-4by3"},[(0,l._)("img",{src:"https://bulma.io/images/placeholders/1280x960.png",alt:"Placeholder image"})])],-1))),MC={class:"card-content"},zC=aD((()=>(0,l._)("div",{class:"media"},[(0,l._)("div",{class:"media-content"},[(0,l._)("p",{class:"title is-4"},"STANDARD PLAN")])],-1))),IC=aD((()=>(0,l._)("div",{class:"content"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris. ",-1))),NC={class:"field"},TC={class:"control"},LC={class:"radio"},HC={class:"column"},qC={class:"card"},VC=aD((()=>(0,l._)("div",{class:"card-image"},[(0,l._)("figure",{class:"image is-4by3"},[(0,l._)("img",{src:"https://bulma.io/images/placeholders/1280x960.png",alt:"Placeholder image"})])],-1))),OC={class:"card-content"},EC=aD((()=>(0,l._)("div",{class:"media"},[(0,l._)("div",{class:"media-content"},[(0,l._)("p",{class:"title is-4"},"PREMIUM PLAN")])],-1))),FC=aD((()=>(0,l._)("div",{class:"content"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris. ",-1))),$C={class:"field"},RC={class:"control"},BC={class:"radio"},YC=["disabled"];function jC(t,e,a,i,o,n){const c=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("section",sD,[(0,l._)("div",iD,[o.errMsg?((0,l.wg)(),(0,l.iD)("div",lD,[oD,(0,l.Wm)(c,{to:"/contactus"},{default:(0,l.w5)((()=>[nD])),_:1})])):(0,l.kq)("",!0),(0,l._)("div",cD,[rD,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Hospital name","onUpdate:modelValue":e[0]||(e[0]=t=>o.hospital=t)},null,512),[[s.nr,o.hospital]]),dD,(0,l.wy)((0,l._)("input",{class:"input",type:"email",placeholder:"Official hospital email","onUpdate:modelValue":e[1]||(e[1]=t=>o.email=t)},null,512),[[s.nr,o.email]])]),(0,l._)("div",uD,[(0,l._)("div",pD,[(0,l._)("div",hD,[mD,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownProvince}])},[(0,l._)("div",gD,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:e[2]||(e[2]=(...t)=>n.provinceDropdown&&n.provinceDropdown(...t))},[""==o.province?((0,l.wg)(),(0,l.iD)("span",vD,"Select")):((0,l.wg)(),(0,l.iD)("span",wD,(0,v.zw)(o.province),1))])]),(0,l._)("div",_D,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.geolocationData,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:t._id},[(0,l._)("a",{class:"dropdown-item",onClick:e=>n.selectProvince(t.province)},(0,v.zw)(t.province),9,bD)])))),128))])],2)]),(0,l._)("div",yD,[kD,(0,l._)("div",{class:(0,v.C_)(["dropdown",{"is-active":o.isActiveDropdownCity}])},[(0,l._)("div",fD,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:e[3]||(e[3]=(...t)=>n.cityDropdown&&n.cityDropdown(...t)),disabled:""==o.province},[""==o.city?((0,l.wg)(),(0,l.iD)("span",CD,"Select")):((0,l.wg)(),(0,l.iD)("span",xD,(0,v.zw)(o.city),1))],8,DD)]),o.province?((0,l.wg)(),(0,l.iD)("div",SD,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.citiesData,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:t.name},[(0,l._)("a",{class:"dropdown-item",onClick:e=>n.selectCity(t.name)},(0,v.zw)(t.name),9,UD)])))),128))])):(0,l.kq)("",!0)],2)])])]),(0,l._)("div",AD,[PD,(0,l.wy)((0,l._)("input",{type:"number",class:"input","onUpdate:modelValue":e[4]||(e[4]=t=>o.postalCode=t),placeholder:"Postal Code"},null,512),[[s.nr,o.postalCode]])]),(0,l._)("div",MD,[(0,l._)("div",zD,[ID,(0,l._)("label",ND,[(0,l._)("input",{type:"radio",name:"type",onClick:e[5]||(e[5]=(...t)=>n.selectPublicType&&n.selectPublicType(...t))}),TD]),(0,l._)("label",LD,[(0,l._)("input",{type:"radio",name:"type",onClick:e[6]||(e[6]=(...t)=>n.selectPrivateType&&n.selectPrivateType(...t))}),HD])])]),(0,l._)("div",qD,[(0,l._)("div",VD,[OD,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Barangay or Street of the hospital","onUpdate:modelValue":e[7]||(e[7]=t=>o.barangayORStreet=t)},null,512),[[s.nr,o.barangayORStreet]])])]),(0,l._)("div",ED,[(0,l._)("div",FD,[(0,l._)("div",$D,[(0,l._)("div",RD,[BD,(0,l.wy)((0,l._)("input",{class:"input",type:"number",placeholder:"Latitude of the hospital location","onUpdate:modelValue":e[8]||(e[8]=t=>o.latitude=t)},null,512),[[s.nr,o.latitude]])])]),(0,l._)("div",YD,[(0,l._)("div",jD,[WD,(0,l.wy)((0,l._)("input",{class:"input",type:"number",placeholder:"Longitude of the hospital location","onUpdate:modelValue":e[9]||(e[9]=t=>o.longitude=t)},null,512),[[s.nr,o.longitude]])])])])]),(0,l._)("div",KD,[(0,l._)("div",GD,[(0,l._)("div",ZD,[(0,l._)("div",QD,[XD,""!==o.usernameFound?((0,l.wg)(),(0,l.iD)("div",JD,[o.usernameFound?((0,l.wg)(),(0,l.iD)("p",tC,[eC,o.loadingUsername?((0,l.wg)(),(0,l.iD)("i",aC)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("p",sC,[iC,o.loadingUsername?((0,l.wg)(),(0,l.iD)("i",lC)):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0),(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Username","onUpdate:modelValue":e[10]||(e[10]=t=>o.username=t),onInput:e[11]||(e[11]=(...t)=>n.usernameFindTimeout&&n.usernameFindTimeout(...t))},null,544),[[s.nr,o.username]])])]),(0,l._)("div",oC,[(0,l._)("div",nC,[cC,(0,l.wy)((0,l._)("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":e[12]||(e[12]=t=>o.password=t)},null,512),[[s.nr,o.password]])]),(0,l._)("div",rC,[dC,(0,l.wy)((0,l._)("input",{class:"input",type:"password",placeholder:"Confirm Password","onUpdate:modelValue":e[13]||(e[13]=t=>o.confirmPassword=t)},null,512),[[s.nr,o.confirmPassword]])]),o.passwordNotMatch?((0,l.wg)(),(0,l.iD)("div",uC,"Password does not match. ")):(0,l.kq)("",!0)])])]),(0,l._)("div",pC,[(0,l._)("div",hC,[mC,(0,l._)("nav",gC,[(0,l._)("div",vC,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[14]||(e[14]=t=>o.searchBar=t),placeholder:"Search"},null,512),[[s.nr,o.searchBar]])]),(0,l._)("div",wC,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.specializationListIndexed,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"panel-block",key:e,value:t},[(0,l._)("a",{onClick:e=>n.selectSpecialization(t)},(0,v.zw)(t),9,bC)],8,_C)))),128))])])]),(0,l._)("div",yC,[kC,(0,l._)("div",fC,[(0,l._)("div",DC,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specializationsSelected,((t,e)=>((0,l.wg)(),(0,l.iD)("button",{key:e,class:"button is-light",style:{margin:"5px"}},[(0,l.Uk)((0,v.zw)(t.specialist)+"  ",1),(0,l._)("span",{class:"has-text-danger",onClick:e=>n.undoSpecialization(t.specialist)},"X",8,CC)])))),128))])])])]),xC,(0,l._)("div",SC,[(0,l._)("div",UC,[(0,l._)("div",AC,[PC,(0,l._)("div",MC,[zC,IC,(0,l._)("div",NC,[(0,l._)("div",TC,[(0,l._)("label",LC,[(0,l._)("input",{class:"radio",name:"plan",type:"radio",onClick:e[15]||(e[15]=(...t)=>n.selectStandardPlan&&n.selectStandardPlan(...t))})])])])])])]),(0,l._)("div",HC,[(0,l._)("div",qC,[VC,(0,l._)("div",OC,[EC,FC,(0,l._)("div",$C,[(0,l._)("div",RC,[(0,l._)("label",BC,[(0,l._)("input",{class:"radio",name:"plan",type:"radio",onClick:e[16]||(e[16]=(...t)=>n.selectPremiumPlan&&n.selectPremiumPlan(...t))})])])])])])])]),(0,l._)("button",{class:"button is-primary",onClick:e[17]||(e[17]=(...t)=>n.create&&n.create(...t)),disabled:""==o.pricing||""==o.hospital||""==o.email||""==o.hospitalType||""==o.latitude||""==o.longitude||""==o.barangayORStreet||""==o.city||""==o.province||o.specializationsSelected==[]},"Create Account",8,YC)])])}var WC={name:"ManagerSignup",async mounted(){await ie().get("/api/geolocation").then((t=>this.geolocationData=t.data))},computed:{specializationListIndexed(){return this.specializationList.filter((t=>t.toLowerCase().includes(this.searchBar.toLowerCase())))}},data(){return{geolocationData:[],isActiveDropdownProvince:!1,isActiveDropdownCity:!1,registrationCode:"",pricing:"",hospital:"",email:"",hospitalType:"",latitude:"",longitude:"",barangayORStreet:"",postalCode:"",city:"",province:"",username:"",password:"",confirmPassword:"",loadingUsername:!1,usernameFound:"",passwordNotMatch:!1,citiesData:[],specializationsSelected:[],specializationList:this.$store.getters.getSpecializationList,searchBar:"",errMsg:"",searchTimeout:null}},methods:{generateCode(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=e.length;for(let s=0;s<12;s++)t+=e.charAt(Math.floor(Math.random()*a));this.registrationCode=t.toUpperCase()},async usernameFindTimeout(){this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.searchTimeout=setTimeout(this.usernameFinder,500)},async usernameFinder(){this.loadingUsername=!0,await ie().post("/api/manager/check_username",{username:this.username}).then((t=>{this.usernameFound=t.data})),""==this.username&&(this.usernameFound=""),this.loadingUsername=!1},async selectProvince(t){this.city="",this.province=t,this.isActiveDropdownProvince=!1,await ie().get("/api/geolocation").then((e=>this.citiesData=e.data.find((e=>e.province===t)))),this.citiesData=await this.citiesData.citiesOrMunicipalities.sort(((t,e)=>t.name>e.name?1:-1))},selectCity(t){this.city=t,this.isActiveDropdownCity=!1},selectPublicType(){this.hospitalType="Public"},selectPrivateType(){this.hospitalType="Private"},selectStandardPlan(){this.pricing="Standard"},selectPremiumPlan(){this.pricing="Premium"},provinceDropdown(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},cityDropdown(){this.isActiveDropdownCity=!this.isActiveDropdownCity},selectSpecialization(t){this.specializationsSelected.find((e=>e.specialist===t))||this.specializationsSelected.push({specialist:t})},undoSpecialization(t){this.specializationsSelected=this.specializationsSelected.filter((e=>e.specialist!==t))},async create(){if(this.generateCode(),this.passwordNotMatch=!1,this.password!==this.confirmPassword?this.passwordNotMatch=!0:this.passwordNotMatch=!1,this.password===this.confirmPassword&&!this.usernameFound)try{await ie().post("/api/manager",{registrationCode:this.registrationCode,pricing:this.pricing,status:"Inactive",hospital:this.hospital,type:this.hospitalType,email:this.email,province:this.province,city:this.city,barangayORStreet:this.barangayORStreet,postalCode:this.postalCode,location:{type:"Point",coordinates:[this.longitude,this.latitude]},specializations:this.specializationsSelected,username:this.username,password:this.password}),await this.$store.commit("accountCreated",!0),await this.$router.push("/user/manager/login")}catch(t){this.errMsg=t}}}};const KC=(0,c.Z)(WC,[["render",jC],["__scopeId","data-v-af530d7a"]]);var GC=KC;const ZC=t=>((0,l.dD)("data-v-a81b865a"),t=t(),(0,l.Cn)(),t),QC=ZC((()=>(0,l._)("div",{class:"modal-background"},null,-1))),XC=ZC((()=>(0,l._)("div",{class:"modal-content loader"},null,-1))),JC=[QC,XC],tx={class:"columns"},ex={class:"column is-2"},ax={class:"column"},sx={class:"section"},ix={key:0,class:"notification is-light is-info"},lx=(0,l.Uk)("To get started, upload a "),ox=ZC((()=>(0,l._)("b",null,"photo",-1))),nx=(0,l.Uk)(" of your hospital and fill in the details of your "),cx=ZC((()=>(0,l._)("b",null,"description",-1))),rx=(0,l.Uk)(" and "),dx=ZC((()=>(0,l._)("b",null,"contacts",-1))),ux=(0,l.Uk)(". Activation of the account is available when clicking "),px=ZC((()=>(0,l._)("b",null,'"Edit"',-1))),hx=(0,l.Uk)(". "),mx=[lx,ox,nx,cx,rx,dx,ux,px,hx],gx={class:"box"},vx={key:0,class:"image is-16by9"},wx=["src"],_x={id:"formUpload",action:"/api/imgUploadManager",method:"post",enctype:"multipart/form-data",style:{margin:"auto",width:"50%"},class:"field"},bx={class:"control"},yx=["value"],kx=ZC((()=>(0,l._)("div",{class:"has-text-centered"},[(0,l._)("button",{type:"submit",value:"Upload",class:"button is-primary"},"Upload Photo")],-1))),fx=ZC((()=>(0,l._)("br",null,null,-1))),Dx={class:"container is-max-desktop"},Cx={class:"block"},xx=ZC((()=>(0,l._)("h1",{class:"title"},"Description:",-1))),Sx={key:0,class:"subtitle"},Ux={key:1,class:"form"},Ax={class:"control"},Px={class:"block"},Mx=ZC((()=>(0,l._)("h1",{class:"title"},"Contacts:",-1))),zx={key:0},Ix={class:"subtitle"},Nx={key:1},Tx={class:"subtitle"},Lx=["onClick"],Hx=ZC((()=>(0,l._)("br",null,null,-1))),qx={key:2,class:"field has-addons"},Vx={class:"control"},Ox={class:"control"},Ex=["disabled"],Fx={class:"columns"},$x={class:"column"},Rx=ZC((()=>(0,l._)("h1",{class:"title"},"Latitude N",-1))),Bx={key:0,class:"subtitle"},Yx={key:1,class:"field"},jx=ZC((()=>(0,l._)("h1",{class:"title"},"Longitude E",-1))),Wx={key:2,class:"subtitle"},Kx={key:3,class:"field"},Gx={class:"column"},Zx=["src"],Qx=ZC((()=>(0,l._)("br",null,null,-1))),Xx=ZC((()=>(0,l._)("h1",{class:"title"},"Specializations offered",-1))),Jx={key:3,class:"columns is-multiline"},tS={class:"column",id:"selectedSpecializations"},eS={key:4,class:"columns"},aS={class:"column"},sS=ZC((()=>(0,l._)("label",{class:"label"},"Selected Specializations",-1))),iS={class:"columns is-multiline"},lS={class:"column",id:"selectedSpecializations"},oS=["onClick"],nS={class:"column"},cS=ZC((()=>(0,l._)("label",{class:"label"},"Select Specializations",-1))),rS={class:"panel"},dS={class:"panel-block"},uS={style:{"max-height":"20em",overflow:"auto"}},pS=["value"],hS=["onClick"],mS={key:5,class:"control"},gS={class:"radio"},vS=(0,l.Uk)(" Activate this account. "),wS={key:0,class:"help"},_S=(0,l.Uk)("Please make sure you have uploaded a "),bS=ZC((()=>(0,l._)("b",null,"photo",-1))),yS=(0,l.Uk)(" of the hospital before activating it. To cancel this, just click "),kS=ZC((()=>(0,l._)("b",null,'"Cancel Editing"',-1))),fS=(0,l.Uk)("."),DS=[_S,bS,yS,kS,fS],CS=ZC((()=>(0,l._)("br",null,null,-1))),xS=["disabled"];function SS(t,e,a,i,o,n){const c=(0,l.up)("ManagerMenuVue");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":o.loading}])},JC,2),(0,l._)("div",tx,[(0,l._)("div",ex,[(0,l.Wm)(c)]),(0,l._)("div",ax,[(0,l._)("section",sx,["Inactive"==o.hospitalStatus?((0,l.wg)(),(0,l.iD)("div",ix,mx)):(0,l.kq)("",!0),(0,l._)("div",gx,["Inactive"!==o.hospitalStatus?((0,l.wg)(),(0,l.iD)("figure",vx,[(0,l._)("img",{src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/managers/${o.managerHospital}.jpg`},null,8,wx)])):(0,l.kq)("",!0),(0,l._)("form",_x,[(0,l._)("div",bx,[(0,l._)("input",{type:"hidden",name:"hospital",value:o.managerHospital},null,8,yx),(0,l._)("input",{class:"input",type:"file",name:"imgFile",onClick:e[0]||(e[0]=(...t)=>n.imgSuccess&&n.imgSuccess(...t)),required:""}),kx])]),fx,o.editingMode?((0,l.wg)(),(0,l.iD)("a",{key:2,class:"has-text-danger",onClick:e[2]||(e[2]=(...t)=>n.editModeCancel&&n.editModeCancel(...t))},"[Cancel Editing]")):((0,l.wg)(),(0,l.iD)("a",{key:1,class:"has-text-info",onClick:e[1]||(e[1]=(...t)=>n.editMode&&n.editMode(...t))},"[Edit]")),(0,l._)("div",Dx,[(0,l._)("div",Cx,[xx,o.editingMode?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("p",Sx,(0,v.zw)(o.description),1)),o.editingMode?((0,l.wg)(),(0,l.iD)("form",Ux,[(0,l._)("div",Ax,[(0,l.wy)((0,l._)("textarea",{class:"textarea","onUpdate:modelValue":e[3]||(e[3]=t=>o.editDescription=t),placeholder:"Edit description..."},null,512),[[s.nr,o.editDescription]])])])):(0,l.kq)("",!0)]),(0,l._)("div",Px,[Mx,o.editingMode?((0,l.wg)(),(0,l.iD)("ul",Nx,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.editContacts,((t,e)=>((0,l.wg)(),(0,l.iD)("li",{key:e},[(0,l._)("p",Tx,[(0,l.Uk)((0,v.zw)(t.contact)+" ",1),o.editingMode?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"has-text-danger",onClick:e=>n.removeContact(t.contact)},"Remove",8,Lx)):(0,l.kq)("",!0)])])))),128))])):((0,l.wg)(),(0,l.iD)("ul",zx,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.contacts,((t,e)=>((0,l.wg)(),(0,l.iD)("li",{key:e},[(0,l._)("p",Ix,(0,v.zw)(t.contact),1)])))),128))])),Hx,o.editingMode?((0,l.wg)(),(0,l.iD)("div",qx,[(0,l._)("div",Vx,[(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>o.contact=t),placeholder:"Add contacts..."},null,512),[[s.nr,o.contact]])]),(0,l._)("div",Ox,[(0,l._)("button",{type:"submit",class:"button is-light",onClick:e[5]||(e[5]=(...t)=>n.addContact&&n.addContact(...t)),disabled:""==o.contact},"+",8,Ex)])])):(0,l.kq)("",!0)]),(0,l._)("div",Fx,[(0,l._)("div",$x,[Rx,o.editingMode?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("p",Bx,(0,v.zw)(o.latitude),1)),o.editingMode?((0,l.wg)(),(0,l.iD)("div",Yx,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>o.editLatitude=t)},null,512),[[s.nr,o.editLatitude]])])):(0,l.kq)("",!0),jx,o.editingMode?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("p",Wx,(0,v.zw)(o.longitude),1)),o.editingMode?((0,l.wg)(),(0,l.iD)("div",Kx,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>o.editLongitude=t)},null,512),[[s.nr,o.editLongitude]])])):(0,l.kq)("",!0)]),(0,l._)("div",Gx,[""!==o.hospitalData?((0,l.wg)(),(0,l.iD)("iframe",{key:0,width:"500",height:"500",src:`https://maps.google.com/maps?q=${o.hospitalData.location.coordinates[1]},${o.hospitalData.location.coordinates[0]}&hl=es;z=14&output=embed`},null,8,Zx)):(0,l.kq)("",!0)])])]),Qx,Xx,o.editingMode?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Jx,[(0,l._)("div",tS,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.hospitalSpecializations,((t,e)=>((0,l.wg)(),(0,l.iD)("button",{key:e,class:"button",style:{margin:"5px"}},(0,v.zw)(t.specialist),1)))),128))])])),o.editingMode?((0,l.wg)(),(0,l.iD)("div",eS,[(0,l._)("div",aS,[sS,(0,l._)("div",iS,[(0,l._)("div",lS,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.editHospitalSpecializations,((t,e)=>((0,l.wg)(),(0,l.iD)("button",{key:e,class:"button is-light",style:{margin:"5px"}},[(0,l.Uk)((0,v.zw)(t.specialist)+"  ",1),(0,l._)("span",{class:"has-text-danger",onClick:e=>n.undoSpecialization(t.specialist)},"X",8,oS)])))),128))])])]),(0,l._)("div",nS,[cS,(0,l._)("nav",rS,[(0,l._)("div",dS,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":e[8]||(e[8]=t=>o.searchBar=t),placeholder:"Search"},null,512),[[s.nr,o.searchBar]])]),(0,l._)("div",uS,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.specializationListIndexed,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"panel-block",key:e,value:t},[(0,l._)("a",{onClick:e=>n.selectSpecialization(t)},(0,v.zw)(t),9,hS)],8,pS)))),128))])])])])):(0,l.kq)("",!0),"Inactive"==o.hospitalStatus&&o.editingMode?((0,l.wg)(),(0,l.iD)("div",mS,[(0,l._)("label",gS,[(0,l._)("input",{type:"radio",onClick:e[9]||(e[9]=(...t)=>n.activateAccount&&n.activateAccount(...t))}),vS]),o.activate?((0,l.wg)(),(0,l.iD)("p",wS,DS)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),CS,o.editingMode?((0,l.wg)(),(0,l.iD)("button",{key:6,class:"button is-danger",onClick:e[10]||(e[10]=(...t)=>n.saveProfileEdit&&n.saveProfileEdit(...t)),disabled:""==o.editDescription||0==o.editContacts.length||""==o.editLatitude||""==o.editLongitude},(0,v.zw)("Inactive"===o.hospitalStatus&&o.activate?"Save changes and activate this account":"Save changes"),9,xS)):(0,l.kq)("",!0)])])])])],64)}var US={name:"ManagerProfile",components:{ManagerMenuVue:Mf},async mounted(){this.loading=!0,await ie().get("/session/manager").then((t=>this.managerHospital=t.data.hospital)),await ie().get("/session/manager").then((t=>this.managerHospitalID=t.data._id)),await ie().get("/api/manager").then((t=>this.hospitalData=t.data.find((t=>t._id==this.managerHospitalID)))),this.hospitalStatus=await this.hospitalData.status,this.latitude=await this.hospitalData.location.coordinates[1],this.longitude=await this.hospitalData.location.coordinates[0],this.hospitalSpecializations=await this.hospitalData.specializations,console.log(this.hospitalSpecializations),"Inactive"!==this.hospitalStatus&&(this.description=await this.hospitalData.details[0].description,this.contacts=await this.hospitalData.details[0].contacts,this.latitude=await this.hospitalData.location.coordinates[1],this.longitude=await this.hospitalData.location.coordinates[0],this.hospitalSpecializations=await this.hospitalData.specializations),this.loading=!1},computed:{specializationListIndexed(){return this.specializationList.filter((t=>t.toLowerCase().includes(this.searchBar.toLowerCase())))}},data(){return{searchBar:"",specializationList:this.$store.getters.getSpecializationList,loading:!1,hospitalStatus:"",activate:!1,managerHospital:"",managerHospitalID:"",editingMode:!1,editDescription:"",editContacts:[],editLatitude:"",editLongitude:"",hospitalSpecializations:[],editHospitalSpecializations:[],latitude:"",longitude:"",description:"",contact:"",contacts:[],hospitalData:"",details:[],coordinates:[]}},methods:{async imgSuccess(){this.$store.commit("imgSuccessManager",!0)},editMode(){this.editingMode=!0,this.editDescription=this.description,this.editContacts=[...this.contacts],this.editLatitude=this.latitude,this.editLongitude=this.longitude,this.editHospitalSpecializations=[...this.hospitalSpecializations]},editModeCancel(){this.editingMode=!1,this.editDescription="",this.editContacts=[],this.editLatitude="",this.editLongitude="",this.editHospitalSpecializations=[],"Inactive"==this.hospitalStatus&&(this.activate=!1)},addContact(){this.editContacts.push({contact:this.contact}),this.contact=""},removeContact(t){this.editContacts=this.editContacts.filter((e=>e.contact!==t))},activateAccount(){this.activate=!0},selectSpecialization(t){this.editHospitalSpecializations.find((e=>e.specialist===t))||this.editHospitalSpecializations.push({specialist:t})},undoSpecialization(t){this.editHospitalSpecializations=this.editHospitalSpecializations.filter((e=>e.specialist!==t))},async saveProfileEdit(){""!==this.editDescription&&0!==this.editContacts.length&&""!==this.editLongitude&&""!==this.editLongitude&&this.editHospitalSpecializations&&(this.details.push({description:this.editDescription,contacts:this.editContacts}),this.coordinates.push(this.editLongitude,this.editLatitude),this.activate?await ie().put(`/api/manager/${this.managerHospitalID}`,{details:this.details,specializations:this.editHospitalSpecializations,location:{type:"Point",coordinates:this.coordinates},status:"Active"}).catch((t=>console.log(t))):await ie().put(`/api/manager/${this.managerHospitalID}`,{details:this.details,specializations:this.editHospitalSpecializations,location:{type:"Point",coordinates:this.coordinates}}).catch((t=>console.log(t))),await ie().get("/api/manager").then((t=>this.hospitalData=t.data.find((t=>t._id==this.managerHospitalID)))),this.description=await this.hospitalData.details[0].description,this.contacts=await this.hospitalData.details[0].contacts,this.hospitalStatus=await this.hospitalData.status,this.latitude=await this.hospitalData.location.coordinates[1],this.longitude=await this.hospitalData.location.coordinates[0],this.hospitalSpecializations=await this.hospitalData.specializations,this.editingMode=!1,this.editDescription="",this.editContacts=[],this.editLongitude="",this.editLatitude="",this.editHospitalSpecializations=[],this.details=[],this.coordinates=[],this.activate=!1)}}};const AS=(0,c.Z)(US,[["render",SS],["__scopeId","data-v-a81b865a"]]);var PS=AS;const MS={class:"columns"},zS={class:"column is-2"},IS={class:"column"},NS={class:"section"},TS={class:"container box"},LS=(0,l._)("label",{class:"label"},"Registration Code",-1),HS={class:"field has-addons"},qS={class:"control"},VS=(0,l._)("i",{class:"fa-solid fa-arrows-rotate"},null,-1),OS=[VS],ES=(0,l._)("hr",null,null,-1),FS={key:0,class:"notification is-success"},$S={key:1,class:"notification is-danger"},RS={class:"field"},BS=(0,l._)("label",{class:"label"},"Current Password",-1),YS={class:"control"},jS={key:0,class:"help is-danger"},WS={class:"field"},KS=(0,l._)("label",{class:"label"},"New Password",-1),GS={class:"control"},ZS={key:0,class:"help is-danger"},QS={class:"field"},XS=(0,l._)("label",{class:"label"},"Confirm Password",-1),JS={class:"control"},tU={key:0,class:"help is-danger"},eU=(0,l.Uk)(" Show password "),aU={class:"field has-text-right"},sU={class:"control"},iU=["disabled"];var lU={__name:"ManagerSecurity",setup(t){let e=(0,Cv.iH)(""),a=(0,Cv.iH)(""),i=(0,Cv.iH)(""),o=(0,Cv.iH)(!1),n=(0,Cv.iH)(""),c=(0,Cv.iH)(""),r=(0,Cv.iH)(!1),d=(0,Cv.iH)(!1),u=(0,Cv.iH)("");function p(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=e.length;for(let s=0;s<8;s++)t+=e.charAt(Math.floor(Math.random()*a));u.value=t.toUpperCase()}async function h(){p();try{await ie().put(`/api/manager/${n.value}`,{registrationCode:u.value}),await ie().put("/session/manager",{registrationCode:u.value})}catch(t){c.value=t}}function m(){let t=document.getElementsByClassName("password");for(let e=0;e<t.length;e++)"password"===t[e].type?t[e].type="text":t[e].type="password"}async function g(){a.value===i.value?await ie().put("/api/updatePassword/manager",{managerID:n.value,currentPassword:e.value,newPassword:a.value}).then((t=>{t.data?(d.value=!1,e.value="",a.value="",i.value="",r.value=!0,c.value="",o.value=!1):(r.value=!1,d.value=!0)})).catch((t=>{c.value=t,r.value=!1})):(o.value=!0,r.value=!1)}return(0,l.bv)((async()=>{await ie().get("/session/manager").then((t=>n.value=t.data._id)),await ie().get("/session/manager").then((t=>u.value=t.data.registrationCode)),console.log(u.value)})),(t,n)=>((0,l.wg)(),(0,l.iD)("div",MS,[(0,l._)("div",zS,[(0,l.Wm)(Mf)]),(0,l._)("div",IS,[(0,l._)("section",NS,[(0,l._)("div",TS,[LS,(0,l._)("div",HS,[(0,l._)("div",qS,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>(0,Cv.dq)(u)?u.value=t:u=t)},null,512),[[s.nr,(0,Cv.SU)(u)]])]),(0,l._)("div",{class:"control"},[(0,l._)("a",{class:"button",onClick:h},OS)])]),ES,(0,Cv.SU)(r)?((0,l.wg)(),(0,l.iD)("div",FS,"Password has been changed successfully. ")):(0,l.kq)("",!0),(0,Cv.SU)(c)?((0,l.wg)(),(0,l.iD)("div",$S,(0,v.zw)((0,Cv.SU)(c)),1)):(0,l.kq)("",!0),(0,l._)("div",RS,[BS,(0,l._)("div",YS,[(0,l.wy)((0,l._)("input",{type:"password",class:"input password","onUpdate:modelValue":n[1]||(n[1]=t=>(0,Cv.dq)(e)?e.value=t:e=t),placeholder:"Current password"},null,512),[[s.nr,(0,Cv.SU)(e)]])]),(0,Cv.SU)(d)?((0,l.wg)(),(0,l.iD)("p",jS,"Current password does not match in our database.")):(0,l.kq)("",!0)]),(0,l._)("div",WS,[KS,(0,l._)("div",GS,[(0,l.wy)((0,l._)("input",{type:"password",class:"input password","onUpdate:modelValue":n[2]||(n[2]=t=>(0,Cv.dq)(a)?a.value=t:a=t),placeholder:"New password"},null,512),[[s.nr,(0,Cv.SU)(a)]])]),(0,Cv.SU)(o)?((0,l.wg)(),(0,l.iD)("p",ZS,"Password do not match.")):(0,l.kq)("",!0)]),(0,l._)("div",QS,[XS,(0,l._)("div",JS,[(0,l.wy)((0,l._)("input",{type:"password",class:"input password","onUpdate:modelValue":n[3]||(n[3]=t=>(0,Cv.dq)(i)?i.value=t:i=t),placeholder:"Confirm password"},null,512),[[s.nr,(0,Cv.SU)(i)]])]),(0,Cv.SU)(o)?((0,l.wg)(),(0,l.iD)("p",tU,"Password do not match.")):(0,l.kq)("",!0)]),(0,l._)("div",{class:"field"},[(0,l._)("div",{class:"control"},[(0,l._)("label",{class:"checkbox"},[(0,l._)("input",{type:"checkbox",onClick:m}),eU])])]),(0,l._)("div",aU,[(0,l._)("div",sU,[(0,l._)("button",{class:"button is-danger",disabled:""==(0,Cv.SU)(e)||""==(0,Cv.SU)(a)||""==(0,Cv.SU)(i),onClick:g},"Change password",8,iU)])]),(0,l.Wm)(Ei["default"],{userType:"manager"})])])])]))}};const oU=lU;var nU=oU;const cU=t=>((0,l.dD)("data-v-14b5e600"),t=t(),(0,l.Cn)(),t),rU={class:"section"},dU=cU((()=>(0,l._)("div",{class:"modal-background"},null,-1))),uU=cU((()=>(0,l._)("div",{class:"modal-content loader"},null,-1))),pU=[dU,uU],hU={class:"container box",style:{width:"33%"}},mU={key:0,class:"notification is-danger"},gU={key:1,class:"notification is-success"},vU={key:2},wU=cU((()=>(0,l._)("h1",{class:"title"},"Contact Us",-1))),_U={class:"dropdown is-hoverable block"},bU={class:"dropdown-trigger"},yU={class:"button"},kU={class:"dropdown-menu"},fU={class:"dropdown-content"},DU={class:"field"},CU={class:"control"},xU=cU((()=>(0,l._)("label",{class:"label"},"Email",-1))),SU={class:"field"},UU={class:"control"},AU=cU((()=>(0,l._)("label",{class:"label"},"Subject",-1))),PU={class:"field"},MU={class:"control"},zU=cU((()=>(0,l._)("label",{class:"label"},"Explain the problem",-1))),IU={class:"field has-text-centered"},NU={class:"control"},TU=["disabled"];var LU={__name:"ContactSupport",setup(t){let e=(0,Cv.iH)(""),a=(0,Cv.iH)(""),i=(0,Cv.iH)(""),o=(0,Cv.iH)(""),n=(0,Cv.iH)(""),c=(0,Cv.iH)(!1),r=(0,Cv.iH)(""),d=(0,Cv.iH)(!1);async function u(){c.value=!0,p();try{await ie().post("/api/SupportMail",{ticketID:e.value,email:n.value,ticketType:a.value,ticketTitle:i.value}),await ie().post("/api/superuser/submitTicket",{ticketID:e.value,email:n.value,ticketType:a.value,ticketTitle:i.value,ticketMessage:o.value}),d.value=!0}catch(t){r.value=t}c.value=!1}function p(){let t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=a.length;for(let e=0;e<8;e++)t+=a.charAt(Math.floor(Math.random()*s));e.value=t.toUpperCase()}return(t,p)=>((0,l.wg)(),(0,l.iD)("section",rU,[(0,l._)("div",{class:(0,v.C_)(["modal",{"is-active":(0,Cv.SU)(c)}])},pU,2),(0,l._)("div",hU,[(0,Cv.SU)(r)&&!(0,Cv.SU)(d)?((0,l.wg)(),(0,l.iD)("div",mU,(0,v.zw)((0,Cv.SU)(r)),1)):(0,l.kq)("",!0),(0,Cv.SU)(d)?((0,l.wg)(),(0,l.iD)("div",gU,"Your problem has been reported, your ticket ID is: "+(0,v.zw)((0,Cv.SU)(e))+". Please see your email for further instructions.",1)):((0,l.wg)(),(0,l.iD)("div",vU,[wU,(0,l._)("div",_U,[(0,l._)("div",bU,[(0,l._)("button",yU,(0,v.zw)(""==(0,Cv.SU)(a)?"Select a Problem":(0,Cv.SU)(a)),1)]),(0,l._)("div",kU,[(0,l._)("div",fU,[(0,l._)("a",{class:"dropdown-item",onClick:p[0]||(p[0]=t=>(0,Cv.dq)(a)?a.value="General Inquiry":a="General Inquiry")},"General Inquiry"),(0,l._)("a",{class:"dropdown-item",onClick:p[1]||(p[1]=t=>(0,Cv.dq)(a)?a.value="Account Problem":a="Account Problem")},"Account Problem"),(0,l._)("a",{class:"dropdown-item",onClick:p[2]||(p[2]=t=>(0,Cv.dq)(a)?a.value="Report a bug":a="Report a bug")},"Report a bug")])])]),(0,l._)("div",DU,[(0,l._)("div",CU,[xU,(0,l.wy)((0,l._)("input",{type:"email","onUpdate:modelValue":p[3]||(p[3]=t=>(0,Cv.dq)(n)?n.value=t:n=t),class:"input"},null,512),[[s.nr,(0,Cv.SU)(n)]])])]),(0,l._)("div",SU,[(0,l._)("div",UU,[AU,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":p[4]||(p[4]=t=>(0,Cv.dq)(i)?i.value=t:i=t),class:"input"},null,512),[[s.nr,(0,Cv.SU)(i)]])])]),(0,l._)("div",PU,[(0,l._)("div",MU,[zU,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":p[5]||(p[5]=t=>(0,Cv.dq)(o)?o.value=t:o=t),class:"textarea"},null,512),[[s.nr,(0,Cv.SU)(o)]])])]),(0,l._)("div",IU,[(0,l._)("div",NU,[(0,l._)("button",{class:"button is-primary",onClick:u,disabled:""==(0,Cv.SU)(a)||""==(0,Cv.SU)(n)||""==(0,Cv.SU)(i)||""==(0,Cv.SU)(o)},"Submit Issue",8,TU)])])]))])]))}};const HU=(0,c.Z)(LU,[["__scopeId","data-v-14b5e600"]]);var qU=HU;const VU={class:"section"},OU={class:"container"},EU={class:"title"},FU=(0,l.Uk)("Oops, page does not exist. Please return here "),$U=(0,l.Uk)("here.");function RU(t,e){const a=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("section",VU,[(0,l._)("div",OU,[(0,l._)("h1",EU,[FU,(0,l.Wm)(a,{to:"/"},{default:(0,l.w5)((()=>[$U])),_:1})])])])}const BU={},YU=(0,c.Z)(BU,[["render",RU]]);var jU=YU;const WU=[{path:"/",component:ua},{path:"/user/manager/:user",component:Lf,meta:{requiresManagerAuth:!0}},{path:"/user/manager/signup",component:GC},{path:"/user/manager/login",component:eD},{path:"/user/manager/:user/profile",component:PS,meta:{requiresManagerAuth:!0}},{path:"/user/manager/:user/security",component:nU,meta:{requiresManagerAuth:!0}},{path:"/user/superuser",component:ek,meta:{requiresSuperUserAuth:!0}},{path:"/user/superuser/login",component:fk},{path:"/doctor/login",component:Ri},{path:"/doctor/signup",component:Kn},{path:"/doctor/user/:user",component:bo,meta:{requiresAuth:!0}},{path:"/doctor/user/:user/schedule",component:Wc,meta:{requiresAuth:!0}},{path:"/doctor/user/:user/profile",component:ud,meta:{requiresAuth:!0}},{path:"/doctor/user/:user/security",component:uh,meta:{requiresAuth:!0}},{path:"/doctor/user/:user/patients",component:Mu,meta:{requiresAuth:!0}},{path:"/imgUploadSuccess",component:Xh,meta:{requireImgUploadSuccess:!0}},{path:"/imgUploadSuccessDoctor",component:cm,meta:{requireImgUploadSuccess:!0}},{path:"/imgUploadSuccessManager",component:_m,meta:{requireImgUploadSuccessManager:!0}},{path:"/user/signup",component:av},{path:"/user/login",component:Dv},{path:"/user/:user/",component:Uv,meta:{requiresAuthPatient:!0}},{path:"/user/:user/doctors",component:gs,meta:{requiresAuthPatient:!0}},{path:"/user/:user/profile",component:l_,meta:{requiresAuthPatient:!0}},{path:"/user/:user/security",component:I_,meta:{requiresAuthPatient:!0}},{path:"/success",component:$h,meta:{requireSuccessPickDoctor:!0}},{path:"/user/:user/registration",component:fi,meta:{requireProcess:!0}},{path:"/contactus",component:qU},{path:"/:catchAll404(.*)*",component:jU}],KU=(0,g.p7)({history:(0,g.PO)("/"),routes:WU});KU.beforeEach(((t,e,a)=>{if(t.matched.some((t=>t.meta.requireProcess)))return m.state.statusAvailability?a():a("/user/:user/doctors");a()})),KU.beforeEach(((t,e,a)=>{if(t.matched.some((t=>t.meta.requireImgUploadSuccess)))return!0===m.state.imgSuccess?a():a("/doctor/login");a()})),KU.beforeEach(((t,e,a)=>{if(t.matched.some((t=>t.meta.requireImgUploadSuccessManager)))return m.state.imgSuccessManager?a():a("/user/manager/login");a()})),KU.beforeEach(((t,e,a)=>{if(t.matched.some((t=>t.meta.requireSuccessPickDoctor)))return m.state.appointed?a():a("/user/:user/registration");a()})),KU.beforeEach((async(t,e,a)=>{if(t.matched.some((t=>t.meta.requiresAuth)))return await ie().get("/session/doctor").then((async t=>{"undefined"!==typeof t.data.alias?(console.log(t.data.alias),m.commit("alias",t.data.alias),m.commit("doctorID",t.data._id),m.commit("profileImg",Oi.imageTag(`assets/doctors/${t.data.alias}.jpg`).toHtml())):(m.commit("alias",null),await ie()["delete"]("/session/doctor"))})),m.state.alias?a():a("/doctor/login");a()})),KU.beforeEach((async(t,e,a)=>{if(t.matched.some((t=>t.meta.requiresAuthPatient)))return await ie().get("/session/patient").then((async t=>{"undefined"!==typeof t.data.username?(m.commit("patientUsername",t.data.username),m.commit("patientID",t.data._id)):(m.commit("patientID",null),m.commit("patientUsername",""),await ie()["delete"]("/session/patient"),la.disconnect())})),m.state.patientUsername?a():a("/user/login");a()})),KU.beforeEach(((t,e,a)=>{if(t.matched.some((t=>t.meta.requiresSuperUserAuth)))return m.state.superUserAuth?a():a("/user/superuser/login");a()})),KU.beforeEach((async(t,e,a)=>{if(t.matched.some((t=>t.meta.requiresManagerAuth)))return await ie().get("/session/manager").then((async t=>{"undefined"!==typeof t.data.hospital?m.commit("managerHospital",t.data.hospital):(m.commit("managerHospital",null),await ie()["delete"]("/session/manager"))})),m.state.managerHospital?a():a("/user/manager/login");a()})),KU.beforeEach(((t,e,a)=>{if(t.matched.some((t=>t.meta.requireProcess)))return m.state.statusAvailability?a():a("/user/:user/doctors");a()}));var GU=KU,ZU=a(2346);(0,s.ri)(d).use(i.ZP,{}).use(GU).use(m).use(ZU.Z,ie()).mount("#app")},9615:function(t,e,a){a.r(e),a.d(e,{default:function(){return Z}});var s=a(6252),i=a(2262),l=a(3577),o=a(9963),n=a(9669),c=a.n(n);const r=t=>((0,s.dD)("data-v-cd2db4f2"),t=t(),(0,s.Cn)(),t),d=r((()=>(0,s._)("div",{class:"modal-background"},null,-1))),u={class:"modal-content has-text-left",style:{width:"40%",margin:"auto"}},p={key:0,class:"section box"},h=r((()=>(0,s._)("p",{class:"title is-4 has-text-danger"},"Forgot Password",-1))),m={key:0,class:"notification is-danger"},g={key:1,class:"notification is-warning"},v={key:2,class:"container"},w={class:"field"},_={class:"control"},b=r((()=>(0,s._)("label",{class:"label"},"Enter Username",-1))),y={class:"field"},k={class:"control"},f=r((()=>(0,s._)("label",{class:"label"},"Enter Email",-1))),D={class:"field"},C={class:"control"},x=["disabled"],S={key:3,class:"notification is-danger"},U={key:1,class:"section box"},A={key:0,class:"container"},P={class:"field"},M={class:"control"},z=r((()=>(0,s._)("label",{class:"label"},"Enter code",-1))),I={key:1,class:"container"},N={key:0,class:"notification is-danger"},T={key:1,class:"container"},L={class:"field"},H={class:"control"},q=r((()=>(0,s._)("label",{class:"label"},"New Password:",-1))),V={class:"field"},O={class:"control"},E=r((()=>(0,s._)("label",{class:"label"},"Confirm Password:",-1))),F={class:"field"},$={class:"control"},R=["disabled"],B={key:2,class:"container"},Y=r((()=>(0,s._)("div",{class:"notification is-success"},"Your password has been successfully changed.",-1))),j=[Y];var W={__name:"ForgotPassword",props:{userType:String,username:String,email:String},setup(t){const e=t;let a=(0,i.iH)(!1),n=(0,i.iH)(""),r=(0,i.iH)(!1),Y=(0,i.iH)(!1),W=(0,i.iH)(""),K=(0,i.iH)(!1),G=(0,i.iH)(!1),Z=(0,i.iH)(""),Q=(0,i.iH)(""),X=(0,i.iH)(!1),J=(0,i.iH)(!1),tt=(0,i.iH)(!1),et=(0,i.iH)(""),at=(0,i.iH)(e.username),st=(0,i.iH)(e.email);async function it(){if(null!=at.value||null!=st.value){let s;a.value=!0;let i=Math.floor(1e3+9e3*Math.random());if(await c().post("/api/code/email",{email:st.value}).then((t=>s=t.data)),s)Y.value=!0;else if("patient"==e.userType)if(await c().post("/api/user/verify_username",{username:at.value,email:st.value}).then((t=>et.value=t.data)),et.value){tt.value=!1;try{await c().post("/api/code",{email:st.value,code:i}),await c().post("/api/OTPMail",{email:st.value,code:i}),K.value=!0}catch(t){n.value=t}}else tt.value=!0;else if("doctor"==e.userType)if(await c().post("/api/doctor/verify_username",{username:at.value,email:st.value}).then((t=>et.value=t.data)),et.value){tt.value=!1;try{await c().post("/api/code",{email:st.value,code:i}),await c().post("/api/OTPMail",{email:st.value,code:i}),K.value=!0}catch(t){n.value=t}}else tt.value=!0;else if("manager"==e.userType)if(await c().post("/api/manager/verify_username",{username:at.value,email:st.value}).then((t=>et.value=t.data)),et.value){tt.value=!1;try{await c().post("/api/code",{email:st.value,code:i}),await c().post("/api/OTPMail",{email:st.value,code:i}),K.value=!0}catch(t){n.value=t}}else tt.value=!0;a.value=!1}}async function lt(){let t;await c().post("/api/code/verify",{code:W.value}).then((e=>t=e.data)),t&&(G.value=!0)}async function ot(){if(Z.value===Q.value){if("patient"==e.userType)try{await c().put("/api/fupdatePassword/patient",{patientID:et.value._id,password:Z.value}),et.value="",J.value=!0}catch(t){J.value=!1,n.value=t,et.value=""}else if("doctor"==e.userType)try{await c().put("/api/fupdatePassword/doctor",{doctorID:et.value._id,password:Z.value}),et.value="",J.value=!0}catch(t){J.value=!1,n.value=t,et.value=""}else if("manager"==e.userType)try{await c().put("/api/fupdatePassword/manager",{managerID:et.value._id,password:Z.value}),et.value="",J.value=!0}catch(t){J.value=!1,n.value=t,et.value=""}}else X.value=!0}return(t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("a",{class:"subtitle has-text-danger",onClick:e[0]||(e[0]=t=>(0,i.dq)(r)?r.value=!(0,i.SU)(r):r=!(0,i.SU)(r))},"Forgot Password"),(0,s._)("div",{class:(0,l.C_)(["modal",{"is-active":(0,i.SU)(r)}])},[d,(0,s._)("div",u,[(0,i.SU)(K)?((0,s.wg)(),(0,s.iD)("section",U,[(0,i.SU)(G)?((0,s.wg)(),(0,s.iD)("div",I,[(0,i.SU)(X)?((0,s.wg)(),(0,s.iD)("div",N,"Passwords not match.")):(0,s.kq)("",!0),(0,i.SU)(J)?((0,s.wg)(),(0,s.iD)("div",B,j)):((0,s.wg)(),(0,s.iD)("div",T,[(0,s._)("div",L,[(0,s._)("div",H,[q,(0,s.wy)((0,s._)("input",{class:"input",type:"password","onUpdate:modelValue":e[4]||(e[4]=t=>(0,i.dq)(Z)?Z.value=t:Z=t)},null,512),[[o.nr,(0,i.SU)(Z)]])])]),(0,s._)("div",V,[(0,s._)("div",O,[E,(0,s.wy)((0,s._)("input",{class:"input",type:"password","onUpdate:modelValue":e[5]||(e[5]=t=>(0,i.dq)(Q)?Q.value=t:Q=t)},null,512),[[o.nr,(0,i.SU)(Q)]])])]),(0,s._)("div",F,[(0,s._)("div",$,[(0,s._)("button",{class:"button",onClick:ot,disabled:""==(0,i.SU)(Z)&&""==(0,i.SU)(Q)},"Confirm",8,R)])])]))])):((0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("div",P,[(0,s._)("div",M,[z,(0,s.wy)((0,s._)("input",{class:"input",type:"number","onUpdate:modelValue":e[3]||(e[3]=t=>(0,i.dq)(W)?W.value=t:W=t)},null,512),[[o.nr,(0,i.SU)(W)]])])]),(0,s._)("div",{class:"field"},[(0,s._)("div",{class:"control"},[(0,s._)("button",{class:"button",onClick:lt},"Verify")])])]))])):((0,s.wg)(),(0,s.iD)("section",p,[h,(0,i.SU)(n)?((0,s.wg)(),(0,s.iD)("div",m,(0,l.zw)((0,i.SU)(n)),1)):(0,s.kq)("",!0),(0,i.SU)(tt)?((0,s.wg)(),(0,s.iD)("div",g,"No account has been found linked with this email.")):(0,s.kq)("",!0),(0,i.SU)(Y)?((0,s.wg)(),(0,s.iD)("div",S,"You have to wait 10 minutes before requesting a code again. ")):((0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",w,[(0,s._)("div",_,[b,(0,s.wy)((0,s._)("input",{class:"input",type:"email","onUpdate:modelValue":e[1]||(e[1]=t=>(0,i.dq)(at)?at.value=t:at=t)},null,512),[[o.nr,(0,i.SU)(at)]])])]),(0,s._)("div",y,[(0,s._)("div",k,[f,(0,s.wy)((0,s._)("input",{class:"input",type:"email","onUpdate:modelValue":e[2]||(e[2]=t=>(0,i.dq)(st)?st.value=t:st=t)},null,512),[[o.nr,(0,i.SU)(st)]])])]),(0,s._)("div",D,[(0,s._)("div",C,[(0,s._)("button",{class:(0,l.C_)(["button",{"is-loading":(0,i.SU)(a)}]),onClick:it,disabled:null==(0,i.SU)(st)||null==(0,i.SU)(at)},"Send OTP",10,x)])])]))]))]),(0,s._)("button",{class:"modal-close is-large","aria-label":"close",onClick:e[6]||(e[6]=t=>(0,i.dq)(r)?r.value=!1:r=!1)})],2)],64))}},K=a(3744);const G=(0,K.Z)(W,[["__scopeId","data-v-cd2db4f2"]]);var Z=G}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var l=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,s,i,l){if(!s){var o=1/0;for(d=0;d<t.length;d++){s=t[d][0],i=t[d][1],l=t[d][2];for(var n=!0,c=0;c<s.length;c++)(!1&l||o>=l)&&Object.keys(a.O).every((function(t){return a.O[t](s[c])}))?s.splice(c--,1):(n=!1,l<o&&(o=l));if(n){t.splice(d--,1);var r=i();void 0!==r&&(e=r)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[s,i,l]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,l,o=s[0],n=s[1],c=s[2],r=0;if(o.some((function(e){return 0!==t[e]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(c)var d=c(a)}for(e&&e(s);r<o.length;r++)l=o[r],a.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return a.O(d)},s=self["webpackChunkclient"]=self["webpackChunkclient"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(5176)}));s=a.O(s)})();
//# sourceMappingURL=app.eca769ac.js.map