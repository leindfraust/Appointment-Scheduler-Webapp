"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[602],{778:function(i,e,t){t.d(e,{Z:function(){return m}});var a=t(6252),s=t(475);const l=i=>((0,a.dD)("data-v-2c83e7d8"),i=i(),(0,a.Cn)(),i),o={class:"footer",style:{"background-color":"white"}},n={class:"container is-fluid has-text-centered"},r=(0,a.uE)('<figure class="image" style="margin:auto;width:15%;" data-v-2c83e7d8><img src="'+s+'" data-v-2c83e7d8></figure><div class="block" data-v-2c83e7d8></div><p class="subtitle is-6" data-v-2c83e7d8>Medic Search is a capstone project proposal in <strong data-v-2c83e7d8>La Consolacion College</strong> that is developed by Romel Jr Zerna, Mel Fatima Fernandez, Cloyde Catacutan and Gabriel Olmoguez. It is an online platform that allows patients to book their appointment online. Patients can search for doctors based on their location, specialty, and availability.</p><div class="block" data-v-2c83e7d8></div>',4),c={class:"breadcrumb is-centered","aria-label":"breadcrumbs"},d=l((()=>(0,a._)("div",{class:"block"},[(0,a._)("strong",null,"Copyright @2022-2023 Medic Search")],-1)));function p(i,e,t,s,l,p){const u=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("footer",o,[(0,a._)("div",n,[r,(0,a._)("nav",c,[(0,a._)("ul",null,[(0,a._)("li",null,[(0,a.Wm)(u,{to:"/about"},{default:(0,a.w5)((()=>[(0,a.Uk)("About Medic Search")])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(u,{to:"/terms-and-conditions"},{default:(0,a.w5)((()=>[(0,a.Uk)("Terms and Conditions")])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(u,{to:"/contactus"},{default:(0,a.w5)((()=>[(0,a.Uk)("Contact Us")])),_:1})])])]),d])])}var u={name:"FooterPage"},h=t(3744);const v=(0,h.Z)(u,[["render",p],["__scopeId","data-v-2c83e7d8"]]);var m=v},7374:function(i,e,t){t.r(e),t.d(e,{default:function(){return Oi}});var a=t(6252),s=t(3577),l=t(9963);const o=i=>((0,a.dD)("data-v-82c03454"),i=i(),(0,a.Cn)(),i),n={id:"background"},r=o((()=>(0,a._)("div",{class:"modal-background"},null,-1))),c=o((()=>(0,a._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,a._)("div",{class:"loader",style:{margin:"auto"}})],-1))),d=[r,c],p=o((()=>(0,a._)("div",{class:"modal-background"},null,-1))),u={class:"modal-content",style:{overflow:"auto"}},h={class:"box"},v={class:"section has-text-centered"},m=o((()=>(0,a._)("label",{class:"label"},"Choose Preferred Date",-1))),g=o((()=>(0,a._)("div",{class:"block"},null,-1))),y=o((()=>(0,a._)("label",{class:"label"},"Choose Preferred Time(Optional) ",-1))),f={class:"buttons is-centered"},_=o((()=>(0,a._)("div",{class:"block"},null,-1))),b={class:"buttons is-centered"},w=["disabled"],k=o((()=>(0,a._)("div",{class:"block"},null,-1))),D={key:0,class:"is-hidden-desktop"},C={class:"columns is-mobile",style:{overflow:"auto"}},F={class:"column is-narrow"},S={class:"select is-rounded"},T=o((()=>(0,a._)("option",{value:!1},"Sort by Recommended",-1))),M=o((()=>(0,a._)("option",{value:!0},"Sort by Nearest",-1))),H=[T,M],L={class:"column is-narrow"},U={class:"select is-rounded"},P=o((()=>(0,a._)("option",{value:"",disabled:""},"City/Municipality",-1))),x=o((()=>(0,a._)("option",{value:""},"Any",-1))),N={class:"column is-narrow"},z={class:"select is-rounded"},$=(0,a.uE)('<option value="" disabled data-v-82c03454>Type of Facility</option><option value="" data-v-82c03454>Any</option><option value="Public" data-v-82c03454>Public Hospital</option><option value="Private" data-v-82c03454>Private Hospital</option><option value="Clinic" data-v-82c03454>Clinic</option>',5),q=[$],A={class:"column is-narrow"},O={class:"select is-rounded"},Q=["value"],V={class:"column is-narrow"},Z={key:1,class:"container is-fluid"},I=o((()=>(0,a._)("div",{class:"block"},null,-1))),Y={class:"columns"},K={class:"column is-2 has-text-centered-mobile is-hidden-mobile",style:{"box-shadow":"0px 4px 4px rgba(0, 0, 0, 0.25)","clip-path":"inset(0px -15px 0px 0px)"}},W=o((()=>(0,a._)("br",null,null,-1))),E={class:"container"},R={class:"block"},B={class:"select"},j=o((()=>(0,a._)("option",{value:!0},"Sort by Nearest",-1))),G=o((()=>(0,a._)("option",{value:!1},"Sort by Recommended",-1))),J=[j,G],X={class:"block"},ii={class:"select"},ei=o((()=>(0,a._)("option",{value:"",disabled:""},"City/Municipalit        ",-1))),ti=o((()=>(0,a._)("option",{value:""},"Any",-1))),ai={class:"block"},si={class:"select"},li=(0,a.uE)('<option value="" disabled data-v-82c03454>Type of Facility         </option><option value="" data-v-82c03454>Any</option><option value="Public" data-v-82c03454>Public Hospital</option><option value="Private" data-v-82c03454>Private Hospital</option><option value="Clinic" data-v-82c03454>Clinic</option>',5),oi=[li],ni={class:"block"},ri={class:"select"},ci=["value"],di={class:"block"},pi=o((()=>(0,a._)("div",{class:"column is-1 is-hidden-mobile"},null,-1))),ui={key:0,class:"column is-6"},hi=o((()=>(0,a._)("br",null,null,-1))),vi={class:"container is-fluid"},mi={class:"column is-5"},gi=["onClick"],yi={class:"image is-3by2 is-rounded"},fi=["src"],_i={class:"column"},bi={key:0,class:"notification is-info is-light"},wi=["onClick"],ki={class:"title is-4"},Di={class:"subtitle is-6"},Ci=o((()=>(0,a._)("br",null,null,-1))),Fi={class:"content"},Si=o((()=>(0,a._)("b",null,"Type of Facility:",-1))),Ti={key:0},Mi={class:"subtitle is-6"},Hi=o((()=>(0,a._)("b",null,"Contacts:",-1))),Li={key:0,class:"column notification is-danger is-light has-text-centered"},Ui={key:1,class:"column notification is-danger is-light has-text-centered"};function Pi(i,e,t,o,r,c){const T=(0,a.up)("NavigationTab"),M=(0,a.up)("v-date-picker"),$=(0,a.up)("FooterBlock");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",n,[(0,a.Wm)(T,{"provider-finder-mode":!0,"provider-provinces":r.geolocation,query:r.province,"provider-list":r.geoHospitalNearestUser,onUnloadPropData:e[0]||(e[0]=e=>c.unloadPropData(e,i.arg))},null,8,["provider-provinces","query","provider-list"]),(0,a._)("div",{class:(0,s.C_)(["modal",{"is-active":r.isHospitalLoading}])},d,2),(0,a._)("div",{class:(0,s.C_)(["modal",{"is-active":r.dateTimeFilter}])},[p,(0,a._)("div",u,[(0,a._)("div",h,[(0,a._)("section",v,[m,(0,a.Wm)(M,{modelValue:r.filterDate,"onUpdate:modelValue":e[1]||(e[1]=i=>r.filterDate=i),"min-date":new Date,"is-expanded":""},null,8,["modelValue","min-date"]),g,y,(0,a._)("div",f,[(0,a._)("button",{class:(0,s.C_)(["button",{"is-active":"AM"==r.filterTime}]),onClick:e[2]||(e[2]=i=>"AM"==r.filterTime?r.filterTime="":r.filterTime="AM")},"AM",2),(0,a._)("button",{class:(0,s.C_)(["button",{"is-active":"PM"==r.filterTime}]),onClick:e[3]||(e[3]=i=>"PM"==r.filterTime?r.filterTime="":r.filterTime="PM")},"PM",2)]),_,(0,a._)("div",b,[(0,a._)("button",{class:"button",onClick:e[4]||(e[4]=i=>(r.dateTimeFilter=!1,r.filterTime="",r.filterDate=void 0,c.filterSpecialistDateTime()))},"Cancel"),(0,a._)("button",{class:"button is-info",disabled:void 0==r.filterDate,onClick:e[5]||(e[5]=i=>(c.filterSpecialistDateTime(),r.dateTimeFilter=!1))},"Confirm",8,w)])])])])],2),k,""!=r.citiesOrMunicipalities?((0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("div",C,[(0,a._)("div",F,[(0,a._)("div",S,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[6]||(e[6]=i=>r.distanceFilter=i)},H,512),[[l.bM,r.distanceFilter]])])]),(0,a._)("div",L,[(0,a._)("div",U,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[7]||(e[7]=i=>r.city=i)},[P,x,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.citiesOrMunicipalities.citiesOrMunicipalities.sort(((i,e)=>i.name>e.name?1:-1)),((i,e)=>((0,a.wg)(),(0,a.iD)("option",{key:e},(0,s.zw)(i.name.replace("City","").replace("Municipality","")),1)))),128))],512),[[l.bM,r.city]])])]),(0,a._)("div",N,[(0,a._)("div",z,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[8]||(e[8]=i=>r.typeFilter=i)},q,512),[[l.bM,r.typeFilter]])])]),(0,a._)("div",A,[(0,a._)("div",O,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[9]||(e[9]=i=>r.filterSpecialist=i),onChange:e[10]||(e[10]=(...i)=>c.filterSpecialistDateTime&&c.filterSpecialistDateTime(...i))},[(0,a._)("option",{value:"",disabled:""},"Specialist"),(0,a._)("option",{value:""},"Any"),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.specializations,(i=>((0,a.wg)(),(0,a.iD)("option",{key:i,value:i},(0,s.zw)(i),9,Q)))),128))],544),[[l.bM,r.filterSpecialist]])])]),(0,a._)("div",V,[(0,a._)("button",{class:"button is-info",onClick:e[11]||(e[11]=i=>r.dateTimeFilter=!0)},"Date and Time")])])])):(0,a.kq)("",!0),""!=r.citiesOrMunicipalities?((0,a.wg)(),(0,a.iD)("div",Z,[I,(0,a._)("div",Y,[(0,a._)("div",K,[W,(0,a._)("div",E,[(0,a._)("div",R,[(0,a._)("div",B,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[12]||(e[12]=i=>r.distanceFilter=i)},J,512),[[l.bM,r.distanceFilter]])])]),(0,a._)("div",X,[(0,a._)("div",ii,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[13]||(e[13]=i=>r.city=i)},[ei,ti,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.citiesOrMunicipalities.citiesOrMunicipalities.sort(((i,e)=>i.name>e.name?1:-1)),((i,e)=>((0,a.wg)(),(0,a.iD)("option",{key:e},(0,s.zw)(i.name.replace("City","").replace("Municipality","")),1)))),128))],512),[[l.bM,r.city]])])]),(0,a._)("div",ai,[(0,a._)("div",si,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[14]||(e[14]=i=>r.typeFilter=i)},oi,512),[[l.bM,r.typeFilter]])])]),(0,a._)("div",ni,[(0,a._)("div",ri,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[15]||(e[15]=i=>r.filterSpecialist=i),onChange:e[16]||(e[16]=(...i)=>c.filterSpecialistDateTime&&c.filterSpecialistDateTime(...i))},[(0,a._)("option",{value:"",disabled:""},"Specialist"),(0,a._)("option",{value:""},"Any"),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.specializations,(i=>((0,a.wg)(),(0,a.iD)("option",{key:i,value:i},(0,s.zw)(i),9,ci)))),128))],544),[[l.bM,r.filterSpecialist]])])]),(0,a._)("div",di,[(0,a._)("button",{class:"button is-info",onClick:e[17]||(e[17]=i=>r.dateTimeFilter=!0)},"Date and Time")])])]),pi,0!==r.geoHospitalNearestUser.length?((0,a.wg)(),(0,a.iD)("div",ui,[hi,(0,a._)("div",vi,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.geoHospitalNearestUserIndexed,((i,e)=>((0,a.wg)(),(0,a.iD)("div",{class:"columns is-centered has-text-left",id:"hospital",style:{"margin-bottom":"7.5%"},key:e},[(0,a._)("div",mi,[(0,a._)("a",{onClick:e=>c.bookAppointment(i)},[(0,a._)("figure",yi,[(0,a._)("img",{loading:"lazy",style:{"border-radius":"10px"},src:`https://res.cloudinary.com/leindfraust/image/upload/v${(new Date).getMonth()}${(new Date).getDate()}/assets/managers/${i.hospital}.jpg`},null,8,fi)])],8,gi)]),(0,a._)("div",_i,[r.filterDate instanceof Date&&!isNaN(r.filterDate)||r.filterSpecialist?((0,a.wg)(),(0,a.iD)("div",bi," Available for appointments")):(0,a.kq)("",!0),(0,a._)("a",{onClick:e=>c.bookAppointment(i)},[(0,a._)("h1",ki,(0,s.zw)(i.hospital),1),(0,a._)("p",Di,(0,s.zw)(i.barangayORStreet)+", "+(0,s.zw)(i.city)+", "+(0,s.zw)(i.province),1)],8,wi),Ci,(0,a._)("div",Fi,[Si,(0,a.Uk)(" "+(0,s.zw)(i.type)+" ",1),"undefined"!==typeof i.details[0].contacts?((0,a.wg)(),(0,a.iD)("span",Ti,[(0,a._)("p",Mi,[Hi,(0,a.Uk)(),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.details[0].contacts,((i,e)=>((0,a.wg)(),(0,a.iD)("span",{key:e},(0,s.zw)(i.contact+" "),1)))),128))])])):(0,a.kq)("",!0)])])])))),128))]),0==c.geoHospitalNearestUserIndexed.length?((0,a.wg)(),(0,a.iD)("div",Li," Sorry, no doctors available. ")):(0,a.kq)("",!0)])):r.isHospitalLoading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Ui," No registered hospitals/clinics are found, please try again or search another province. "))])])):(0,a.kq)("",!0)]),(0,a.Wm)($)],64)}var xi=t(6154),Ni=t(778),zi=t(465),$i={name:"HospitalFinder",computed:{geolocationIndexed(){return this.geolocation.filter((i=>i.province.toLowerCase().includes(this.province.toLowerCase())))},geoHospitalNearestUserIndexed(){return!!this.geoHospitalNearestUser&&this.geoHospitalNearestUser.slice().sort(((i,e)=>this.distanceFilter?i.distance-e.distance:(1e3*(e.engagements/10+2*e.ratings)-e.distance)/1e3-(1e3*(i.engagements/10+2*i.ratings)-i.distance)/1e3)).filter((i=>i.hospital.toLowerCase().includes(this.hospital.toLowerCase()))).filter((i=>i?.arrFilter>0)).filter((i=>""==this.typeFilter?"Private"==i.type||"Public"==i.type||"Clinic"==i.type:i.type==this.typeFilter)).filter((i=>i.city.includes(this.city))).slice().sort(((i,e)=>e.arrFilter-i.arrFilter))}},async mounted(){await xi.Z.get("/api/geolocation").then((i=>this.geolocation=i.data)),await this.loadProvider()},data(){return{city:"",isHospitalLoading:!1,checkUser:"",hospital:"",geolocation:[],typeFilter:"",citiesOrMunicipalities:[],hospitalQuery:this.$route.query.hospital,province:this.$route.query.province,userLatitude:this.$route.query.userLat,userLongitude:this.$route.query.userLong,geoHospitalNearestUser:"",specializations:this.$store.getters.getSpecializationList,filterSpecialist:this.$route.query.symptom,filterDate:new Date(this.$route.query.date),filterTime:this.$route.query.time,distanceFilter:!0,dateTimeFilter:!1,doctorSpecialistFilter:[],provincePrompt:!1}},methods:{async unloadPropData(i){this.hospitalQuery="",0!==this.geolocation.filter((e=>e.province==i)).length?this.province=i:this.hospitalQuery=i,await this.loadProvider()},async bookAppointment(i){const e={filterSpecialist:this.filterSpecialist,filterDate:this.filterDate,filterTime:this.filterTime};await this.$store.commit("hospitalDetails",i),await this.$store.commit("patientFilters",e),await xi.Z.put(`/api/manager/${i._id}`,{engagements:i.engagements+1}),await this.$router.push(`/${i._id}/doctors`)},async loadProvider(){this.isHospitalLoading=!0,await this.geolocation.find((i=>i.province===this.province))&&(await this.$router.push({path:"/provider",query:{hospital:this.hospitalQuery,province:this.province,symptom:this.filterSpecialist,userLat:this.userLatitude,userLong:this.userLongitude,date:new Date(this.filterDate).toLocaleDateString(),time:this.filterTime}}),this.citiesOrMunicipalities=this.geolocation.find((i=>i.province===this.province)),this.hospitalQuery||(this.hospitalQuery=""),await xi.Z.post("/api/geoFindHospitalNearestUser",{province:this.province,hospitalQuery:this.hospitalQuery,latitude:parseFloat(this.userLatitude),longitude:parseFloat(this.userLongitude)}).then((i=>this.geoHospitalNearestUser=i.data)),document.getElementById("background").style.background="none",await this.filterSpecialistDateTime()),this.isHospitalLoading=!1},async filterSpecialistDateTime(){this.doctorSpecialistFilter=[],void 0==this.filterTime&&(this.filterTime=""),await this.$router.push({path:"/provider",query:{hospital:this.hospitalQuery,province:this.province,symptom:this.filterSpecialist,userLat:this.userLatitude,userLong:this.userLongitude,date:new Date(this.filterDate).toLocaleDateString(),time:this.filterTime}});const i=this.geoHospitalNearestUser;for await(const e of i)this.isHospitalLoading=!0,this.hospitalQuery||(this.hospitalQuery=""),await xi.Z.post("/api/doctor/filteration",{hospital:e.hospital,filterSpecialist:this.filterSpecialist,date:this.filterDate,time:this.filterTime}).then((async i=>{this.doctorSpecialistFilter.push({hospital:e.hospital,docLength:i.data.filter((i=>this.filterSpecialist?e.specializations.find((i=>i.specialist===this.filterSpecialist))&&i.hospitalOrigin.filter((i=>i===e.hospital)):i.hospitalOrigin.filter((i=>i===e.hospital)))).length}),this.isHospitalLoading=!1}));await this.geoHospitalNearestUser.forEach((i=>i["arrFilter"]=this.doctorSpecialistFilter.find((e=>i.hospital==e.hospital))?.docLength))}},components:{NavigationTab:zi.Z,FooterBlock:Ni.Z}},qi=t(3744);const Ai=(0,qi.Z)($i,[["render",Pi],["__scopeId","data-v-82c03454"]]);var Oi=Ai}}]);
//# sourceMappingURL=602.6cdb7727.js.map