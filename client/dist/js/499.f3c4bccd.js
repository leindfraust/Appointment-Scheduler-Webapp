"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[499],{9499:function(e,s,a){a.r(s),a.d(s,{default:function(){return Ge}});var i=a(6252),l=a(9963),t=a(3577);const n=e=>((0,i.dD)("data-v-baef62b8"),e=e(),(0,i.Cn)(),e),o={class:"section"},r=n((()=>(0,i._)("i",{class:"fa-solid fa-arrow-left"},null,-1))),d={class:"container",style:{width:"50%",margin:"auto"}},c={key:0,class:"notification is-danger"},u={class:"box"},p={class:"field is-horizontal"},m={class:"field-body"},h={class:"field"},w={class:"control"},g=n((()=>(0,i._)("label",{class:"label"},"First name:",-1))),_={class:"field"},v={class:"control"},y=n((()=>(0,i._)("label",{class:"label"},"Last name:",-1))),b={class:"field is-horizontal"},f={class:"field-body"},k={class:"field"},D={class:"control"},C=n((()=>(0,i._)("label",{class:"label"},"Age:",-1))),A=n((()=>(0,i._)("br",null,null,-1))),F={class:"field"},U={class:"control"},x=n((()=>(0,i._)("label",{class:"label"},"Gender:",-1))),T={class:"radio"},q={class:"radio"},M={class:"field is-horizontal"},N=n((()=>(0,i._)("br",null,null,-1))),z={class:"field-body"},P={class:"field"},V={class:"control"},R=n((()=>(0,i._)("label",{class:"label"},"Contact Number:",-1))),E={class:"field"},I={class:"control"},L=n((()=>(0,i._)("label",{class:"label"},"Gmail(Optional):",-1))),O={key:0},S={key:0,class:"help is-danger"},G={key:0,class:"fas fa-spinner fa-spin"},H={key:1,class:"help is-success"},K={key:0,class:"fas fa-spinner fa-spin"},W={class:"field is-horizontal"},Y={class:"field-body"},$={class:"field"},B={class:"control"},Z=n((()=>(0,i._)("label",{class:"label"},"Province:",-1))),j={class:"dropdown-trigger"},J={key:0},Q={key:1},X={class:"dropdown-menu"},ee=["onClick"],se={class:"field"},ae={class:"control"},ie=n((()=>(0,i._)("div",{class:"label"},"City/Municipality:",-1))),le={class:"dropdown-trigger"},te=["disabled"],ne={key:0},oe={key:1},re={key:0,class:"dropdown-menu"},de=["onClick"],ce={class:"field"},ue={class:"control"},pe=n((()=>(0,i._)("label",{class:"label"},"Current Address",-1))),me={class:"field"},he={class:"control"},we=n((()=>(0,i._)("label",{class:"label"},"Username:",-1))),ge={key:0},_e={key:0,class:"help is-danger"},ve={key:0,class:"fas fa-spinner fa-spin"},ye={key:1,class:"help is-success"},be={key:0,class:"fas fa-spinner fa-spin"},fe={class:"field is-horizontal"},ke={class:"field-body"},De={class:"field"},Ce={class:"control"},Ae=n((()=>(0,i._)("label",{class:"label"},"Password:",-1))),Fe={class:"subtitle has-text-danger"},Ue={class:"field"},xe={class:"control"},Te=n((()=>(0,i._)("label",{class:"label"},"Repeat Password:",-1))),qe={class:"subtitle has-text-danger"},Me={class:"checkbox"},Ne=n((()=>(0,i._)("a",{href:"#"},"terms and conditions",-1))),ze=n((()=>(0,i._)("br",null,null,-1))),Pe={class:"has-text-right"},Ve=["disabled"];function Re(e,s,a,n,Re,Ee){const Ie=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("section",o,[(0,i.Wm)(Ie,{to:"/user/login"},{default:(0,i.w5)((()=>[r,(0,i.Uk)(" Back to Login")])),_:1}),(0,i._)("div",d,[Re.errMsg?((0,i.wg)(),(0,i.iD)("div",c,[(0,i.Uk)(" Oops, something went wrong. Try again later or "),(0,i.Wm)(Ie,{to:"/contactus"},{default:(0,i.w5)((()=>[(0,i.Uk)("contact us")])),_:1})])):(0,i.kq)("",!0),(0,i._)("div",u,[(0,i._)("div",p,[(0,i._)("div",m,[(0,i._)("div",h,[(0,i._)("p",w,[g,(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"First name","onUpdate:modelValue":s[0]||(s[0]=e=>Re.firstName=e),required:""},null,512),[[l.nr,Re.firstName]])])]),(0,i._)("div",_,[(0,i._)("p",v,[y,(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"Last name","onUpdate:modelValue":s[1]||(s[1]=e=>Re.lastName=e),required:""},null,512),[[l.nr,Re.lastName]])])])])]),(0,i._)("div",b,[(0,i._)("div",f,[(0,i._)("div",k,[(0,i._)("p",D,[C,(0,i.wy)((0,i._)("input",{class:"input",type:"number",placeholder:"age","onUpdate:modelValue":s[2]||(s[2]=e=>Re.age=e),required:""},null,512),[[l.nr,Re.age]])])]),A,(0,i._)("div",F,[(0,i._)("p",U,[x,(0,i._)("label",T,[(0,i._)("input",{type:"radio",name:"sex",onClick:s[3]||(s[3]=(...e)=>Ee.sexMale&&Ee.sexMale(...e))}),(0,i.Uk)(" Male ")]),(0,i._)("label",q,[(0,i._)("input",{type:"radio",name:"sex",onClick:s[4]||(s[4]=(...e)=>Ee.sexFemale&&Ee.sexFemale(...e))}),(0,i.Uk)(" Female ")])])])])]),(0,i._)("div",M,[N,(0,i._)("div",z,[(0,i._)("div",P,[(0,i._)("div",V,[R,(0,i.wy)((0,i._)("input",{class:"input",type:"number",placeholder:"contact number","onUpdate:modelValue":s[5]||(s[5]=e=>Re.contactNum=e),required:""},null,512),[[l.nr,Re.contactNum]])])]),(0,i._)("div",E,[(0,i._)("div",I,[L,""!==Re.emailFound?((0,i.wg)(),(0,i.iD)("div",O,[Re.emailFound?((0,i.wg)(),(0,i.iD)("p",S,[(0,i.Uk)("Unavailable"),Re.loadingEmail?((0,i.wg)(),(0,i.iD)("i",G)):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.iD)("p",H,[(0,i.Uk)("Available"),Re.loadingEmail?((0,i.wg)(),(0,i.iD)("i",K)):(0,i.kq)("",!0)]))])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{class:"input",type:"email",placeholder:"gmail","onUpdate:modelValue":s[6]||(s[6]=e=>Re.gmail=e),onInput:s[7]||(s[7]=(...e)=>Ee.emailFindTimeout&&Ee.emailFindTimeout(...e)),required:""},null,544),[[l.nr,Re.gmail]])])])])]),(0,i._)("div",W,[(0,i._)("div",Y,[(0,i._)("div",$,[(0,i._)("div",B,[Z,(0,i._)("div",{class:(0,t.C_)(["dropdown",{"is-active":Re.isActiveDropdownProvince}])},[(0,i._)("div",j,[(0,i._)("button",{class:"button","aria-haspopup":"true",onClick:s[8]||(s[8]=(...e)=>Ee.provinceDropdown&&Ee.provinceDropdown(...e))},[""==Re.province?((0,i.wg)(),(0,i.iD)("span",J,"Select")):((0,i.wg)(),(0,i.iD)("span",Q,(0,t.zw)(Re.province),1))])]),(0,i._)("div",X,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Re.geolocationData,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"dropdown-content",key:e._id},[(0,i._)("a",{class:"dropdown-item",onClick:s=>Ee.selectProvince(e.province)},(0,t.zw)(e.province),9,ee)])))),128))])],2)])]),(0,i._)("div",se,[(0,i._)("div",ae,[ie,(0,i._)("div",{class:(0,t.C_)(["dropdown",{"is-active":Re.isActiveDropdownCity}])},[(0,i._)("div",le,[(0,i._)("button",{class:"button","aria-haspopup":"true",onClick:s[9]||(s[9]=(...e)=>Ee.cityDropdown&&Ee.cityDropdown(...e)),disabled:""==Re.province},[""==Re.city?((0,i.wg)(),(0,i.iD)("span",ne,"Select")):((0,i.wg)(),(0,i.iD)("span",oe,(0,t.zw)(Re.city),1))],8,te)]),Re.province?((0,i.wg)(),(0,i.iD)("div",re,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Re.citiesData,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"dropdown-content",key:e.name},[(0,i._)("a",{class:"dropdown-item",onClick:s=>Ee.selectCity(e.name)},(0,t.zw)(e.name),9,de)])))),128))])):(0,i.kq)("",!0)],2)])])])]),(0,i._)("div",ce,[(0,i._)("p",ue,[pe,(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"your current address","onUpdate:modelValue":s[10]||(s[10]=e=>Re.currentAddress=e),required:""},null,512),[[l.nr,Re.currentAddress]])])]),(0,i._)("div",me,[(0,i._)("div",he,[we,""!==Re.usernameFound?((0,i.wg)(),(0,i.iD)("div",ge,[Re.usernameFound?((0,i.wg)(),(0,i.iD)("p",_e,[(0,i.Uk)("Unavailable"),Re.loadingUsername?((0,i.wg)(),(0,i.iD)("i",ve)):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.iD)("p",ye,[(0,i.Uk)("Available"),Re.loadingUsername?((0,i.wg)(),(0,i.iD)("i",be)):(0,i.kq)("",!0)]))])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"username","onUpdate:modelValue":s[11]||(s[11]=e=>Re.username=e),onInput:s[12]||(s[12]=(...e)=>Ee.usernameFindTimeout&&Ee.usernameFindTimeout(...e)),required:""},null,544),[[l.nr,Re.username]])])]),(0,i._)("div",fe,[(0,i._)("div",ke,[(0,i._)("div",De,[(0,i._)("p",Ce,[Ae,(0,i.wy)((0,i._)("input",{class:"input",type:"password",placeholder:"password","onUpdate:modelValue":s[13]||(s[13]=e=>Re.password=e),required:""},null,512),[[l.nr,Re.password]])]),(0,i._)("p",Fe,(0,t.zw)(Re.passwordMatch),1)]),(0,i._)("div",Ue,[(0,i._)("p",xe,[Te,(0,i.wy)((0,i._)("input",{class:"input",type:"password",placeholder:"repeat password","onUpdate:modelValue":s[14]||(s[14]=e=>Re.passwordRepeat=e),required:""},null,512),[[l.nr,Re.passwordRepeat]])]),(0,i._)("p",qe,(0,t.zw)(Re.passwordMatch),1)])])]),(0,i._)("label",Me,[(0,i._)("input",{type:"checkbox",onClick:s[15]||(s[15]=(...e)=>Ee.agreeTermsAndConditions&&Ee.agreeTermsAndConditions(...e))}),(0,i.Uk)(" I agree to the "),Ne]),ze,(0,i._)("div",Pe,[(0,i._)("button",{class:"button is-primary",onClick:s[16]||(s[16]=e=>Ee.signup(e)),disabled:null==Re.firstName||null==Re.lastName||null==Re.age||null==Re.sex||null==Re.contactNum||null==Re.province||null==Re.city||null==Re.currentAddress||null==Re.username||null==Re.password||0==Re.termsAndConditionsAgreed},"Confirm",8,Ve)])])])])}var Ee=a(9669),Ie=a.n(Ee),Le={username:"UserSignUp",data(){return{firstName:"",lastName:"",age:"",contactNum:"",gmail:"",currentAddress:"",username:"",password:"",passwordRepeat:"",sex:null,passwordMatch:"",geolocationData:[],isActiveDropdownProvince:!1,isActiveDropdownCity:!1,city:"",province:"",citiesData:[],termsAndConditionsAgreed:!1,errMsg:"",usernameFound:"",loadingUsername:!1,emailFound:"",loadingEmail:!1,searchTimeout:null,randomChar:""}},async mounted(){await Ie().get("/api/geolocation").then((e=>this.geolocationData=e.data))},methods:{async usernameFindTimeout(){this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.searchTimeout=setTimeout(this.usernameFinder,500)},async usernameFinder(){this.loadingUsername=!0,await Ie().post("/api/user/check_username",{username:this.username}).then((e=>{this.usernameFound=e.data})),""==await this.username&&(this.usernameFound=""),this.loadingUsername=!1},async emailFindTimeout(){this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.searchTimeout=setTimeout(this.emailFinder,500)},async emailFinder(){this.loadingEmail=!0,await Ie().post("/api/user/check_email",{email:this.gmail}).then((e=>{this.emailFound=e.data})),""==await this.gmail&&(this.emailFound=""),this.loadingEmail=!1},agreeTermsAndConditions(){this.termsAndConditionsAgreed=!0},sexMale(){this.sex="Male"},sexFemale(){this.sex="Female"},async selectProvince(e){this.city="",this.province=e,this.isActiveDropdownProvince=!1,await Ie().get("/api/geolocation").then((s=>this.citiesData=s.data.find((s=>s.province===e)))),this.citiesData=await this.citiesData.citiesOrMunicipalities.sort(((e,s)=>e.name>s.name?1:-1))},selectCity(e){this.city=e,this.isActiveDropdownCity=!1},provinceDropdown(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},cityDropdown(){this.isActiveDropdownCity=!this.isActiveDropdownCity},generateRandomChar(){let e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=s.length;for(let i=0;i<12;i++)e+=s.charAt(Math.floor(Math.random()*a));this.randomChar=e},async signup(){if(this.password!==this.passwordRepeat?this.passwordMatch="password do not match":this.passwordMatch=null,this.password===this.passwordRepeat&&!this.usernameFound&&!this.emailFound)try{""==this.gmail&&this.generateRandomChar(),await Ie().post("/api/user",{username:this.username,password:this.password,name:[this.firstName,this.lastName],age:this.age,sex:this.sex,contactNum:this.contactNum,gmail:""==this.gmail?`${this.randomChar}dummyemail@email.com`:this.gmail,province:this.province,city:this.city,currentAddress:this.currentAddress}),await this.$store.commit("accountCreated",!0),await this.$router.push("/user/login")}catch(e){this.errMsg=e}}}},Oe=a(3744);const Se=(0,Oe.Z)(Le,[["render",Re],["__scopeId","data-v-baef62b8"]]);var Ge=Se}}]);
//# sourceMappingURL=499.f3c4bccd.js.map