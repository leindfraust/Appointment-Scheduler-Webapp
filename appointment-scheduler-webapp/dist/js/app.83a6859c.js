(function(){"use strict";var e={641:function(e,t,a){var s=a(9963),i=a(405),l=a(6252);function n(e,t,a,s,i,n){const o=(0,l.up)("router-view");return(0,l.wg)(),(0,l.j4)(o)}var o={name:"App"},c=a(3744);const r=(0,c.Z)(o,[["render",n]]);var d=r,u=a(8637),p=a(4702);const h=(0,u.MT)({plugins:[(0,p.Z)()],state:{notificationClicked:!1,accountCreated:!1,disableCSSVH:!0,userAuth:!1,superUserAuth:!1,statusAvailability:!1,alias:"",doctorSched:[],userID:null,patientUsername:"",patientID:null,specialistList:[],patientDetails:[],profileImg:null,imgSuccess:!1,imgSuccessManager:!1,managerHospital:"",hospitalID:"",hospitalName:"",specializationList:["Allergists","Anesthesiologists","Cardiologists","Colon and Rectal Surgeons","Critical Care Medicine Specialists"," Dermatologists","Endocrinologists","Emergency Medicine Specialists","Family Physicians","Gastroenterologists","Geriatric Medicine Specialists","Hematologists","Hospice and Palliative Medicine Specialists","Infectious Disease Specialists","Internists","Medical Geneticists","Nephrologists","Neurologists","Obstetricians and Gynecologists","Oncologists","Ophthalmologists","Osteopaths","Otolaryngologists","Pathologists","Pediatricians","Physiatrists","Plastic Surgeons","Podiatrists","Preventive Medicine Specialists","Psychiatrists","Pulmonologists","Radiologists","Rheumatologists","Sleep Medicine Specialists","Sports Medicine Specialists","General Surgeons","Urologists"]},getters:{getStatusAvail:e=>e.statusAvailability,getSpecializationList:e=>e.specializationList},mutations:{notificationClicked(e,t){e.notificationClicked=t},accountCreated(e,t){e.accountCreated=t},disableCSSVH(e,t){e.disableCSSVH=t},alias(e,t){e.alias=t},doctorSched(e,t){e.doctorSched=t},userID(e,t){e.userID=t},patientUsername(e,t){e.patientUsername=t},patientID(e,t){e.patientID=t},statusTrue(e){e.statusAvailability=!0},specialistList(e,t){e.specialistList=t},patientDetails(e,t){e.patientDetails=t},profileImg(e,t){e.profileImg=t},imgSuccess(e,t){e.imgSuccess=t},imgSuccessManager(e,t){e.imgSuccessManager=t},userType(e,t){e.userType=t},superUserAuth(e,t){e.superUserAuth=t},managerHospital(e,t){e.managerHospital=t},hospitalID(e,t){e.hospitalID=t},hospitalName(e,t){e.hospitalName=t},statusAvailability(e,t){e.statusAvailability=t}}});var m=h,v=a(2119),g=a(3577);const w=e=>((0,l.dD)("data-v-6a0ef996"),e=e(),(0,l.Cn)(),e),_={class:"container box",id:"covidAPI",style:{width:"70%"}},b=w((()=>(0,l._)("h1",{class:"title has-text-left"},"Latest COVID-19 Data",-1))),y=w((()=>(0,l._)("hr",null,null,-1))),f={class:"columns"},k={class:"column"},D=w((()=>(0,l._)("h4",{class:"title is-2"},"Worldwide 🌎",-1))),C={class:"container is-fluid has-text-left"},x={class:"subtitle"},A=w((()=>(0,l._)("b",null,"Total Active Cases:",-1))),S={class:"subtitle"},P=w((()=>(0,l._)("b",null,"Total Deaths:",-1))),U={class:"subtitle"},M=w((()=>(0,l._)("b",null,"Total Recoveries:",-1))),N={class:"column"},z=w((()=>(0,l._)("h4",{class:"title is-2"},"Philippines 🇵🇭",-1))),I={class:"container is-fluid has-text-left"},L={class:"subtitle"},T=w((()=>(0,l._)("b",null,"Total Active Cases:",-1))),H={class:"subtitle"},q=w((()=>(0,l._)("b",null,"Total Deaths:",-1))),E={class:"subtitle"},V=w((()=>(0,l._)("b",null,"Total Recoveries:",-1)));function O(e,t,a,s,i,n){const o=(0,l.up)("NavigationTabVue"),c=(0,l.up)("HospitalFinderVue");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(o),(0,l._)("section",{class:(0,g.C_)(["section has-text-centered",{"css-vh":this.$store.state.disableCSSVH}])},[(0,l.Wm)(c),(0,l._)("div",_,[b,y,(0,l._)("div",f,[(0,l._)("div",k,[D,(0,l._)("div",C,[(0,l._)("p",x,[A,(0,l.Uk)(" "+(0,g.zw)(i.covidAPIWorldWide.active)+"+ ",1)]),(0,l._)("p",S,[P,(0,l.Uk)(" "+(0,g.zw)(i.covidAPIWorldWide.deaths)+"+ ",1)]),(0,l._)("p",U,[M,(0,l.Uk)(" "+(0,g.zw)(i.covidAPIWorldWide.recovered)+"+ ",1)])])]),(0,l._)("div",N,[z,(0,l._)("div",I,[(0,l._)("p",L,[T,(0,l.Uk)(" "+(0,g.zw)(i.covidAPIPh.active)+"+ ",1)]),(0,l._)("p",H,[q,(0,l.Uk)(" "+(0,g.zw)(i.covidAPIPh.deaths)+"+ ",1)]),(0,l._)("p",E,[V,(0,l.Uk)(" "+(0,g.zw)(i.covidAPIPh.recovered)+"+ ",1)])])])])])],2)],64)}const $=e=>((0,l.dD)("data-v-4c0f94da"),e=e(),(0,l.Cn)(),e),R=$((()=>(0,l._)("h1",{class:"title"},"Find and make an appointment on hospitals near you.",-1))),Y=$((()=>(0,l._)("div",{class:"modal-background"},null,-1))),B=$((()=>(0,l._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,l._)("div",{class:"loader",style:{margin:"auto"}})],-1))),F=[Y,B],j={class:"container"},W={class:"dropdown-trigger"},K={class:"field"},G={class:"control"},Z=["disabled"],Q={key:0,class:"notification is-light is-danger"},X=(0,l.Uk)(" location to start booking an "),J=$((()=>(0,l._)("b",null,"appointment",-1))),ee=(0,l.Uk)(". "),te={class:"dropdown-menu"},ae={class:"dropdown-content has-text-left"},se=["onClick"],ie={key:0,class:"container block"},le=$((()=>(0,l._)("br",null,null,-1))),ne={key:0,class:"block"},oe=$((()=>(0,l._)("div",{class:"notification box",id:"notification",style:{width:"50%",margin:"auto","background-color":"white"}},[(0,l.Uk)(" You must "),(0,l._)("a",{class:"has-text-success",href:"/user/login"},"login"),(0,l.Uk)(". or "),(0,l._)("a",{class:"has-text-danger",href:"/user/signup"},"create an account"),(0,l.Uk)(". to make an appointment. ")],-1))),ce=[oe],re={class:"columns"},de={class:"column is-2 has-text-left"},ue={class:"box"},pe=$((()=>(0,l._)("p",{class:"title is-5"},"Filter",-1))),he={class:"field has-text-left"},me={class:"control"},ve=$((()=>(0,l._)("hr",null,null,-1))),ge=$((()=>(0,l._)("span",{style:{color:"#b5b5b5"}},"·",-1))),we=(0,l.Uk)("   All "),_e=[ge,we],be=$((()=>(0,l._)("span",{style:{color:"#b5b5b5"}},"·",-1))),ye=(0,l.Uk)("   Public "),fe=[be,ye],ke=$((()=>(0,l._)("span",{style:{color:"#b5b5b5"}},"·",-1))),De=(0,l.Uk)("   Private "),Ce=[ke,De],xe=$((()=>(0,l._)("hr",null,null,-1))),Ae={class:"breadcrumb has-dot-separator","aria-label":"breadcrumbs"},Se=$((()=>(0,l._)("span",{style:{color:"#b5b5b5"}},"·",-1))),Pe=["onClick"],Ue={key:0,class:"column"},Me={class:"column is-5"},Ne={class:"image is-square"},ze=["src"],Ie={class:"column"},Le={class:"title"},Te={class:"subtitle"},He=["src"],qe=$((()=>(0,l._)("br",null,null,-1))),Ee=$((()=>(0,l._)("br",null,null,-1))),Ve=$((()=>(0,l._)("p",{class:"subtitle"},"Contacts:",-1))),Oe={key:0,class:"block"},$e={class:"subtitle"},Re=["onClick"],Ye={key:1,class:"container box notification is-danger has-text-centered"},Be=$((()=>(0,l._)("h1",{class:"title",style:{"margin-top":"12.5%"}},"Hospitals unavailable. Coming soon...",-1))),Fe=[Be];function je(e,t,a,i,n,o){return(0,l.wg)(),(0,l.iD)(l.HY,null,[R,(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":n.isHospitalLoading}])},F,2),(0,l._)("div",j,[(0,l._)("div",{class:(0,g.C_)(["dropdown",{"is-active":n.isActiveDropdown}])},[(0,l._)("div",W,[(0,l._)("div",K,[(0,l._)("div",G,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.province=e),style:{width:"300px"},placeholder:"What region are you located?",onClick:t[1]||(t[1]=(...e)=>o.regionSelect&&o.regionSelect(...e)),disabled:n.locationPermissionDenied},null,8,Z),[[s.nr,n.province]])]),n.locationPermissionDenied?((0,l.wg)(),(0,l.iD)("div",Q,[(0,l._)("a",{class:"has-text-success",onClick:t[2]||(t[2]=(...e)=>o.getUserLocation&&o.getUserLocation(...e))},"Enable"),X,J,ee])):(0,l.kq)("",!0)]),(0,l._)("div",te,[(0,l._)("div",ae,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.geolocationIndexed,(e=>((0,l.wg)(),(0,l.iD)("a",{class:"dropdown-item",key:e._id,onClick:t=>o.selectRegion(e.province)},(0,g.zw)(e.province),9,se)))),128))])])])],2)]),""!=n.citiesOrMunicipalities?((0,l.wg)(),(0,l.iD)("div",ie,[le,0==this.checkUser?((0,l.wg)(),(0,l.iD)("div",ne,ce)):(0,l.kq)("",!0),(0,l._)("div",re,[(0,l._)("div",de,[(0,l._)("ul",ue,[pe,(0,l._)("div",he,[(0,l._)("div",me,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.hospital=e),style:{width:"300px"},placeholder:"Search Hospital..."},null,512),[[s.nr,n.hospital]])])]),ve,(0,l._)("li",null,[(0,l._)("a",{onClick:t[4]||(t[4]=(...e)=>o.filterAll&&o.filterAll(...e))},_e)]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[5]||(t[5]=(...e)=>o.filterPublic&&o.filterPublic(...e))},fe)]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[6]||(t[6]=(...e)=>o.filterPrivate&&o.filterPrivate(...e))},Ce)]),xe,(0,l._)("nav",Ae,[(0,l._)("ul",null,[Se,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.citiesOrMunicipalities.citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1)),((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},[(0,l._)("a",{onClick:t=>o.filterByCity(e.name)},(0,g.zw)(e.name),9,Pe)])))),128))])])])]),0!==n.geoHospitalNearestUser.length?((0,l.wg)(),(0,l.iD)("div",Ue,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.geoHospitalNearestUserIndexed.filter((e=>e.type==this.filter1||e.type==this.filter2)).filter((e=>e.city.includes(this.city))),(e=>((0,l.wg)(),(0,l.iD)("div",{class:"columns has-text-left box",id:"hospital",style:{"margin-bottom":"5%"},key:e._id},[(0,l._)("div",Me,[(0,l._)("figure",Ne,[(0,l._)("img",{src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/managers/${e.hospital}.jpg`},null,8,ze)])]),(0,l._)("div",Ie,[(0,l._)("h1",Le,(0,g.zw)(e.hospital),1),(0,l._)("p",Te,"📌 "+(0,g.zw)(e.barangayORStreet)+", "+(0,g.zw)(e.city)+", "+(0,g.zw)(e.province),1),(0,l._)("iframe",{width:"500",height:"300",id:"geoIframe",src:`https://maps.google.com/maps?q=${e.location.coordinates[1]},${e.location.coordinates[0]}&hl=es;z=14&output=embed`},null,8,He),qe,Ee,Ve,"undefined"!==typeof e.details[0].contacts?((0,l.wg)(),(0,l.iD)("ul",Oe,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.details[0].contacts,(e=>((0,l.wg)(),(0,l.iD)("li",null,(0,g.zw)(e.contact),1)))),256))])):(0,l.kq)("",!0),(0,l._)("p",$e,(0,g.zw)(parseInt(e.distance)/1e3)+" km away from you.",1),n.checkUser?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"button is-link",onClick:t=>o.bookAppointment(e._id)},"Book an Appointment",8,Re)):(0,l.kq)("",!0)])])))),128))])):((0,l.wg)(),(0,l.iD)("div",Ye,Fe))])])):(0,l.kq)("",!0)],64)}var We=a(9669),Ke=a.n(We),Ge={name:"HospitalFinder",computed:{geolocationIndexed(){return this.geolocation.filter((e=>e.province.toLowerCase().includes(this.province.toLowerCase())))},geoHospitalNearestUserIndexed(){if(this.geoHospitalNearestUser)return this.geoHospitalNearestUser.filter((e=>e.hospital.toLowerCase().includes(this.hospital.toLowerCase())))}},async created(){await Ke().get("/api/geolocation").then((e=>this.geolocation=e.data)),await this.getUserLocation()},async mounted(){null!==this.$store.state.patientID?this.checkUser=!0:this.checkUser=!1},data(){return{locationPermissionDenied:!1,city:"",isHospitalLoading:!1,checkUser:"",hospital:"",geolocation:[],filter1:"Private",filter2:"Public",citiesOrMunicipalities:[],province:"",userLatitude:"",userLongitude:"",isActiveDropdown:!1,geoHospitalNearestUser:""}},methods:{async bookAppointment(e){await this.$store.commit("hospitalID",e),await this.$router.push(`/user/${this.$store.state.patientUsername}/doctors`)},filterByCity(e){this.city=e,this.filter1="Private",this.filter2="Public"},filterAll(){this.city="",this.filter1="Private",this.filter2="Public"},filterPrivate(){this.city="",this.filter1="Private",this.filter2="Private"},filterPublic(){this.city="",this.filter1="Public",this.filter2="Public"},regionSelect(){this.locationPermissionDenied||(this.isActiveDropdown=!0)},async selectRegion(e){this.isHospitalLoading=!0,this.province=e,this.citiesOrMunicipalities=this.geolocation.find((t=>t.province===e)),this.isActiveDropdown=!1,this.$store.commit("disableCSSVH",!1),await Ke().post("/api/geoFindHospitalNearestUser",{province:this.province,latitude:this.userLatitude,longitude:this.userLongitude}),await Ke().get("/api/geoHospitalNearestUser").then((e=>{this.geoHospitalNearestUser=e.data})),this.isHospitalLoading=!1},getUserLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.geoUserPosition,this.geoUserPositionError):alert("Geolocation is not supported by this browser")},geoUserPosition(e){this.userLatitude=e.coords.latitude,this.userLongitude=e.coords.longitude},geoUserPositionError(e){switch(e.code){case e.PERMISSION_DENIED:this.locationPermissionDenied=!0;break;case e.POSITION_UNAVAILABLE:alert("Unable to obtain Geolocation information.");break;case e.TIMEOUT:alert("Request timed out.");break;case e.UNKNOWN_ERROR:alert("An unknown error occured, please try again.");break}}}};const Ze=(0,c.Z)(Ge,[["render",je],["__scopeId","data-v-4c0f94da"]]);var Qe=Ze;const Xe=e=>((0,l.dD)("data-v-e232f590"),e=e(),(0,l.Cn)(),e),Je={class:"navbar",role:"navigation","aria-label":"main navigation"},et={class:"navbar-brand"},tt=Xe((()=>(0,l._)("a",{class:"navbar-item",href:"/"},[(0,l._)("img",{src:"https://bulma.io/images/bulma-logo.png",width:"112"})],-1))),at=Xe((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),st=Xe((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),it=Xe((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),lt=[at,st,it],nt={class:"navbar-start"},ot=Xe((()=>(0,l._)("a",{class:"navbar-item"},"About",-1))),ct={key:0,class:"navbar-end"},rt=(0,l.Uk)("Profile"),dt=(0,l.Uk)("Security"),ut={class:"navbar-item"},pt={class:"dropdown-trigger"},ht={key:0,class:"dropdown-menu"},mt=["onClick"],vt=["onClick"],gt={key:1,class:"dropdown-menu"},wt=Xe((()=>(0,l._)("div",{class:"dropdown-content"},[(0,l._)("p",{class:"dropdown-item"},"No new notifications.")],-1))),_t=[wt],bt={class:"buttons"},yt={class:"button is-light",href:"#"},ft=["src"],kt=Xe((()=>(0,l._)("strong",null,"Logout",-1))),Dt=[kt],Ct={key:1,class:"navbar-end"},xt={class:"navbar-item"},At={class:"buttons"},St=(0,l.Uk)("Log in"),Pt=Xe((()=>(0,l._)("strong",null,"Sign up",-1))),Ut=Xe((()=>(0,l._)("div",{class:"modal-background"},null,-1))),Mt={class:"modal-content box"},Nt={class:"section"},zt={class:"title"},It={class:"subtitle"},Lt={class:"subtitle"};function Tt(e,t,a,s,i,n){const o=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("nav",Je,[(0,l._)("div",et,[tt,(0,l._)("a",{role:"button",class:(0,g.C_)(["navbar-burger",{"is-active":i.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:t[0]||(t[0]=(...e)=>n.navbar&&n.navbar(...e))},lt,2)]),(0,l._)("div",{id:"navbar",class:(0,g.C_)(["navbar-menu",{"is-active":i.isActive}])},[(0,l._)("div",nt,[ot,(0,l._)("a",{class:"navbar-item",onClick:t[1]||(t[1]=e=>this.$router.push("/contactus"))},"Contact Us")]),""!=i.patient?((0,l.wg)(),(0,l.iD)("div",ct,[(0,l.Wm)(o,{to:`/user/${i.patient}/profile`,class:"navbar-item"},{default:(0,l.w5)((()=>[rt])),_:1},8,["to"]),(0,l.Wm)(o,{to:`/user/${i.patient}/security`,class:"navbar-item"},{default:(0,l.w5)((()=>[dt])),_:1},8,["to"]),(0,l._)("div",ut,[(0,l._)("div",{class:(0,g.C_)(["dropdown",{"is-active":i.isActiveNotifications}])},[(0,l._)("div",pt,[(0,l._)("a",{class:"button",onClick:t[2]||(t[2]=(...e)=>n.notification&&n.notification(...e))},"🔔")]),0!==i.notifications.length?((0,l.wg)(),(0,l.iD)("div",ht,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.notifications.sort(((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())),((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:t},[(0,l._)("a",{onClick:a=>n.openNotif(e,t)},[(0,l._)("div",{class:(0,g.C_)(["dropdown-item notification is-info",{"is-light":!e.new}]),style:{margin:"5%"}},[(0,l._)("button",{class:"delete",onClick:t=>n.deleteNotif(e)},null,8,vt),(0,l.Uk)(" From Dr. "+(0,g.zw)(e.from),1)],2)],8,mt)])))),128))])):((0,l.wg)(),(0,l.iD)("div",gt,_t))],2),(0,l._)("div",bt,[(0,l._)("a",yt,[(0,l._)("img",{src:i.imgPreUrl+i.patient+i.svgExtUrl},null,8,ft),(0,l.Uk)(" "+(0,g.zw)(i.patient),1)]),(0,l._)("a",{class:"button is-danger",onClick:t[3]||(t[3]=(...e)=>n.logout&&n.logout(...e))},Dt)])])])):((0,l.wg)(),(0,l.iD)("div",Ct,[(0,l._)("div",xt,[(0,l._)("div",At,[(0,l.Wm)(o,{to:"/user/login",class:"button is-light"},{default:(0,l.w5)((()=>[St])),_:1}),(0,l.Wm)(o,{to:"/user/signup",class:"button is-primary"},{default:(0,l.w5)((()=>[Pt])),_:1})])])]))],2)]),(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":i.isActiveModal}])},[Ut,(0,l._)("div",Mt,[(0,l._)("section",Nt,[(0,l._)("p",zt,"From Dr. "+(0,g.zw)(i.viewNotif.from),1),(0,l._)("p",It,(0,g.zw)(new Date(i.viewNotif.date).toDateString()),1),(0,l._)("p",Lt,(0,g.zw)(i.viewNotif.message),1)])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[4]||(t[4]=(...e)=>n.closeNotificationModal&&n.closeNotificationModal(...e))})],2)],64)}var Ht=a(1157);const qt=(0,Ht.io)({autoConnect:!1});var Et=qt,Vt={name:"NavigationTab",mounted(){Et.emit("join room",this.$store.state.patientID),Et.on("send messages",(e=>{this.notifications=e})),Et.on("delete messages",(e=>{this.notifications=e})),Et.on("messages",(e=>{this.notifications=e}))},data(){return{isActiveNotifications:!1,isActiveModal:!1,isActive:!1,patient:this.$store.state.patientUsername,imgPreUrl:"https://avatars.dicebear.com/api/micah/",svgExtUrl:".svg",notifications:[],viewNotif:[]}},methods:{navbar(){this.isActive=!this.isActive},async logout(){await this.$store.commit("patientID",null),await this.$store.commit("patientUsername",""),await Ke()["delete"]("/session/patient"),await this.$router.push("/user/login"),Et.disconnect()},notification(){this.isActiveNotifications=!this.isActiveNotifications},deleteNotif(e){Et.emit("delete message",this.$store.state.patientID,e)},openNotif(e,t){this.viewNotif=e,this.isActiveModal=!0,this.viewNotif.new&&(this.notifications[t].new=!1,Et.emit("update message",this.notifications))},closeNotificationModal(){this.isActiveModal=!1}}};const Ot=(0,c.Z)(Vt,[["render",Tt],["__scopeId","data-v-e232f590"]]);var $t=Ot,Rt={name:"Home",components:{NavigationTabVue:$t,HospitalFinderVue:Qe},data(){return{userPatient:null,covidAPIPh:[],covidAPIWorldWide:[]}},async mounted(){await Ke().get("/session/patient").then((e=>this.userPatient=e.data)),await this.userPatient.username&&(this.$store.commit("patientUsername",this.userPatient.username),this.$store.commit("patientID",this.userPatient._id),await this.$router.push(`/user/${this.userPatient.username}`)),await Ke().get("https://disease.sh/v3/covid-19/countries/philippines").then((e=>this.covidAPIPh=e.data)),await Ke().get("https://disease.sh/v3/covid-19/all").then((e=>this.covidAPIWorldWide=e.data))}};const Yt=(0,c.Z)(Rt,[["render",O],["__scopeId","data-v-6a0ef996"]]);var Bt=Yt;const Ft=e=>((0,l.dD)("data-v-8549ea96"),e=e(),(0,l.Cn)(),e),jt=Ft((()=>(0,l._)("div",{class:"modal-background"},null,-1))),Wt=Ft((()=>(0,l._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,l._)("div",{class:"loader",style:{margin:"auto"}})],-1))),Kt=[jt,Wt],Gt={class:"section"},Zt={class:"columns"},Qt={class:"column"},Xt={key:0,class:"container box"},Jt={class:"title"},ea={class:"subtitle"},ta={class:"subtitle is-6"},aa={class:"image is-16by9"},sa=["src"],ia=Ft((()=>(0,l._)("br",null,null,-1))),la={class:"columns"},na={class:"column"},oa=["src"],ca={class:"column"},ra=Ft((()=>(0,l._)("p",{class:"subtitle"},"Contacts:",-1))),da={key:0,class:"block"},ua={class:"column"},pa={class:"box container"},ha={class:"block"},ma=Ft((()=>(0,l._)("h1",{class:"title"},"Pick a specialist.",-1))),va={key:0,class:"subtitle"},ga=(0,l.Uk)(" Having trouble picking a specialist? Get appointed to a "),wa=(0,l.Uk)(". "),_a={key:1,class:"columns is-multiline is-mobile"},ba=["onClick"],ya={key:0,class:"image is-4by3"},fa=["src"],ka={key:1,class:"subtitle has-text-centered"},Da={key:2,class:"container"},Ca={key:0},xa=Ft((()=>(0,l._)("br",null,null,-1))),Aa=Ft((()=>(0,l._)("p",{class:"subtitle has-text-centered"},"No doctors are currently available in this specialization.",-1))),Sa=[xa,Aa],Pa={key:1},Ua=Ft((()=>(0,l._)("br",null,null,-1))),Ma=Ft((()=>(0,l._)("h1",{class:"title is-3"},"Choose a doctor:",-1))),Na=[Ua,Ma],za={class:"media"},Ia={class:"media-left"},La={class:"image is-64x64"},Ta=["src"],Ha={class:"media-content"},qa={class:"title is-4"},Ea={class:"subtitle is-6"},Va=["onClick"];function Oa(e,t,a,s,i,n){const o=(0,l.up)("NavigationTab");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(o),(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":i.isDoctorLoading}])},Kt,2),(0,l._)("section",Gt,[(0,l._)("div",Zt,[(0,l._)("div",Qt,[i.hospitalDetails?((0,l.wg)(),(0,l.iD)("div",Xt,[(0,l._)("h1",Jt,(0,g.zw)(i.hospitalDetails.hospital),1),(0,l._)("p",ea,"📌 "+(0,g.zw)(i.hospitalDetails.barangayORStreet)+", "+(0,g.zw)(i.hospitalDetails.city)+", "+(0,g.zw)(i.hospitalDetails.province),1),(0,l._)("p",ta,(0,g.zw)(i.hospitalDetails.details[0].description),1),(0,l._)("figure",aa,[(0,l._)("img",{src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/managers/${i.hospitalDetails.hospital}.jpg`},null,8,sa)]),ia,(0,l._)("div",la,[(0,l._)("div",na,[(0,l._)("iframe",{src:`https://maps.google.com/maps?q=${i.hospitalDetails.location.coordinates[1]},${i.hospitalDetails.location.coordinates[0]}&hl=es;z=14&output=embed`},null,8,oa)]),(0,l._)("div",ca,[ra,"undefined"!==typeof i.hospitalDetails.details[0].contacts?((0,l.wg)(),(0,l.iD)("ul",da,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.hospitalDetails.details[0].contacts,(e=>((0,l.wg)(),(0,l.iD)("li",null,(0,g.zw)(e.contact),1)))),256))])):(0,l.kq)("",!0)])])])):(0,l.kq)("",!0)]),(0,l._)("div",ua,[(0,l._)("div",pa,[(0,l._)("div",ha,[ma,i.specializationClicked?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("p",va,[ga,(0,l._)("a",{class:"has-text-link",onClick:t[0]||(t[0]=e=>n.getDoctors("General Practitioner"))},"General Practitioner"),wa])),i.specializationClicked?((0,l.wg)(),(0,l.iD)("div",Da,[(0,l._)("button",{class:"button",onClick:t[1]||(t[1]=(...e)=>n.viewSpecializations&&n.viewSpecializations(...e))},"⬅️ Specializations"),""==i.doctorList?((0,l.wg)(),(0,l.iD)("div",Ca,Sa)):((0,l.wg)(),(0,l.iD)("div",Pa,Na)),i.specializationClicked?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:2},(0,l.Ko)(i.doctorList,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"card-content",key:e._id},[(0,l._)("div",za,[(0,l._)("figure",Ia,[(0,l._)("p",La,[(0,l._)("img",{src:`http://res.cloudinary.com/leindfraust/image/upload/v1/assets/doctors/${e.alias}.jpg`},null,8,Ta)])]),(0,l._)("div",Ha,[(0,l._)("p",qa,(0,g.zw)(e.name),1),(0,l._)("p",Ea,(0,g.zw)(i.pickedSpecialist),1),(0,l._)("button",{class:"button",onClick:t=>n.pickDoctor(e._id,e.schedule)},"Appoint",8,Va)])])])))),128)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("div",_a,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.specialistList,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"column is-4",key:t},[(0,l._)("a",{onClick:t=>n.getDoctors(e.specialist)},["General Practitioner"!==e.specialist?((0,l.wg)(),(0,l.iD)("figure",ya,[(0,l._)("img",{src:`https://ui-avatars.com/api/?name=${e.specialist}`},null,8,fa)])):(0,l.kq)("",!0),"General Practitioner"!==e.specialist?((0,l.wg)(),(0,l.iD)("p",ka,(0,g.zw)(e.specialist),1)):(0,l.kq)("",!0)],8,ba)])))),128))]))])])])])])],64)}var $a={name:"DoctorList",components:{NavigationTab:$t},data(){return{hospitalID:this.$store.state.hospitalID,hospitalDetails:null,patientDetails:null,doctorList:null,specialistList:null,pickedSpecialist:null,specializationClicked:!1,isDoctorLoading:!1}},async mounted(){await Ke().get("/session/patient").then((e=>this.patientDetails=e.data))},async created(){await Ke().get("/api/manager").then((e=>this.hospitalDetails=e.data.find((e=>e._id==this.hospitalID)))),this.specialistList=await this.hospitalDetails.specializations.sort()},methods:{async getDoctors(e){this.isDoctorLoading=!0,this.specializationClicked=!0,this.pickedSpecialist=e,await Ke().get("/api/admin").then((t=>this.doctorList=t.data.filter((t=>!0===t.verified&&t.hospitalOrigin.find((e=>e.hospital===this.hospitalDetails.hospital))&&t.specialist.find((t=>t===e))&&""!=t.schedule&&t.schedule.find((e=>new Date(e.date).getTime()>(new Date).getTime())))))),this.isDoctorLoading=!1},viewSpecializations(){this.specializationClicked=!1},async pickDoctor(e,t){m.commit("userID",e),m.commit("doctorSched",t),m.commit("statusAvailability",!0),m.commit("hospitalName",this.hospitalDetails.hospital),await this.$router.push(`/user/${this.patientDetails.username}/registration`)}}};const Ra=(0,c.Z)($a,[["render",Oa],["__scopeId","data-v-8549ea96"]]);var Ya=Ra;const Ba=e=>((0,l.dD)("data-v-11410265"),e=e(),(0,l.Cn)(),e),Fa={class:"section",style:{"background-color":"whitesmoke"}},ja=Ba((()=>(0,l._)("div",{class:"modal-background"},null,-1))),Wa=Ba((()=>(0,l._)("div",{class:"modal-content",style:{overflow:"hidden"}},[(0,l._)("div",{class:"loader",style:{margin:"auto"}})],-1))),Ka=[ja,Wa],Ga={class:"container"},Za={class:"tabs is-centered"},Qa=Ba((()=>(0,l._)("a",{style:{"pointer-events":"none"}},"Basic Details",-1))),Xa=[Qa],Ja=Ba((()=>(0,l._)("a",{style:{"pointer-events":"none"}},"Schedules",-1))),es=[Ja],ts={class:"section animate__animated animate__fadeInLeft",style:{width:"40%",margin:"auto","background-color":"white","border-radius":"5px","box-shadow":"5px 10px rgb(221, 221, 221)"}},as={class:"field"},ss={key:0},is=Ba((()=>(0,l._)("div",{class:"has-text-danger"},"All fields are required.*",-1))),ls=Ba((()=>(0,l._)("label",{class:"label"},"First name",-1))),ns={class:"control"},os=["value"],cs=Ba((()=>(0,l._)("label",{class:"label"},"Last Name",-1))),rs={class:"control"},ds=Ba((()=>(0,l._)("label",{class:"label"},"Contact Number:",-1))),us={class:"block control"},ps=Ba((()=>(0,l._)("label",{class:"label"},"What are you feeling?",-1))),hs=Ba((()=>(0,l._)("label",{class:"label"},"Birthday",-1))),ms={class:"control"},vs={class:"is-block"},gs=["onClick"],ws=["value"],_s={class:"block control"},bs=Ba((()=>(0,l._)("label",{class:"label"},"Current Address",-1))),ys=["value"],fs=Ba((()=>(0,l._)("br",null,null,-1))),ks={class:"block has-text-centered"},Ds=["disabled"],Cs=Ba((()=>(0,l._)("br",null,null,-1))),xs={key:0},As={class:"field"},Ss=Ba((()=>(0,l._)("h1",{class:"subtitle has-text-black has-text-weight-bold"},"Pick your preferred schedule:",-1))),Ps=Ba((()=>(0,l._)("hr",null,null,-1))),Us={class:"controls"},Ms={class:"radio"},Ns=["onClick"],zs={class:"subtitle has-text-black"},Is=Ba((()=>(0,l._)("br",null,null,-1))),Ls={class:"has-text-black"},Ts={style:{"pointer-events":"none"},class:"button statusSched"},Hs={key:0,class:"has-text-success"},qs={key:1,class:"has-text-danger"},Es=Ba((()=>(0,l._)("br",null,null,-1))),Vs=Ba((()=>(0,l._)("br",null,null,-1))),Os=Ba((()=>(0,l._)("br",null,null,-1))),$s={class:"block has-text-centered"},Rs=["disabled"];function Ys(e,t,a,i,n,o){const c=(0,l.up)("NavigationTab"),r=(0,l.up)("v-date-picker");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c),(0,l._)("section",Fa,[(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":n.isSchedLoading}])},Ka,2),(0,l._)("div",Ga,[(0,l._)("div",Za,[(0,l._)("ul",null,[(0,l._)("li",{class:(0,g.C_)({"is-active":n.isActiveTabOne})},Xa,2),(0,l._)("li",{class:(0,g.C_)({"is-active":n.isActiveTabTwo})},es,2)])]),(0,l._)("section",ts,[(0,l._)("form",as,[n.basicDetailsDone?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",ss,[is,ls,(0,l._)("div",ns,[(0,l._)("input",{class:"input",type:"text",value:n.firstName,placeholder:"First Name",required:""},null,8,os)]),cs,(0,l._)("div",rs,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.lastName=e),placeholder:"Last Name",required:""},null,512),[[s.nr,n.lastName]])]),ds,(0,l._)("div",us,[(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>n.contactNum=e),placeholder:"Contact Number",required:""},null,512),[[s.nr,n.contactNum]])]),ps,(0,l.wy)((0,l._)("textarea",{class:"textarea","onUpdate:modelValue":t[2]||(t[2]=e=>n.comments=e),placeholder:"Your symptoms, general well being etc...",required:""},null,512),[[s.nr,n.comments]]),hs,(0,l._)("div",ms,[(0,l.Wm)(r,{class:"block",modelValue:n.birthDay,"onUpdate:modelValue":t[3]||(t[3]=e=>n.birthDay=e)},{default:(0,l.w5)((({inputValue:e,togglePopover:t})=>[(0,l._)("div",vs,[(0,l._)("a",{style:{margin:"auto"},onClick:e=>t()},[(0,l._)("input",{style:{cursor:"pointer"},value:e,class:"input",readonly:""},null,8,ws)],8,gs)])])),_:1},8,["modelValue"])]),(0,l._)("div",_s,[bs,(0,l._)("input",{class:"input",type:"text",value:n.currentAddress},null,8,ys)]),fs,(0,l._)("div",ks,[(0,l._)("button",{type:"button",class:"button is-success",disabled:""==n.firstName||""==n.lastName||null==n.birthDay||""==n.contactNum||""==n.comments||""==n.currentAddress,onClick:t[4]||(t[4]=(...e)=>o.proceedSched&&o.proceedSched(...e))},"Proceed",8,Ds)])]))]),Cs,n.basicDetailsDone?((0,l.wg)(),(0,l.iD)("div",xs,[(0,l._)("form",As,[Ss,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.doctorSched.filter((e=>new Date(e.date).getTime()>(new Date).getTime())).sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())),((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,style:{width:"75%",margin:"auto"}},[Ps,(0,l._)("div",Us,[(0,l._)("label",Ms,[(0,l._)("input",{type:"radio",class:"radioSched",name:"schedule",onClick:a=>o.pickSched(t,e,e.prefix)},null,8,Ns),(0,l._)("span",zs,(0,g.zw)(new Date(e.date).toDateString()),1),Is,(0,l._)("span",Ls,(0,g.zw)(e.timeStart)+" - "+(0,g.zw)(e.timeEnd),1)]),(0,l._)("a",Ts,[n.schedAvailability?((0,l.wg)(),(0,l.iD)("span",Hs,"Available")):((0,l.wg)(),(0,l.iD)("span",qs,"Unavailable"))])]),Es])))),128)),Vs,Os,(0,l._)("div",$s,[(0,l._)("span",null,[(0,l._)("button",{class:"button is-danger",type:"button",style:{"margin-right":"5%"},onClick:t[5]||(t[5]=(...e)=>o.goBack&&o.goBack(...e))},"Go Back"),(0,l._)("button",{type:"button",class:"button is-primary",disabled:null==n.schedule,onClick:t[6]||(t[6]=(...e)=>o.appoint&&o.appoint(...e))},"Submit appointment",8,Rs)])])])])):(0,l.kq)("",!0)])])])],64)}var Bs={name:"RegForm",components:{NavigationTab:$t},data(){return{checkPatientRecord:null,patient:null,doctorSched:m.state.doctorSched,doctor:m.state.userID,firstName:null,lastName:null,birthDay:null,comments:null,contactNum:null,schedule:null,currentAddress:null,priorityNum:null,patientsAppointed:null,doctorDetails:null,basicDetailsDone:!1,isActiveTabOne:!0,isActiveTabTwo:!1,isSchedLoading:!1,schedAvailability:!1,radioIndex:null,prefix:null,hospital:m.state.hospitalName}},async mounted(){await Ke().get("/api/admin").then((e=>this.doctorDetails=e.data.find((e=>e._id===this.doctor)))),await Ke().get("/session/patient").then((e=>this.patient=e.data)),this.firstName=await this.patient.name[0],this.lastName=await this.patient.name[1],this.checkPatientRecord=await this.doctorDetails.patients.find((e=>e.patient===this.patient._id)),this.currentAddress=await this.patient.currentAddress},methods:{async appoint(){let e=document.getElementsByClassName("radioSched"),t=document.getElementsByClassName("statusSched");if(await Ke().get("/api/appointmentList").then((e=>this.patientsAppointed=e.data.filter((e=>e.schedule[0].date===this.schedule.date&&e.doctorID==this.doctor)).length)),await this.patientsAppointed<this.schedule.appointmentLimit)if(await Ke().get("/api/appointmentList").then((e=>this.priorityNum=e.data.filter((e=>e.schedule[0].date===this.schedule.date&&e.doctorID==this.doctor)).length+1)),"undefined"!==typeof this.checkPatientRecord&&this.checkPatientRecord){await Ke().post("/api/appointmentList",{hospital:this.hospital,doctorID:this.doctor,doctorName:this.doctorDetails.name,patientID:this.patient._id,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum});let e={hospital:this.hospital,doctor:this.doctorDetails.name,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum};m.commit("patientDetails",e),await this.$router.push("/success")}else{await Ke().post("/api/patientUpdate",{doctorID:this.doctor,patientID:this.patient._id,patientFullName:this.firstName+" "+this.lastName}),await Ke().post("/api/appointmentList",{hospital:this.hospital,doctorID:this.doctor,doctorName:this.doctorDetails.name,patientID:this.patient._id,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum});let e={hospital:this.hospital,doctor:this.doctorDetails.name,firstName:this.firstName,lastName:this.lastName,contactNum:this.contactNum,birthDay:this.birthDay.toDateString(),comments:this.comments,schedule:this.schedule,priorityNum:this.prefix+"-"+this.priorityNum};m.commit("patientDetails",e),await this.$router.push("/success")}else this.isSchedLoading=!1,this.schedAvailability=!1,this.schedule=null,e[this.radioIndex].checked=!1,e[this.radioIndex].disabled=!0,t[this.radioIndex].style.display="block"},proceedSched(){this.isActiveTabOne=!1,this.isActiveTabTwo=!0,this.basicDetailsDone=!0},goBack(){this.isActiveTabOne=!0,this.isActiveTabTwo=!1,this.basicDetailsDone=!1},async pickSched(e,t,a){this.radioIndex=e,this.isSchedLoading=!0;let s=document.getElementsByClassName("radioSched"),i=document.getElementsByClassName("statusSched");for(let l=0;l<i.length;l++)i[l].style.display="none";this.schedule=await t,await Ke().get("/api/appointmentList").then((e=>this.patientsAppointed=e.data.filter((e=>e.schedule[0].date===this.schedule.date&&e.doctorID==this.doctor)).length)),await this.patientsAppointed<this.schedule.appointmentLimit?(this.isSchedLoading=!1,this.schedAvailability=!0,this.prefix=a,i[e].style.display="block"):(this.isSchedLoading=!1,this.schedAvailability=!1,this.schedule=null,s[e].checked=!1,s[e].disabled=!0,i[e].style.display="block")}}};const Fs=(0,c.Z)(Bs,[["render",Ys],["__scopeId","data-v-11410265"]]);var js=Fs;const Ws=e=>((0,l.dD)("data-v-28539a53"),e=e(),(0,l.Cn)(),e),Ks={class:"hero is-fullheight"},Gs={class:"hero-body animate__animated animate__fadeInLeft"},Zs={class:"box has-text-centered",style:{margin:"auto"}},Qs={class:"container is-fluid",style:{width:"100%",margin:"auto"}},Xs={class:"field",style:{"margin-top":"5%"}},Js=Ws((()=>(0,l._)("h1",{class:"title has-text-link has-text-left"},"Nice to see you Doc.",-1))),ei={class:"control"},ti={class:"control",style:{"margin-top":"2%"}},ai={key:0,class:"has-text-danger",style:{"margin-top":"5%"}},si={key:1,class:"has-text-danger",style:{"margin-top":"5%"}},ii=Ws((()=>(0,l._)("hr",null,null,-1))),li=Ws((()=>(0,l._)("h1",{class:"title"},"Or",-1)));function ni(e,t,a,i,n,o){const c=(0,l.up)("ForgotPassword");return(0,l.wg)(),(0,l.iD)("section",Ks,[(0,l._)("div",Gs,[(0,l._)("div",Zs,[(0,l._)("div",Qs,[(0,l._)("form",Xs,[Js,(0,l._)("div",ei,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),placeholder:"username",required:""},null,512),[[s.nr,n.username]])]),(0,l._)("div",ti,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),placeholder:"password",required:""},null,512),[[s.nr,n.password]])]),n.incorrectUserPass?((0,l.wg)(),(0,l.iD)("p",ai,(0,g.zw)(n.validateMessage),1)):0==n.incorrectUserPass?((0,l.wg)(),(0,l.iD)("p",si,(0,g.zw)(n.validateMessage),1)):(0,l.kq)("",!0),(0,l._)("button",{type:"button",class:"button is-primary",onClick:t[2]||(t[2]=(...e)=>o.login&&o.login(...e))},"Login"),ii,li,(0,l._)("a",{onClick:t[3]||(t[3]=(...e)=>o.signup&&o.signup(...e)),class:"is-danger"},"Create an account")])]),(0,l.Wm)(c,{userType:"doctor"})])])])}var oi=a(4934);const ci=new oi.Cloudinary({cloud_name:"leindfraust"});var ri=ci,di=a(2262);const ui=e=>((0,l.dD)("data-v-1f9c896b"),e=e(),(0,l.Cn)(),e),pi=ui((()=>(0,l._)("div",{class:"modal-background"},null,-1))),hi={class:"modal-content has-text-left",style:{width:"40%",margin:"auto"}},mi={key:0,class:"section box"},vi=ui((()=>(0,l._)("p",{class:"title is-4 has-text-danger"},"Forgot Password",-1))),gi={key:0,class:"notification is-danger"},wi={key:1,class:"notification is-warning"},_i={key:2,class:"container"},bi={class:"field"},yi={class:"control"},fi=ui((()=>(0,l._)("label",{class:"label"},"Enter Username",-1))),ki={class:"field"},Di={class:"control"},Ci=ui((()=>(0,l._)("label",{class:"label"},"Enter Email",-1))),xi={class:"field"},Ai={class:"control"},Si=["disabled"],Pi={key:3,class:"notification is-danger"},Ui={key:1,class:"section box"},Mi={key:0,class:"container"},Ni={class:"field"},zi={class:"control"},Ii=ui((()=>(0,l._)("label",{class:"label"},"Enter code",-1))),Li={key:1,class:"container"},Ti={key:0,class:"notification is-danger"},Hi={key:1,class:"container"},qi={class:"field"},Ei={class:"control"},Vi=ui((()=>(0,l._)("label",{class:"label"},"New Password:",-1))),Oi={class:"field"},$i={class:"control"},Ri=ui((()=>(0,l._)("label",{class:"label"},"Confirm Password:",-1))),Yi={class:"field"},Bi={class:"control"},Fi=["disabled"],ji={key:2,class:"container"},Wi=ui((()=>(0,l._)("div",{class:"notification is-success"},"Your password has been successfully changed.",-1))),Ki=[Wi];var Gi={props:{userType:String,username:String,email:String},setup(e){const t=e;let a=(0,di.iH)(""),i=(0,di.iH)(!1),n=(0,di.iH)(!1),o=(0,di.iH)(""),c=(0,di.iH)(!1),r=(0,di.iH)(!1),d=(0,di.iH)(""),u=(0,di.iH)(""),p=(0,di.iH)(!1),h=(0,di.iH)(!1),m=(0,di.iH)(!1),v=(0,di.iH)("");async function w(){let e,s,i=Math.floor(1e3+9e3*Math.random());if(await Ke().get("/api/code").then((t=>e=t.data)),s=e.find((e=>e.email===t.email)),await s)n.value=!0;else if("patient"==t.userType)if(await Ke().get("/api/user").then((e=>v.value=e.data.find((e=>e.username===t.username)))),v.value.gmail===t.email){m.value=!1;try{await Ke().post("/api/code",{email:t.email,code:i}),await Ke().post("/api/OTPMail",{email:t.email,code:i}),c.value=!0}catch(l){a.value=l}}else m.value=!0;else if("doctor"==t.userType)if(await Ke().get("/api/admin").then((e=>v.value=e.data.find((e=>e.username===t.username)))),!0===v.value.verified&&v.value.gmail===t.email){m.value=!1;try{await Ke().post("/api/code",{email:t.email,code:i}),await Ke().post("/api/OTPMail",{email:t.email,code:i}),c.value=!0}catch(l){a.value=l}}else m.value=!0;else if("manager"==t.userType)if(await Ke().get("/api/manager").then((e=>v.value=e.data.find((e=>e.username===t.username)))),"Active"===v.value.status&&v.value.email===t.email){m.value=!1;try{await Ke().post("/api/code",{email:t.email,code:i}),await Ke().post("/api/OTPMail",{email:t.email,code:i}),c.value=!0}catch(l){a.value=l}}else m.value=!0}async function _(){let e,t;await Ke().get("/api/code").then((t=>e=t.data)),t=e.find((e=>e.code===o.value)),await t&&(r.value=!0)}async function b(){if(d.value===u.value){if("patient"==t.userType)try{await Ke().put("/api/fupdatePassword/patient",{patientID:v.value._id,password:d.value}),v.value="",h.value=!0}catch(e){h.value=!1,a.value=e,v.value=""}else if("doctor"==t.userType)try{await Ke().put("/api/fupdatePassword/doctor",{doctorID:v.value._id,password:d.value}),v.value="",h.value=!0}catch(e){h.value=!1,a.value=e,v.value=""}else if("manager"==t.userType)try{await Ke().put("/api/fupdatePassword/manager",{managerID:v.value._id,password:d.value}),v.value="",h.value=!0}catch(e){h.value=!1,a.value=e,v.value=""}}else p.value=!0}return(t,v)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("a",{class:"subtitle has-text-danger",onClick:v[0]||(v[0]=e=>(0,di.dq)(i)?i.value=!(0,di.SU)(i):i=!(0,di.SU)(i))},"Forgot Password"),(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":(0,di.SU)(i)}])},[pi,(0,l._)("div",hi,[(0,di.SU)(c)?((0,l.wg)(),(0,l.iD)("section",Ui,[(0,di.SU)(r)?((0,l.wg)(),(0,l.iD)("div",Li,[(0,di.SU)(p)?((0,l.wg)(),(0,l.iD)("div",Ti,"Passwords not match.")):(0,l.kq)("",!0),(0,di.SU)(h)?((0,l.wg)(),(0,l.iD)("div",ji,Ki)):((0,l.wg)(),(0,l.iD)("div",Hi,[(0,l._)("div",qi,[(0,l._)("div",Ei,[Vi,(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":v[4]||(v[4]=e=>(0,di.dq)(d)?d.value=e:d=e)},null,512),[[s.nr,(0,di.SU)(d)]])])]),(0,l._)("div",Oi,[(0,l._)("div",$i,[Ri,(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":v[5]||(v[5]=e=>(0,di.dq)(u)?u.value=e:u=e)},null,512),[[s.nr,(0,di.SU)(u)]])])]),(0,l._)("div",Yi,[(0,l._)("div",Bi,[(0,l._)("button",{class:"button",onClick:b,disabled:""==(0,di.SU)(d)&&""==(0,di.SU)(u)},"Confirm",8,Fi)])])]))])):((0,l.wg)(),(0,l.iD)("div",Mi,[(0,l._)("div",Ni,[(0,l._)("div",zi,[Ii,(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":v[3]||(v[3]=e=>(0,di.dq)(o)?o.value=e:o=e)},null,512),[[s.nr,(0,di.SU)(o)]])])]),(0,l._)("div",{class:"field"},[(0,l._)("div",{class:"control"},[(0,l._)("button",{class:"button",onClick:_},"Verify")])])]))])):((0,l.wg)(),(0,l.iD)("section",mi,[vi,(0,di.SU)(a)?((0,l.wg)(),(0,l.iD)("div",gi,(0,g.zw)((0,di.SU)(a)),1)):(0,l.kq)("",!0),(0,di.SU)(m)?((0,l.wg)(),(0,l.iD)("div",wi,"No account has been found linked with this email.")):(0,l.kq)("",!0),(0,di.SU)(n)?((0,l.wg)(),(0,l.iD)("div",Pi,"You have to wait 10 minutes before requesting a code again.")):((0,l.wg)(),(0,l.iD)("div",_i,[(0,l._)("div",bi,[(0,l._)("div",yi,[fi,(0,l.wy)((0,l._)("input",{class:"input",type:"email","onUpdate:modelValue":v[1]||(v[1]=e=>(0,di.dq)(username)?username.value=e:null)},null,512),[[s.nr,e.username]])])]),(0,l._)("div",ki,[(0,l._)("div",Di,[Ci,(0,l.wy)((0,l._)("input",{class:"input",type:"email","onUpdate:modelValue":v[2]||(v[2]=e=>(0,di.dq)(email)?email.value=e:null)},null,512),[[s.nr,e.email]])])]),(0,l._)("div",xi,[(0,l._)("div",Ai,[(0,l._)("button",{class:"button",onClick:w,disabled:""==e.email},"Send OTP",8,Si)])])]))]))]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:v[6]||(v[6]=e=>(0,di.dq)(i)?i.value=!1:i=!1)})],2)],64))}};const Zi=(0,c.Z)(Gi,[["__scopeId","data-v-1f9c896b"]]);var Qi=Zi,Xi={name:"Login",component:Qi,data(){return{username:null,password:null,userAdmin:null,incorrectUserPass:Boolean,validateMessage:"",specializations:null,profileImg:null}},async mounted(){await Ke().get("/session/admin").then((e=>this.userAdmin=e.data)),await this.userAdmin.alias&&(m.commit("alias",this.userAdmin.alias),m.commit("userID",this.userAdmin._id),m.commit("profileImg",ri.imageTag(`assets/doctors/${this.userAdmin.alias}.jpg`).toHtml()),await this.$router.push(`/admin/user/${this.userAdmin.alias}`))},methods:{async login(){null==this.username&&null==this.password?(this.incorrectUserPass=!1,this.validateMessage="empty username or password"):(await Ke().post("/api/auth/doctor",{username:this.username,password:this.password}).then((e=>this.userAdmin=e.data)),!1!==await this.userAdmin?(m.commit("alias",this.userAdmin.alias),m.commit("userID",this.userAdmin._id),await Ke().post("/session/admin",{verified:this.userAdmin.verified,_id:this.userAdmin._id,licenseNo:this.userAdmin.licenseNo,alias:this.userAdmin.alias,fullname:this.userAdmin.name,specialist:this.userAdmin.specialist,gmail:this.userAdmin.gmail,hospitalOrigin:this.userAdmin.hospitalOrigin,schedule:this.userAdmin.schedule,username:this.userAdmin.username}),m.commit("profileImg",ri.imageTag(`assets/doctors/${this.userAdmin.alias}.jpg`).toHtml()),await this.$router.push(`/admin/user/${this.userAdmin.alias}`)):(this.validateMessage="Incorrect username or password",this.incorrectUserPass=!0,this.username=null,this.password=null))},async signup(){await this.$router.push("/admin/signup")}},components:{ForgotPassword:Qi}};const Ji=(0,c.Z)(Xi,[["render",ni],["__scopeId","data-v-28539a53"]]);var el=Ji;const tl=e=>((0,l.dD)("data-v-1a7bd251"),e=e(),(0,l.Cn)(),e),al={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},sl={class:"columns"},il={class:"column is-2"},ll={class:"column",style:{"background-color":"whitesmoke"}},nl={class:"section",style:{"background-color":"whitesmoke"}},ol=tl((()=>(0,l._)("h1",{class:"title"},"APPOINTMENTS",-1))),cl={key:0,class:"container is-widescreen is-fullhd"},rl={class:"field"},dl={class:"control"},ul={key:0,class:"subtitle"},pl=tl((()=>(0,l._)("b",null,"TODAY",-1))),hl=[pl],ml={class:"subtitle has-text-black"},vl={class:"table-container"},gl={class:"table is-striped is-narrow is-fullwidth is-bordered"},wl=tl((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Priority No."),(0,l._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,l._)("th",{class:"has-text-black-ter"},"Birthday"),(0,l._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1))),_l=["onClick"],bl=tl((()=>(0,l._)("br",null,null,-1))),yl=tl((()=>(0,l._)("div",{class:"modal-background"},null,-1))),fl={class:"modal-content animate__animated animate__fadeInLeft"},kl={class:"field customField has-text-centered"},Dl=tl((()=>(0,l._)("label",{class:"label"},"First Name",-1))),Cl={class:"control"},xl=tl((()=>(0,l._)("label",{class:"label"},"Last Name",-1))),Al={class:"control"},Sl=tl((()=>(0,l._)("label",{class:"label"},"Contact Number",-1))),Pl={class:"control"},Ul=tl((()=>(0,l._)("label",{class:"label"},"Birthday",-1))),Ml={class:"control"},Nl={class:"has-text-black-ter"},zl={class:"has-text-black-ter"},Il={class:"has-text-black-ter"},Ll={class:"has-text-black-ter"},Tl={class:"has-text-black-ter"},Hl={class:"has-text-black-ter"},ql={class:"has-text-black-ter"},El={key:1,class:"section"},Vl=tl((()=>(0,l._)("div",{class:"notification is-info"},[(0,l._)("h1",{class:"title is-5"},"No upcoming appointments.")],-1))),Ol=[Vl];function $l(e,t,a,i,n,o){const c=(0,l.up)("AdminMenu");return(0,l.wg)(),(0,l.iD)("div",al,[(0,l._)("div",sl,[(0,l._)("div",il,[(0,l.Wm)(c)]),(0,l._)("div",ll,[(0,l._)("section",nl,[ol,0!==Object.keys(o.appointmentSchedules).length?((0,l.wg)(),(0,l.iD)("div",cl,[(0,l._)("div",rl,[(0,l._)("div",dl,[(0,l.wy)((0,l._)("input",{class:"input",type:"text",style:{width:"50% !important"},"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchBar=e),placeholder:"Search..."},null,512),[[s.nr,n.searchBar]])])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.appointmentSchedules,((e,a)=>((0,l.wg)(),(0,l.iD)("div",{class:"box",key:a,style:(0,g.j5)(new Date(a).toDateString()==(new Date).toDateString()?"box-shadow: rgb(10 10 10 / 10%) 0px 0.5em 1em -0.125em, #485fc7 0px 0px 0px 1px !important;":"")},[new Date(a).toDateString()==(new Date).toDateString()?((0,l.wg)(),(0,l.iD)("h1",ul,hl)):(0,l.kq)("",!0),(0,l._)("h1",ml,"Schedule: "+(0,g.zw)(new Date(a).toDateString()),1),(0,l._)("div",vl,[(0,l._)("table",gl,[wl,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,(e=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:t=>o.toggleModal(e.firstName,e.lastName,e.emailAdd,e.contactNum,e.birthDay,e._id)},"Edit",8,_l),bl,(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":n.isActiveModal}])},[yl,(0,l._)("div",fl,[(0,l._)("form",kl,[Dl,(0,l._)("div",Cl,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.firstName=e),placeholder:"First Name",required:""},null,512),[[s.nr,n.firstName]])]),xl,(0,l._)("div",Al,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>n.lastName=e),placeholder:"Last Name",required:""},null,512),[[s.nr,n.lastName]])]),Sl,(0,l._)("div",Pl,[(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>n.contactNum=e),placeholder:"Contact Number",required:""},null,512),[[s.nr,n.contactNum]])]),Ul,(0,l._)("div",Ml,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>n.birthDay=e),placeholder:"Birthday",required:""},null,512),[[s.nr,n.birthDay]])]),(0,l._)("button",{class:"button is-primary",type:"button",onClick:t[5]||(t[5]=(...e)=>o.updateData&&o.updateData(...e))},"Submit")])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[6]||(t[6]=(...e)=>o.toggleModal&&o.toggleModal(...e))})],2),(0,l._)("th",Nl,(0,g.zw)(e.priorityNum),1),(0,l._)("th",zl,(0,g.zw)(e.hospital),1),(0,l._)("td",Il,(0,g.zw)(e.firstName),1),(0,l._)("td",Ll,(0,g.zw)(e.lastName),1),(0,l._)("td",Tl,(0,g.zw)(e.contactNum),1),(0,l._)("td",Hl,(0,g.zw)(e.birthDay),1),(0,l._)("td",ql,(0,g.zw)(e.comments),1)])])))),128))])])],4)))),128))])):((0,l.wg)(),(0,l.iD)("section",El,Ol))])])])])}var Rl=a(6486),Yl=a.n(Rl);const Bl=e=>((0,l.dD)("data-v-04344894"),e=e(),(0,l.Cn)(),e),Fl={class:"navbar is-hidden-desktop"},jl={class:"navbar-brand"},Wl={class:"navbar-item"},Kl={class:"label"},Gl=Bl((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),Zl=Bl((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),Ql=Bl((()=>(0,l._)("span",{"aria-hidden":"true"},null,-1))),Xl=[Gl,Zl,Ql],Jl={class:"has-text-centered block",style:{padding:"5px"}},en={class:"is-hidden-mobile is-hidden-touch image is-square",style:{margin:"auto"}},tn=["innerHTML"],an={class:"is-hidden-desktop image is-128x128",style:{margin:"auto"}},sn=["innerHTML"],ln={key:0,class:"title is-5"},nn={class:"menu-list block"},on=Bl((()=>(0,l._)("p",{class:"menu-label"},"General",-1))),cn=Bl((()=>(0,l._)("p",{class:"menu-label"},"Verification and Information",-1))),rn=Bl((()=>(0,l._)("p",{class:"menu-label"},"Support",-1))),dn=Bl((()=>(0,l._)("hr",null,null,-1)));function un(e,t,a,s,i,n){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("nav",Fl,[(0,l._)("div",jl,[(0,l._)("a",Wl,[(0,l._)("label",Kl,(0,g.zw)(i.alias),1)]),(0,l._)("a",{role:"button",class:(0,g.C_)(["navbar-burger",{"is-active":!i.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:t[0]||(t[0]=(...e)=>n.menuNav&&n.menuNav(...e))},Xl,2)])]),(0,l._)("aside",{class:(0,g.C_)(["menu",{"is-hidden-mobile":i.isActive,fixedMenu:i.isActive}]),style:{"background-color":"white",padding:"20px","box-shadow":"5px 10px rgba(240, 240, 240, 0.966)"}},[(0,l._)("div",Jl,[(0,l._)("figure",en,[(0,l._)("span",{innerHTML:i.profileImg},null,8,tn)]),(0,l._)("figure",an,[(0,l._)("span",{innerHTML:i.profileImg},null,8,sn)]),i.isActive?((0,l.wg)(),(0,l.iD)("h5",ln,(0,g.zw)(i.alias),1)):(0,l.kq)("",!0)]),(0,l._)("ul",nn,[on,(0,l._)("li",null,[(0,l._)("a",{onClick:t[1]||(t[1]=(...e)=>n.routeHome&&n.routeHome(...e))},"Appointments")]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[2]||(t[2]=(...e)=>n.patientLogs&&n.patientLogs(...e))},"Patients")]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[3]||(t[3]=(...e)=>n.openSchedule&&n.openSchedule(...e))},"Schedule")]),cn,(0,l._)("li",null,[(0,l._)("a",{onClick:t[4]||(t[4]=(...e)=>n.profile&&n.profile(...e))},"Profile")]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[5]||(t[5]=(...e)=>n.openSecurity&&n.openSecurity(...e))},"Security")]),rn,(0,l._)("li",null,[(0,l._)("a",{onClick:t[6]||(t[6]=(...t)=>e.openFAQs&&e.openFAQs(...t))},"FAQ")]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[7]||(t[7]=e=>this.$router.push("/contactus"))},"Contact Us")])]),dn,(0,l._)("button",{onClick:t[8]||(t[8]=(...e)=>n.logout&&n.logout(...e)),class:"button is-danger",type:"button"},"Logout")],2)],64)}var pn={name:"AdminMenu",data(){return{alias:m.state.alias,profileImg:m.state.profileImg,isActive:!0}},methods:{async logout(){m.commit("alias",null),await Ke()["delete"]("/session/admin"),await this.$router.push("/admin/login")},async routeHome(){await this.$router.push(`/admin/user/${this.alias}`)},async profile(){await this.$router.push(`/admin/user/${this.alias}/profile`)},async patientLogs(){await this.$router.push(`/admin/user/${this.alias}/patients`)},async openSecurity(){await this.$router.push(`/admin/user/${this.alias}/security`)},async openSchedule(){await this.$router.push(`/admin/user/${this.alias}/schedule`)},menuNav(){this.isActive=!this.isActive}}};const hn=(0,c.Z)(pn,[["render",un],["__scopeId","data-v-04344894"]]);var mn=hn,vn={name:"Admin",components:{AdminMenu:mn},data(){return{alias:m.state.alias,profileImg:m.state.profileImg,isActiveModal:!1,id:null,firstName:null,lastName:null,birthDay:null,contactNum:null,searchBar:"",schedule:null,appointmentSched:[]}},computed:{appointmentSchedules(){return Yl().groupBy(this.appointmentSched.filter((e=>e.firstName.toLowerCase().includes(this.searchBar.toLowerCase())||e.lastName.toLowerCase().includes(this.searchBar.toLowerCase()))).sort(((e,t)=>new Date(e.schedule[0].date).getTime()-new Date(t.schedule[0].date).getTime())).filter((e=>new Date(e.schedule[0].date).getTime()>=(new Date).getTime()&&new Date(e.schedule[0].date).getMonth()>=(new Date).getMonth())),"schedule[0].date")}},async mounted(){await Ke().get("/api/appointmentList").then((e=>this.appointmentSched=e.data.filter((e=>e.doctorID===m.state.userID))))},methods:{async updateData(){await Ke().put(`/api/appointmentList/${this.id}`,{firstName:this.firstName,lastName:this.lastName,emailAdd:this.emailAddress,contactNum:this.contactNum,birthDay:this.birthDay}),await Ke().get("/api/appointmentList").then((e=>this.appointmentSched=e.data.filter((e=>e.doctorID===m.state.userID)))),this.isActiveModal=!this.isActiveModal},async toggleModal(e,t,a,s,i,l){this.isActiveModal=!this.isActiveModal,this.firstName=e,this.lastName=t,this.emailAddress=a,this.contactNum=s,this.birthDay=i,this.id=l}}};const gn=(0,c.Z)(vn,[["render",$l],["__scopeId","data-v-1a7bd251"]]);var wn=gn;const _n=e=>((0,l.dD)("data-v-581c141a"),e=e(),(0,l.Cn)(),e),bn={class:"section",style:{"background-color":"whitesmoke"}},yn={class:"container box animate__animated animate__fadeInLeft",style:{margin:"auto",width:"50%"}},fn={action:"/api/imgUploadAdmin",method:"post",enctype:"multipart/form-data"},kn={class:"field is-horizontal"},Dn={class:"field-body"},Cn={class:"field"},xn=_n((()=>(0,l._)("label",{class:"label"},"License code:",-1))),An={class:"control"},Sn={class:"field"},Pn=_n((()=>(0,l._)("label",{class:"label"},"Alias",-1))),Un={class:"control"},Mn={class:"subtitle has-text-danger"},Nn={class:"field"},zn={class:"field-body"},In={class:"field"},Ln=_n((()=>(0,l._)("label",{class:"label"},"Full Name",-1))),Tn={class:"control"},Hn=_n((()=>(0,l._)("div",{class:"field"},[(0,l._)("label",{class:"label"},"Profile Picture"),(0,l._)("div",{class:"control"},[(0,l._)("input",{class:"input",type:"file",name:"imgFile",required:""})])],-1))),qn={class:"field is-horizontal"},En={class:"field-body"},Vn={class:"field"},On=_n((()=>(0,l._)("label",{class:"label"},"Username",-1))),$n={class:"control"},Rn={class:"subtitle has-text-danger"},Yn={class:"field"},Bn=_n((()=>(0,l._)("label",{class:"label"},"Gmail",-1))),Fn={class:"control"},jn={class:"field is-horizontal"},Wn={class:"field-body"},Kn={class:"field"},Gn=_n((()=>(0,l._)("label",{class:"label"},"Password",-1))),Zn={class:"control"},Qn={class:"subtitle has-text-danger"},Xn={class:"field"},Jn=_n((()=>(0,l._)("label",{class:"label"},"Repeat Password",-1))),eo={class:"control"},to={class:"subtitle has-text-danger"},ao={class:"columns"},so={class:"column"},io=_n((()=>(0,l._)("label",{class:"label"},"Specializations you possess(Select all that applies)",-1))),lo={class:"panel"},no={class:"panel-block"},oo={style:{"max-height":"20em",overflow:"auto"}},co=["value"],ro=["onClick"],uo={class:"column"},po=_n((()=>(0,l._)("label",{class:"label"},"Selected",-1))),ho={class:"columns is-multiline"},mo={class:"column",id:"selectedSpecializations",style:{"max-height":"26em",overflow:"auto"}},vo=["onClick"],go={class:"has-text-right"},wo=["disabled"];function _o(e,t,a,i,n,o){return(0,l.wg)(),(0,l.iD)("section",bn,[(0,l._)("div",yn,[(0,l._)("form",fn,[(0,l._)("div",kn,[(0,l._)("div",Dn,[(0,l._)("div",Cn,[xn,(0,l._)("div",An,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.licenseCode=e),placeholder:"license code",required:""},null,512),[[s.nr,a.licenseCode]])])]),(0,l._)("div",Sn,[Pn,(0,l._)("div",Un,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.alias=e),placeholder:"alias",name:"alias",required:""},null,512),[[s.nr,a.alias]])]),(0,l._)("p",Mn,(0,g.zw)(n.aliasEvaluate),1)])])]),(0,l._)("div",Nn,[(0,l._)("div",zn,[(0,l._)("div",In,[Ln,(0,l._)("div",Tn,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>a.name=e),placeholder:"Last name, First name, Extension name, Middle name",required:""},null,512),[[s.nr,a.name]])])]),Hn])]),(0,l._)("div",qn,[(0,l._)("div",En,[(0,l._)("div",Vn,[On,(0,l._)("div",$n,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>a.username=e),placeholder:"username",required:""},null,512),[[s.nr,a.username]])]),(0,l._)("p",Rn,(0,g.zw)(n.usernameEvaluate),1)]),(0,l._)("div",Yn,[Bn,(0,l._)("div",Fn,[(0,l.wy)((0,l._)("input",{class:"input",type:"email","onUpdate:modelValue":t[4]||(t[4]=e=>a.gmail=e),placeholder:"gmail",required:""},null,512),[[s.nr,a.gmail]])])])])]),(0,l._)("div",jn,[(0,l._)("div",Wn,[(0,l._)("div",Kn,[Gn,(0,l._)("div",Zn,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":t[5]||(t[5]=e=>a.password=e),placeholder:"password",required:""},null,512),[[s.nr,a.password]])]),(0,l._)("p",Qn,(0,g.zw)(n.passwordMatch),1)]),(0,l._)("div",Xn,[Jn,(0,l._)("div",eo,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":t[6]||(t[6]=e=>a.passwordRepeat=e),placeholder:"repeat password",required:""},null,512),[[s.nr,a.passwordRepeat]])]),(0,l._)("p",to,(0,g.zw)(n.passwordMatch),1)])])]),(0,l._)("div",ao,[(0,l._)("div",so,[io,(0,l._)("nav",lo,[(0,l._)("div",no,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>n.searchBarSpecialization=e),placeholder:"Search"},null,512),[[s.nr,n.searchBarSpecialization]])]),(0,l._)("div",oo,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specializationListIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"panel-block",key:t,value:e},[(0,l._)("a",{onClick:t=>o.selectSpecialization(e)},(0,g.zw)(e),9,ro)],8,co)))),128))])])]),(0,l._)("div",uo,[po,(0,l._)("div",ho,[(0,l._)("div",mo,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.specializationsSelected,((e,t)=>((0,l.wg)(),(0,l.iD)("button",{type:"button",key:t,class:"button is-light",style:{margin:"5px"}},[(0,l.Uk)((0,g.zw)(e)+"  ",1),(0,l._)("span",{class:"has-text-danger",onClick:t=>o.undoSpecialization(e)},"X",8,vo)])))),128))])])])]),(0,l._)("div",go,[(0,l._)("button",{type:"submit",class:"button is-primary",onClick:t[8]||(t[8]=e=>o.create(e)),disabled:""==n.specializationsSelected},"Create account",8,wo)])])])])}var bo={name:"SignUp",props:{licenseCode:String,alias:String,name:String,username:String,password:String,passwordRepeat:String,gmail:String},computed:{specializationListIndexed(){return this.specializationList.filter((e=>e.toLowerCase().includes(this.searchBarSpecialization.toLowerCase())))}},data(){return{passwordMatch:null,aliasConfirm:null,usernameConfirm:null,aliasEvaluate:null,usernameEvaluate:null,evaluateData:null,specializationsSelected:[],specializationList:this.$store.getters.getSpecializationList,searchBarSpecialization:""}},async mounted(){await Ke().get("/api/admin").then((e=>this.evaluateData=e.data)),await Ke().get("/api/manager").then((e=>this.hospitals=e.data))},methods:{async create(e){this.aliasConfirm=this.evaluateData.find((e=>e.alias===this.alias)),this.usernameConfirm=this.evaluateData.find((e=>e.username===this.username)),await this.password!==this.passwordRepeat?(this.passwordMatch="password do not match",await this.alias&&("undefined"==typeof this.aliasConfirm?this.aliasEvaluate=null:await this.aliasConfirm.alias===this.alias&&(this.aliasEvaluate="alias already taken",await e.preventDefault())),await this.username&&("undefined"==typeof this.usernameConfirm?this.usernameEvaluate=null:await this.usernameConfirm.username===this.username&&(this.usernameEvaluate="username already taken",await e.preventDefault())),await e.preventDefault()):(this.passwordMatch=null,await this.alias&&("undefined"==typeof this.aliasConfirm?this.aliasEvaluate=null:await this.aliasConfirm.alias===this.alias&&(this.aliasEvaluate="alias already taken",await e.preventDefault())),await this.username&&("undefined"==typeof this.usernameConfirm?this.usernameEvaluate=null:await this.usernameConfirm.username===this.username&&(this.usernameEvaluate="username already taken",await e.preventDefault()))),await this.password===this.passwordRepeat&&null==this.aliasEvaluate&&null==this.usernameEvaluate&&(await Ke().post("/api/admin",{alias:this.alias,licenseNo:this.licenseCode,name:this.name,gmail:this.gmail,specialist:this.specializationsSelected,username:this.username,password:this.password}),await this.$store.commit("imgSuccess",!0))},selectSpecialization(e){this.specializationsSelected.find((t=>t===e))||this.specializationsSelected.push(e)},undoSpecialization(e){this.specializationsSelected=this.specializationsSelected.filter((t=>t!==e))}}};const yo=(0,c.Z)(bo,[["render",_o],["__scopeId","data-v-581c141a"]]);var fo=yo;const ko=e=>((0,l.dD)("data-v-177f7fd0"),e=e(),(0,l.Cn)(),e),Do={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Co={class:"columns"},xo={class:"column is-2"},Ao={class:"column",style:{"background-color":"whitesmoke"}},So={class:"section"},Po=ko((()=>(0,l._)("h1",{class:"title"},"SETUP SCHEDULES",-1))),Uo=ko((()=>(0,l._)("div",{class:"modal-background"},null,-1))),Mo={class:"modal-content"},No={class:"card"},zo={class:"card-content"},Io={class:"content has-text-centered"},Lo={class:"control block"},To=ko((()=>(0,l._)("label",{class:"label"},"Prefix:",-1))),Ho=ko((()=>(0,l._)("label",{class:"label"},"Time start:",-1))),qo=ko((()=>(0,l._)("br",null,null,-1))),Eo=ko((()=>(0,l._)("label",{class:"label"},"Time end:",-1))),Vo={class:"control block"},Oo=ko((()=>(0,l._)("label",{class:"label"},"Appointment limit:",-1))),$o={class:"block"},Ro=["disabled"],Yo=ko((()=>(0,l._)("div",{class:"modal-background"},null,-1))),Bo=ko((()=>(0,l._)("div",{class:"modal-content loader"},null,-1))),Fo=[Yo,Bo],jo={class:"columns"},Wo={class:"column"},Ko={key:0,class:"notification is-success has-text-centered"},Go={class:"column"},Zo={class:"container"},Qo=ko((()=>(0,l._)("h1",{class:"subtitle"},"Ongoing Schedules:",-1))),Xo={key:0,class:"columns is-multiline",style:{overflow:"scroll","max-height":"30em"}},Jo={class:"block card"},ec={class:"card-content"},tc={class:"content"},ac={class:"title is-4 has-text-black has-text-left"},sc={class:"has-text-black"},ic={class:"has-text-black"},lc={class:"has-text-black"},nc={key:1,class:"notification is-warning"},oc=ko((()=>(0,l._)("h1",{class:"title is-5"},"No ongoing schedules.",-1))),cc=[oc];function rc(e,t,a,i,n,o){const c=(0,l.up)("AdminMenu"),r=(0,l.up)("v-date-picker"),d=(0,l.up)("v-calendar");return(0,l.wg)(),(0,l.iD)("div",Do,[(0,l._)("div",Co,[(0,l._)("div",xo,[(0,l.Wm)(c)]),(0,l._)("div",Ao,[(0,l._)("section",So,[Po,(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":n.isActive}])},[Uo,(0,l._)("div",Mo,[(0,l._)("div",No,[(0,l._)("div",zo,[(0,l._)("div",Io,[(0,l._)("div",Lo,[To,(0,l.wy)((0,l._)("input",{class:"input",type:"text",maxlength:"10","onUpdate:modelValue":t[0]||(t[0]=e=>n.prefix=e),style:{width:"33%"},placeholder:"e.g. ROOM305"},null,512),[[s.nr,n.prefix]])]),Ho,(0,l.Wm)(r,{modelValue:n.timeStart,"onUpdate:modelValue":t[1]||(t[1]=e=>n.timeStart=e),mode:"time",timezone:n.timezone,class:"block"},null,8,["modelValue","timezone"]),qo,Eo,(0,l.Wm)(r,{modelValue:n.timeEnd,"onUpdate:modelValue":t[2]||(t[2]=e=>n.timeEnd=e),mode:"time",timezone:n.timezone,class:"block"},null,8,["modelValue","timezone"]),(0,l._)("div",Vo,[Oo,(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>n.appointmentLimits=e),style:{width:"33%"}},null,512),[[s.nr,n.appointmentLimits]])]),(0,l._)("div",$o,[(0,l._)("button",{class:"button is-primary",type:"button",onClick:t[4]||(t[4]=(...e)=>o.addSched&&o.addSched(...e)),disabled:""==n.prefix},"Confirm",8,Ro)])])])])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[5]||(t[5]=(...e)=>o.modalClose&&o.modalClose(...e))})],2),(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":n.loading}])},Fo,2),(0,l._)("div",jo,[(0,l._)("div",Wo,[n.uploadSchedSuccess?((0,l.wg)(),(0,l.iD)("div",Ko,"Schedules Added/Updated!")):(0,l.kq)("",!0),(0,l.Wm)(d,{columns:e.$screens({default:1,lg:2}),rows:e.$screens({default:1,lg:2}),"is-expanded":e.$screens({default:!0,lg:!1}),modelValue:n.date,"onUpdate:modelValue":t[6]||(t[6]=e=>n.date=e),"min-date":new Date,attributes:o.attributes,onDayclick:o.modalUp,timezone:n.timezone},null,8,["columns","rows","is-expanded","modelValue","min-date","attributes","onDayclick","timezone"])]),(0,l._)("div",Go,[(0,l._)("div",Zo,[Qo,0!==Object.keys(o.daysIndexed).length?((0,l.wg)(),(0,l.iD)("div",Xo,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.daysIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"column is-6",key:e.id},[(0,l._)("div",Jo,[(0,l._)("div",ec,[(0,l._)("div",tc,[(0,l._)("p",ac,(0,g.zw)(new Date(e.date).toDateString()),1),(0,l._)("p",sc,"Prefix: "+(0,g.zw)(e.prefix),1),(0,l._)("p",ic,(0,g.zw)(e.timeStart)+" - "+(0,g.zw)(e.timeEnd),1),(0,l._)("p",lc,"Appointment limit: "+(0,g.zw)(e.appointmentLimit),1)])])])])))),128))])):((0,l.wg)(),(0,l.iD)("div",nc,cc))])])])])])])])}var dc={name:"Scheduler",components:{AdminMenu:mn},data(){return{alias:m.state.alias,profileImg:m.state.profileImg,userID:"",date:new Date,timeStart:"",timeEnd:"",timezone:"",prefix:"",days:[],appointmentLimits:10,checkServer:null,isActive:!1,uploadSchedSuccess:!1,loading:!1}},async mounted(){await Ke().get("/session/admin").then((e=>this.days=e.data.schedule)),await Ke().get("/session/admin").then((e=>this.userID=e.data._id))},computed:{dates(){return this.days.map((e=>new Date(e.date).toDateString()))},attributes(){return this.dates.map((e=>({highlight:!0,dates:e})))},daysIndexed(){if(""!==this.days)return this.days.sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())).filter((e=>new Date(e.date).getTime()>(new Date).getTime()))}},methods:{async onDayClick(e){this.loading=!0,await this.days.push({id:e.id,date:e.date,timeStart:this.timeStart.toLocaleTimeString(),timeEnd:this.timeEnd.toLocaleTimeString(),appointmentLimit:this.appointmentLimits,prefix:this.prefix}),await Ke().put(`/api/admin/${this.userID}`,{schedule:this.days}),await Ke().put("/session/admin",{schedule:this.days}),await Ke().get("/session/admin").then((e=>this.days=e.data.schedule)),this.uploadSchedSuccess=!0,this.loading=!1},async modalUp(e){this.isActive=!0;const t=this.days.findIndex((t=>t.id===e.id));await t>=0&&(this.loading=!0,this.days.splice(t,1),this.isActive=!1,await Ke().put(`/api/admin/${this.userID}`,{schedule:this.days}),await Ke().put("/session/admin",{schedule:this.days}),await Ke().get("/session/admin").then((e=>this.days=e.data.schedule)),this.uploadSchedSuccess=!0,this.loading=!1),this.day=e,this.timeStart=e.date,this.timeEnd=e.date},addSched(e){e=this.day,this.onDayClick(e),this.isActive=!this.isActive},modalClose(){this.isActive=!this.isActive}}};const uc=(0,c.Z)(dc,[["render",rc],["__scopeId","data-v-177f7fd0"]]);var pc=uc;const hc=e=>((0,l.dD)("data-v-4a72539c"),e=e(),(0,l.Cn)(),e),mc={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},vc={class:"columns"},gc={class:"column is-2"},wc={class:"column",style:{"background-color":"whitesmoke"}},_c={class:"section",style:{"background-color":"whitesmoke"}},bc=hc((()=>(0,l._)("h1",{class:"title"},"PROFILE",-1))),yc={class:"container box is-fluid"},fc={key:0,class:"message is-danger"},kc=hc((()=>(0,l._)("div",{class:"message-header"},[(0,l._)("p",null,"YOU ARE NOT VERIFIED ❌")],-1))),Dc=hc((()=>(0,l._)("div",{class:"message-body"},[(0,l.Uk)(" To get started, please visit "),(0,l._)("b",null,"Security"),(0,l.Uk)(" tab under "),(0,l._)("b",null,"VERIFICATION AND INFORMATION.")],-1))),Cc=[kc,Dc],xc={key:1,class:"message is-success"},Ac=hc((()=>(0,l._)("div",{class:"message-header"},[(0,l._)("p",null,"YOU ARE VERIFIED ✓")],-1))),Sc=hc((()=>(0,l._)("div",{class:"message-body"},[(0,l.Uk)(" Your basic information is "),(0,l._)("b",null,"locked"),(0,l.Uk)(". To edit, please go to the "),(0,l._)("b",null,"Security"),(0,l.Uk)(" tab. ")],-1))),Pc=[Ac,Sc],Uc={class:"columns is-gapless"},Mc={class:"column is-6"},Nc=["innerHTML"],zc={id:"formUpload",action:"/api/imgUpload",method:"post",enctype:"multipart/form-data",style:{margin:"auto",width:"50%"},class:"field"},Ic={class:"control"},Lc=["value"],Tc=hc((()=>(0,l._)("div",{class:"has-text-centered"},[(0,l._)("button",{type:"submit",value:"Upload",class:"button is-primary"},"Change profile picture")],-1))),Hc=hc((()=>(0,l._)("br",null,null,-1))),qc={class:"column"},Ec={class:"field"},Vc={class:"control"},Oc=hc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"License No.")],-1))),$c=["disabled"],Rc={class:"field is-horizontal"},Yc={class:"field-body"},Bc={class:"field"},Fc={class:"control"},jc=hc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Full Name:")],-1))),Wc=["disabled"],Kc={class:"field"},Gc={class:"control"},Zc=hc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Gmail:")],-1))),Qc=["disabled"],Xc={class:"field"},Jc={class:"control"},er={key:1,class:"notification is-success is-light"},tr={class:"field"},ar={class:"control"},sr=hc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Managed Hospitals:")],-1))),ir={class:"button"},lr=["onClick"],nr=(0,l.Uk)("  "),or={class:"dropdown-trigger"},cr={class:"dropdown-menu"},rr=["onClick"],dr={class:"field"},ur={class:"control"},pr=hc((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Specializations:")],-1))),hr=["onClick"],mr=(0,l.Uk)("  "),vr={class:"dropdown-trigger"},gr={class:"dropdown-menu"},wr=["onClick"],_r=hc((()=>(0,l._)("div",{class:"modal-background"},null,-1))),br={class:"modal-content"},yr={key:0,class:"field box"},fr=hc((()=>(0,l._)("label",{class:"label"},"Please check your email for the verification code.",-1))),kr={class:"control"},Dr=hc((()=>(0,l._)("br",null,null,-1))),Cr={class:"has-text-centered"},xr=["disabled"],Ar={key:0,class:"notification is-danger"},Sr={key:1,class:"notification is-danger"};function Pr(e,t,a,i,n,o){const c=(0,l.up)("AdminMenu");return(0,l.wg)(),(0,l.iD)("div",mc,[(0,l._)("div",vc,[(0,l._)("div",gc,[(0,l.Wm)(c)]),(0,l._)("div",wc,[(0,l._)("section",_c,[bc,(0,l._)("div",yc,[n.verified?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("article",fc,Cc)),n.verified?((0,l.wg)(),(0,l.iD)("article",xc,Pc)):(0,l.kq)("",!0),(0,l._)("div",Uc,[(0,l._)("div",Mc,[(0,l._)("span",{id:"profile-img",innerHTML:n.profileImg},null,8,Nc),(0,l._)("form",zc,[(0,l._)("div",Ic,[(0,l._)("input",{type:"hidden",name:"alias",value:n.alias},null,8,Lc),(0,l._)("input",{class:"input",type:"file",name:"imgFile",onClick:t[0]||(t[0]=(...e)=>o.imgSuccess&&o.imgSuccess(...e)),required:""}),Tc])])]),Hc,(0,l._)("div",qc,[(0,l._)("div",Ec,[(0,l._)("div",Vc,[Oc,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.licenseNo=e),style:{width:"33%"},disabled:1==n.verified},null,8,$c),[[s.nr,n.licenseNo]])])]),(0,l._)("div",Rc,[(0,l._)("div",Yc,[(0,l._)("div",Bc,[(0,l._)("div",Fc,[jc,(0,l.wy)((0,l._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>n.fullname=e),disabled:1==n.verified},null,8,Wc),[[s.nr,n.fullname]])])]),(0,l._)("div",Kc,[(0,l._)("div",Gc,[Zc,(0,l.wy)((0,l._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.gmail=e),disabled:1==n.verified},null,8,Qc),[[s.nr,n.gmail]])])])])]),(0,l._)("div",Xc,[(0,l._)("div",Jc,[n.verified?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,class:"button is-link",type:"button",onClick:t[4]||(t[4]=(...e)=>o.updateInfo&&o.updateInfo(...e))},"Save changes")),n.infoValidate?((0,l.wg)(),(0,l.iD)("div",er,(0,g.zw)(n.infoValidateMessage),1)):(0,l.kq)("",!0)])]),(0,l._)("div",tr,[(0,l._)("div",ar,[sr,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.hospitalOrigin,(e=>((0,l.wg)(),(0,l.iD)("button",ir,[(0,l.Uk)((0,g.zw)(e.hospital)+"  ",1),(0,l._)("span",{class:"has-text-danger",onClick:t=>o.pullHospital(e.hospital)},"x",8,lr)])))),256)),nr,(0,l._)("div",{class:(0,g.C_)(["dropdown",{"is-active":n.isActiveDropdownHospital}])},[(0,l._)("div",or,[(0,l._)("button",{onClick:t[5]||(t[5]=(...e)=>o.dropdownHospital&&o.dropdownHospital(...e)),class:"button"},"+")]),(0,l._)("div",cr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.hospitalList,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:t},[(0,l._)("a",{class:"dropdown-item",onClick:t=>o.promptVerificationHospital(e.hospital)},(0,g.zw)(e.hospital),9,rr)])))),128))])],2)])]),(0,l._)("div",dr,[(0,l._)("div",ur,[pr,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.specialist,((e,t)=>((0,l.wg)(),(0,l.iD)("button",{class:"button",style:{margin:"5px"},key:t},[(0,l.Uk)((0,g.zw)(e)+"  ",1),(0,l._)("span",{class:"has-text-danger",onClick:t=>o.pullSpecialization(e)},"x",8,hr)])))),128)),mr,(0,l._)("div",{class:(0,g.C_)(["dropdown",{"is-active":n.isActiveDropdownSpecialist}])},[(0,l._)("div",vr,[(0,l._)("button",{onClick:t[6]||(t[6]=(...e)=>o.dropdownSpecialist&&o.dropdownSpecialist(...e)),class:"button"},"+")]),(0,l._)("div",gr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.specializationList,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:t},[(0,l._)("a",{class:"dropdown-item",onClick:t=>o.addSpecialization(e)},(0,g.zw)(e),9,wr)])))),128))])],2)])])])])]),(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":n.modalActive}])},[_r,(0,l._)("div",br,[n.codeSent?((0,l.wg)(),(0,l.iD)("div",Sr,"You can only request a verification code once, please try again in 10 minutes.")):((0,l.wg)(),(0,l.iD)("div",yr,[fr,(0,l._)("div",kr,[(0,l.wy)((0,l._)("input",{class:"input","onUpdate:modelValue":t[7]||(t[7]=e=>n.verificationCode=e),type:"text",placeholder:"code"},null,512),[[s.nr,n.verificationCode]])]),Dr,(0,l._)("div",Cr,[(0,l._)("button",{class:"button is-primary",onClick:t[8]||(t[8]=(...e)=>o.addHospital&&o.addHospital(...e)),disabled:""==n.verificationCode},"Confirm",8,xr)]),n.errorCode?((0,l.wg)(),(0,l.iD)("div",Ar,"Invalid login code, please check your email thoroughly.")):(0,l.kq)("",!0)]))]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[9]||(t[9]=(...e)=>o.modalClose&&o.modalClose(...e))})],2)])])])])}var Ur={name:"AdminProfile",data(){return{alias:m.state.alias,fullname:null,password:null,passwordRepeat:null,infoValidate:null,infoValidateMessage:null,doctorDetails:null,id:null,profileImg:m.state.profileImg,hospitalOrigin:null,specialist:null,hospital:null,gmail:null,specializationList:this.$store.getters.getSpecializationList,hospitalList:[],isActiveDropdownSpecialist:!1,isActiveDropdownHospital:!1,licenseNo:null,verified:null,codes:[],modalActive:!1,verificationCode:"",errorCode:!1,codeSent:!1,selectedHospital:""}},components:{AdminMenu:mn},async mounted(){await Ke().get("/session/admin").then((e=>this.doctorDetails=e.data)),this.verified=await this.doctorDetails.verified,this.licenseNo=await this.doctorDetails.licenseNo,this.fullname=await this.doctorDetails.fullname,this.id=await this.doctorDetails._id,this.specialist=await this.doctorDetails.specialist,this.gmail=await this.doctorDetails.gmail,this.hospitalOrigin=await this.doctorDetails.hospitalOrigin,await Ke().get("/api/manager").then((e=>this.hospitalList=e.data))},methods:{async updateInfo(){this.verified||(await Ke().put(`/api/admin/${this.id}`,{licenseNo:this.licenseNo,name:this.fullname,gmail:this.gmail}),await Ke().put("/session/admin",{licenseNo:this.licenseNo,name:this.fullname,gmail:this.gmail}),await Ke().get("/session/admin").then((e=>this.fullname=e.data.fullname)),this.infoValidate=!0,this.infoValidateMessage="changes saved successfully")},imgSuccess(){m.commit("imgSuccess",!0)},showPass(){let e=document.getElementsByClassName("password");for(let t=0;t<e.length;t++)"password"===e[t].type?e[t].type="text":e[t].type="password"},dropdownSpecialist(){this.isActiveDropdownSpecialist=!this.isActiveDropdownSpecialist},dropdownHospital(){this.isActiveDropdownHospital=!this.isActiveDropdownHospital},async addSpecialization(e){this.specialist.find((t=>t===e))||(this.specialist.push(e),this.isActiveDropdownSpecialist=!1,await Ke().put(`/api/admin/${this.id}`,{specialist:this.specialist}),await Ke().put("/session/admin",{specialist:this.specialist}),await Ke().get("/session/admin").then((e=>this.specialist=e.data.specialist)))},async promptVerificationHospital(e){if(!this.hospitalOrigin.find((t=>t.hospital===e))){this.selectedHospital=e,this.modalActive=!0;let t=Math.floor(1e3+9e3*Math.random());await Ke().get("/api/code").then((e=>this.codes=e.data));let a=await this.codes.find((e=>e.code===t)),s=await this.codes.filter((e=>e.email===this.gmail));console.log(await this.codes),0===await this.codes.length||"undefined"===typeof a&&0===Object.keys(s).length?(await Ke().post("/api/code",{email:this.gmail,code:t}),await Ke().post("/api/OTPMail",{email:this.gmail,code:t})):this.codeSent=!0}},async addHospital(){await Ke().get("/api/code").then((e=>this.codes=e.data)),console.log(await this.codes);let e=await this.codes.find((e=>e.code==this.verificationCode&&e.email==this.gmail));this.errorCode?this.errorCode=!0:await e?(this.hospitalOrigin.push({hospital:this.selectedHospital}),await Ke().put(`/api/admin/${this.id}`,{hospitalOrigin:this.hospitalOrigin}),await Ke().put("/session/admin",{hospitalOrigin:this.hospitalOrigin}),await Ke().get("/session/admin").then((e=>this.hospitalOrigin=e.data.hospitalOrigin)),this.selectedHospital="",this.modalActive=!1):this.errorCode=!0},async pullSpecialization(e){this.specialist=this.specialist.filter((t=>t!==e)),await Ke().put(`/api/admin/${this.id}`,{specialist:this.specialist}),await Ke().put("/session/admin",{specialist:this.specialist}),await Ke().get("/session/admin").then((e=>this.specialist=e.data.specialist))},async pullHospital(e){this.hospitalOrigin=this.hospitalOrigin.filter((t=>t.hospital!==e)),await Ke().put(`/api/admin/${this.id}`,{hospitalOrigin:this.hospitalOrigin}),await Ke().put("/session/admin",{hospitalOrigin:this.hospitalOrigin}),await Ke().get("/session/admin").then((e=>this.hospitalOrigin=e.data.hospitalOrigin))},modalClose(){this.modalActive=!1}}};const Mr=(0,c.Z)(Ur,[["render",Pr],["__scopeId","data-v-4a72539c"]]);var Nr=Mr;const zr={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Ir={class:"columns"},Lr={class:"column is-2"},Tr={class:"column",style:{"background-color":"whitesmoke"}},Hr=(0,l._)("div",{class:"modal-background"},null,-1),qr={class:"modal-content"},Er={class:"section box"},Vr={class:"field is-horizontal"},Or={class:"field-body"},$r={class:"field"},Rr={class:"control"},Yr=(0,l._)("label",{class:"label"},"From:",-1),Br=["value"],Fr={class:"field"},jr={class:"control"},Wr=(0,l._)("div",{class:"label"},"To(Patient):",-1),Kr={class:"dropdown-trigger"},Gr={key:0},Zr={key:1},Qr={class:"dropdown-menu"},Xr=["onClick"],Jr={class:"field"},ed={class:"control"},td=(0,l._)("label",{class:"label"},"Message:",-1),ad={class:"field"},sd={class:"control has-text-right"},id=["disabled"],ld={key:0,class:"has-text-success"},nd=(0,l.Uk)(" A message has been sent to "),od=(0,l.Uk)(". "),cd={class:"section",style:{"background-color":"whitesmoke"}},rd={class:"container is-widescreen is-fullhd",style:{padding:"15"}},dd={class:"title"},ud=(0,l.Uk)(" APPOINTMENT HISTORY "),pd={class:"field"},hd={class:"control"},md={key:0,class:"container"},vd={class:"subtitle has-text-black"},gd={class:"table-container"},wd={class:"table is-striped is-narrow is-fullwidth is-bordered"},_d=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Priority No."),(0,l._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,l._)("th",{class:"has-text-black-ter"},"Birthday"),(0,l._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1),bd=["onClick"],yd=(0,l._)("br",null,null,-1),fd={class:"has-text-black-ter"},kd={class:"has-text-black-ter"},Dd={class:"has-text-black-ter"},Cd={class:"has-text-black-ter"},xd={class:"has-text-black-ter"},Ad={class:"has-text-black-ter"},Sd={class:"has-text-black-ter"},Pd={key:1,class:"notification is-info"};function Ud(e,t,a,i,n,o){const c=(0,l.up)("AdminMenu");return(0,l.wg)(),(0,l.iD)("div",zr,[(0,l._)("div",Ir,[(0,l._)("div",Lr,[(0,l.Wm)(c)]),(0,l._)("div",Tr,[(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":n.isActiveModal}])},[Hr,(0,l._)("div",qr,[(0,l._)("div",Er,[(0,l._)("div",Vr,[(0,l._)("div",Or,[(0,l._)("div",$r,[(0,l._)("div",Rr,[Yr,(0,l._)("input",{class:"input",type:"text",value:"Dr. "+n.doctorName,disabled:""},null,8,Br)])]),(0,l._)("div",Fr,[(0,l._)("div",jr,[Wr,(0,l._)("div",{class:(0,g.C_)(["dropdown",{"is-active":n.isActiveDropdown}])},[(0,l._)("div",Kr,[(0,l._)("button",{class:"button",onClick:t[0]||(t[0]=(...e)=>o.openPatients&&o.openPatients(...e))},[""==n.selectedPatient?((0,l.wg)(),(0,l.iD)("span",Gr,"Select")):((0,l.wg)(),(0,l.iD)("span",Zr,(0,g.zw)(n.selectedPatient),1))])]),(0,l._)("div",Qr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.patients.patients,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e._id},[(0,l._)("a",{class:"dropdown-item",onClick:t=>o.selectPatient(e.patient,e.patientName)},(0,g.zw)(e.patientName),9,Xr)])))),128))])],2)])])])]),(0,l._)("div",Jr,[(0,l._)("div",ed,[td,(0,l.wy)((0,l._)("textarea",{class:"textarea",placeholder:"Message","onUpdate:modelValue":t[1]||(t[1]=e=>n.noticeMsg=e)},null,512),[[s.nr,n.noticeMsg]])])]),(0,l._)("div",ad,[(0,l._)("div",sd,[(0,l._)("button",{class:"button is-primary",onClick:t[2]||(t[2]=(...e)=>o.sendNotif&&o.sendNotif(...e)),disabled:""==n.selectedPatient||""==n.noticeMsg},"Send",8,id)])]),n.notificationSent?((0,l.wg)(),(0,l.iD)("p",ld,[nd,(0,l._)("b",null,(0,g.zw)(n.messageSuccessSelectedPatient),1),od])):(0,l.kq)("",!0)])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[3]||(t[3]=(...e)=>o.modalInactive&&o.modalInactive(...e))})],2),(0,l._)("section",cd,[(0,l._)("div",rd,[(0,l._)("h1",dd,[ud,(0,l._)("button",{class:"button is-info",onClick:t[4]||(t[4]=(...e)=>o.modalActive&&o.modalActive(...e))},"Send a message to a patient")]),(0,l._)("div",pd,[(0,l._)("div",hd,[(0,l.wy)((0,l._)("input",{class:"input",type:"text",style:{width:"50% !important"},"onUpdate:modelValue":t[5]||(t[5]=e=>n.searchBar=e),placeholder:"Search..."},null,512),[[s.nr,n.searchBar]])])]),0!==Object.keys(o.appointmentSchedules).length?((0,l.wg)(),(0,l.iD)("div",md,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.appointmentSchedules,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,g.C_)(["box",{"is-hidden":new Date(t).toDateString()==(new Date).toDateString()}]),key:t},[(0,l._)("h1",vd,"Schedule: "+(0,g.zw)(new Date(t).toDateString()),1),(0,l._)("div",gd,[(0,l._)("table",wd,[_d,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,(e=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-danger",type:"button",onClick:t=>o.deleteData(e._id)},"Delete",8,bd),yd,(0,l._)("th",fd,(0,g.zw)(e.priorityNum),1),(0,l._)("th",kd,(0,g.zw)(e.hospital),1),(0,l._)("td",Dd,(0,g.zw)(e.firstName),1),(0,l._)("td",Cd,(0,g.zw)(e.lastName),1),(0,l._)("td",xd,(0,g.zw)(e.contactNum),1),(0,l._)("td",Ad,(0,g.zw)(e.birthDay),1),(0,l._)("td",Sd,(0,g.zw)(e.comments),1)])])))),128))])])],2)))),128))])):((0,l.wg)(),(0,l.iD)("div",Pd,"No previous appointments."))])])])])])}var Md={name:"PatientLogs",components:{AdminMenu:mn},async mounted(){await Ke().get("/api/appointmentList").then((e=>this.appointmentSched=e.data.filter((e=>e.doctorID===this.$store.state.userID)))),await Ke().get("/api/admin").then((e=>this.patients=e.data.find((e=>e.alias==this.alias)))),await Ke().get("/session/admin").then((e=>this.doctorName=e.data.fullname))},data(){return{searchBar:"",appointmentSched:[],alias:this.$store.state.alias,patients:[],isActiveDropdown:!1,isActiveModal:!1,selectedPatient:"",messageSuccessSelectedPatient:"",doctorName:"",noticeMsg:"",notificationSent:!1}},computed:{appointmentSchedules(){return Yl().groupBy(this.appointmentSched.filter((e=>e.firstName.toLowerCase().includes(this.searchBar.toLowerCase())||e.lastName.toLowerCase().includes(this.searchBar.toLowerCase()))).sort(((e,t)=>new Date(t.schedule[0].date).getTime()-new Date(e.schedule[0].date).getTime())).filter((e=>new Date(e.schedule[0].date).getTime()<(new Date).getTime())),"schedule[0].date")}},methods:{async deleteData(e){await Ke()["delete"](`/api/appointmentList/${e}`),await Ke().get("/api/appointmentList").then((e=>this.appointmentSched=e.data.filter((e=>e.doctor===this.$store.state.userID))))},selectPatient(e,t){this.selectedPatient=t,this.isActiveDropdown=!1,Et.emit("join room",e)},openPatients(){this.isActiveDropdown=!this.isActiveDropdown,this.notificationSent=!1},modalActive(){this.isActiveModal=!0,Et.connect()},modalInactive(){this.isActiveModal=!1,this.selectedPatient="",Et.disconnect()},async sendNotif(){this.messageSuccessSelectedPatient=this.selectedPatient,Et.emit("message",this.noticeMsg,this.doctorName,new Date),this.noticeMsg="",this.selectedPatient="",this.notificationSent=!0}}};const Nd=(0,c.Z)(Md,[["render",Ud]]);var zd=Nd;const Id=e=>((0,l.dD)("data-v-2fa9ef62"),e=e(),(0,l.Cn)(),e),Ld={style:{"overflow-x":"hidden",height:"100vh","background-color":"whitesmoke"}},Td={class:"columns"},Hd={class:"column is-2"},qd={class:"column",style:{"background-color":"whitesmoke"}},Ed={class:"section",style:{"background-color":"whitesmoke"}},Vd=Id((()=>(0,l._)("h1",{class:"title"},"SECURITY",-1))),Od={class:"container box"},$d={key:0,class:"message is-danger"},Rd=Id((()=>(0,l._)("div",{class:"message-header"},[(0,l._)("p",null,"YOU ARE NOT VERIFIED ❌")],-1))),Yd=Id((()=>(0,l._)("div",{class:"message-body"},[(0,l.Uk)(" To get verified, link your "),(0,l._)("b",null,"email account"),(0,l.Uk)(". ")],-1))),Bd=[Rd,Yd],Fd={class:"columns"},jd={class:"column"},Wd=Id((()=>(0,l._)("h1",{class:"title"},"Change password:",-1))),Kd=Id((()=>(0,l._)("div",{class:"block"},null,-1))),Gd={class:"field"},Zd={class:"control"},Qd=Id((()=>(0,l._)("label",{class:"label"},"Current password",-1))),Xd={key:0,class:"notification is-warning"},Jd={class:"field"},eu={class:"control"},tu=Id((()=>(0,l._)("label",{class:"label"},"Create new password:",-1))),au={key:0,class:"notification is-danger"},su={class:"field"},iu={class:"control"},lu=Id((()=>(0,l._)("label",{class:"label"},"Repeat new password:",-1))),nu={key:0,class:"notification is-danger"},ou={class:"field"},cu={class:"control"},ru={class:"checkbox"},du=(0,l.Uk)(" Show password "),uu={class:"field"},pu={class:"control"},hu=["disabled"],mu={key:0,class:"notification is-success"},vu={class:"column"},gu=Id((()=>(0,l._)("div",{class:"modal-background"},null,-1))),wu={key:0,class:"modal-content box section",id:"OTPModal",style:{width:"33%"}},_u={key:0,class:"notification is-info is-light"},bu={key:1,class:"notification is-danger"},yu={key:2,class:"field"},fu={class:"control has-text-centered"},ku=["disabled"],Du={key:3,class:"has-text-centered"},Cu=["disabled"],xu={key:0,class:"notification is-danger"},Au={key:1,class:"modal-content box section",id:"OTPModal",style:{width:"33%"}},Su={key:0,class:"field"},Pu=Id((()=>(0,l._)("div",{class:"notification is-success is-light"},"Verify your email.",-1))),Uu={class:"control has-text-centered"},Mu={class:"has-text-centered"},Nu=["disabled"],zu={key:1,class:"field"},Iu={key:0,class:"notification is-info is-light"},Lu={key:1,class:"notification is-danger is-light"},Tu={key:0},Hu={key:1},qu={class:"control has-text-centered"},Eu=["disabled"],Vu={key:2,class:"has-text-centered"},Ou=["disabled"],$u={key:0,class:"notification is-danger"},Ru={class:"field"},Yu={class:"control"},Bu=Id((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"License No.")],-1))),Fu=["disabled"],ju={class:"field is-horizontal"},Wu={class:"field-body"},Ku={class:"field"},Gu={class:"control"},Zu=Id((()=>(0,l._)("label",{class:"label"},[(0,l._)("b",null,"Full Name:")],-1))),Qu=["disabled"],Xu={class:"field"},Ju={class:"control"},ep={class:"label"},tp=(0,l.Uk)(" Email "),ap={key:0,class:"has-text-success"},sp=Id((()=>(0,l._)("b",null,"Verified ✓",-1))),ip=[sp],lp={key:1,class:"has-text-danger"},np=Id((()=>(0,l._)("b",null,"Requires verification ❌",-1))),op=[np],cp=["disabled"],rp={key:0,class:"notification is-success is-light"};function dp(e,t,a,i,n,o){const c=(0,l.up)("AdminMenu"),r=(0,l.up)("ForgotPassword");return(0,l.wg)(),(0,l.iD)("div",Ld,[(0,l._)("div",Td,[(0,l._)("div",Hd,[(0,l.Wm)(c)]),(0,l._)("div",qd,[(0,l._)("section",Ed,[Vd,(0,l._)("div",Od,[n.verified?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("article",$d,Bd)),(0,l._)("div",Fd,[(0,l._)("div",jd,[Wd,(0,l.Wm)(r,{userType:"doctor",username:n.doctorDetails.username,email:n.gmail},null,8,["username","email"]),Kd,(0,l._)("div",Gd,[(0,l._)("div",Zd,[Qd,(0,l.wy)((0,l._)("input",{class:"input password",size:"5",type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>n.currentPassword=e),required:""},null,512),[[s.nr,n.currentPassword]])]),n.incorrectPasswordValidate?((0,l.wg)(),(0,l.iD)("div",Xd,(0,g.zw)(n.currentPasswordValidateMessage),1)):(0,l.kq)("",!0)]),(0,l._)("div",Jd,[(0,l._)("div",eu,[tu,(0,l.wy)((0,l._)("input",{class:(0,g.C_)(["input password",{"is-danger":n.passwordValidate}]),size:"5",type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),required:""},null,2),[[s.nr,n.password]])]),n.passwordValidate?((0,l.wg)(),(0,l.iD)("div",au,(0,g.zw)(n.passwordValidateMessage),1)):(0,l.kq)("",!0)]),(0,l._)("div",su,[(0,l._)("div",iu,[lu,(0,l.wy)((0,l._)("input",{class:(0,g.C_)(["input password",{"is-danger":n.passwordValidate}]),size:"5",type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>n.passwordRepeat=e),required:""},null,2),[[s.nr,n.passwordRepeat]])]),n.passwordValidate?((0,l.wg)(),(0,l.iD)("div",nu,(0,g.zw)(n.passwordValidateMessage),1)):(0,l.kq)("",!0)]),(0,l._)("div",ou,[(0,l._)("div",cu,[(0,l._)("label",ru,[(0,l._)("input",{type:"checkbox",onClick:t[3]||(t[3]=(...e)=>o.showPass&&o.showPass(...e))}),du])])]),(0,l._)("div",uu,[(0,l._)("div",pu,[(0,l._)("button",{class:"button is-danger",type:"submit",onClick:t[4]||(t[4]=(...e)=>o.updatePassword&&o.updatePassword(...e)),disabled:null==n.currentPassword||null==n.password||null==n.passwordRepeat},"Confirm",8,hu),n.passwordSuccess?((0,l.wg)(),(0,l.iD)("div",mu,"Password has been changed.")):(0,l.kq)("",!0)])])]),(0,l._)("div",vu,[(0,l._)("p",null,[n.verified?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"has-text-info",onClick:t[5]||(t[5]=(...e)=>o.modalUpEditInfo&&o.modalUpEditInfo(...e))},"[Edit Information]")):((0,l.wg)(),(0,l.iD)("a",{key:1,class:"has-text-danger",onClick:t[6]||(t[6]=(...e)=>o.modalUpInfoVerify&&o.modalUpInfoVerify(...e))},"[Verify Now]"))]),(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":n.isActiveModal}])},[gu,n.verified?((0,l.wg)(),(0,l.iD)("div",wu,[n.codeError?((0,l.wg)(),(0,l.iD)("div",bu,"You can only request a verification code once, please try again in 10 minutes.")):((0,l.wg)(),(0,l.iD)("div",_u,"We have sent you a verification code on your email.")),n.codeError?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",yu,[(0,l._)("div",fu,[(0,l.wy)((0,l._)("input",{class:"input",type:"number",maxlength:"4",id:"OTP","onUpdate:modelValue":t[7]||(t[7]=e=>n.OTP=e),oninput:"this.value=this.value.slice(0,this.maxLength)",disabled:n.codeError},null,8,ku),[[s.nr,n.OTP]])])])),n.codeError?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Du,[(0,l._)("button",{class:"button is-info",disabled:""===n.OTP,onClick:t[8]||(t[8]=(...e)=>o.confirmOTPEditInfo&&o.confirmOTPEditInfo(...e))},"Confirm",8,Cu),n.incorrectCode?((0,l.wg)(),(0,l.iD)("div",xu,"Incorrect code, please check your email thoroughly.")):(0,l.kq)("",!0)])),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[9]||(t[9]=(...e)=>o.closeModal&&o.closeModal(...e))})])):((0,l.wg)(),(0,l.iD)("div",Au,[n.verifyEmailSent?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Su,[Pu,(0,l._)("div",Uu,[(0,l.wy)((0,l._)("input",{class:"input",type:"email","onUpdate:modelValue":t[10]||(t[10]=e=>n.gmail=e)},null,512),[[s.nr,n.gmail]])]),(0,l._)("div",Mu,[(0,l._)("button",{class:"button is-success",onClick:t[11]||(t[11]=(...e)=>o.sendVerificationEmail&&o.sendVerificationEmail(...e)),disabled:""===n.gmail},"Verify",8,Nu)])])),n.verifyEmailSent?((0,l.wg)(),(0,l.iD)("div",zu,[n.codeError?((0,l.wg)(),(0,l.iD)("div",Lu,[n.emailTaken?((0,l.wg)(),(0,l.iD)("span",Tu,"Email address is already taken.")):((0,l.wg)(),(0,l.iD)("span",Hu,"You can only request a verification code once, please try again in 10 minutes."))])):((0,l.wg)(),(0,l.iD)("div",Iu,"We have sent you a verification code on your email.")),(0,l._)("div",qu,[n.codeError?(0,l.kq)("",!0):(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:0,class:"input",type:"number",maxlength:"4",id:"OTP","onUpdate:modelValue":t[12]||(t[12]=e=>n.OTP=e),oninput:"this.value=this.value.slice(0,this.maxLength)",disabled:n.codeError||""==n.OTP},null,8,Eu)),[[s.nr,n.OTP]])]),n.codeError?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Vu,[(0,l._)("button",{class:"button is-info",disabled:""===n.OTP,onClick:t[13]||(t[13]=(...e)=>o.verifyEmail&&o.verifyEmail(...e))},"Confirm",8,Ou),n.incorrectCode?((0,l.wg)(),(0,l.iD)("div",$u,"Incorrect code, please check your email thoroughly.")):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[14]||(t[14]=(...e)=>o.closeModal&&o.closeModal(...e))})]))],2),(0,l._)("div",Ru,[(0,l._)("div",Yu,[Bu,(0,l.wy)((0,l._)("input",{class:(0,g.C_)(["input",{"is-success":n.authorized}]),type:"text","onUpdate:modelValue":t[15]||(t[15]=e=>n.licenseNo=e),style:{width:"33%"},disabled:!n.authorized},null,10,Fu),[[s.nr,n.licenseNo]])])]),(0,l._)("div",ju,[(0,l._)("div",Wu,[(0,l._)("div",Ku,[(0,l._)("div",Gu,[Zu,(0,l.wy)((0,l._)("input",{class:(0,g.C_)(["input",{"is-success":n.authorized}]),size:"5",type:"text","onUpdate:modelValue":t[16]||(t[16]=e=>n.fullname=e),disabled:!n.authorized},null,10,Qu),[[s.nr,n.fullname]])])]),(0,l._)("div",Xu,[(0,l._)("div",Ju,[(0,l._)("label",ep,[tp,n.verified?((0,l.wg)(),(0,l.iD)("span",ap,ip)):((0,l.wg)(),(0,l.iD)("span",lp,op))]),(0,l.wy)((0,l._)("input",{class:"input",size:"5",type:"text","onUpdate:modelValue":t[17]||(t[17]=e=>n.gmail=e),disabled:""},null,512),[[s.nr,n.gmail]])])])])]),(0,l._)("button",{class:"button is-link",disabled:!n.authorized,onClick:t[18]||(t[18]=(...e)=>o.updateInfo&&o.updateInfo(...e))},"Confirm",8,cp),n.updateInfoSuccess?((0,l.wg)(),(0,l.iD)("div",rp,"Changes have been updated successfully.")):(0,l.kq)("",!0)])])])])])])])}var up={name:"AdminSecurity",components:{AdminMenu:mn,ForgotPassword:Qi},async mounted(){await Ke().get("/session/admin").then((e=>this.doctorDetails=e.data)),this.verified=await this.doctorDetails.verified,this.id=await this.doctorDetails._id,this.licenseNo=await this.doctorDetails.licenseNo,this.fullname=await this.doctorDetails.fullname,this.gmail=await this.doctorDetails.gmail},data(){return{doctorDetails:[],codes:[],OTP:null,id:null,isActiveModal:!1,currentPassword:null,currentPasswordValidate:null,currentPasswordValidateMessage:null,currentValidateMessage:null,passwordValidateMessage:null,incorrectPasswordValidate:null,passwordValidate:null,password:null,passwordRepeat:null,passwordSuccess:!1,verified:null,licenseNo:null,fullname:null,gmail:null,authorized:!1,verifyEmailSent:!1,emailTaken:!1,codeError:!1,updateInfoSuccess:!1,incorrectCode:!1}},methods:{async updatePassword(){if(""!==await this.currentPassword&&""!==this.password&&""!==this.passwordRepeat)if(this.password!==this.passwordRepeat)this.passwordValidate=!0,this.passwordValidateMessage="Passwords do not match",this.passwordSuccess=!1;else try{await Ke().put("/api/updatePassword/doctor",{doctorID:this.id,currentPassword:this.currentPassword,newPassword:this.password}),this.incorrectPasswordValidate=!1,this.passwordValidate=!1,this.passwordSuccess=!0,this.currentPassword=null,this.password=null,this.passwordRepeat=null}catch(e){this.passwordValidate=!1,this.passwordSuccess=!1,this.incorrectPasswordValidate=!0,this.currentPasswordValidateMessage=e.response.data}},showPass(){let e=document.getElementsByClassName("password");for(let t=0;t<e.length;t++)"password"===e[t].type?e[t].type="text":e[t].type="password"},async modalUpEditInfo(){let e=Math.floor(1e3+9e3*Math.random());await Ke().get("/api/code").then((e=>this.codes=e.data));let t=await this.codes.find((t=>t.code===e)),a=await this.codes.filter((e=>e.email===this.gmail));0===await this.codes.length?(this.isActiveModal=!0,await Ke().post("/api/code",{email:this.gmail,code:e}),await Ke().post("/api/OTPMail",{email:this.gmail,code:e})):void 0!==typeof t&&a?(this.isActiveModal=!0,this.codeError=!0):(this.isActiveModal=!0,await Ke().post("/api/code",{email:this.gmail,code:e}),await Ke().post("/api/OTPMail",{email:this.gmail,code:e}))},async modalUpInfoVerify(){this.isActiveModal=!0},async sendVerificationEmail(){let e=[],t=Math.floor(1e3+9e3*Math.random());await Ke().get("/api/code").then((e=>this.codes=e.data)),await Ke().get("/api/admin").then((t=>e=t.data.find((e=>e.gmail===this.gmail))));let a=await this.codes.find((e=>e.code===t)),s=await this.codes.filter((e=>e.email===this.gmail));0===await this.codes.length||"undefined"===typeof a&&0===Object.keys(s).length?"undefined"!==typeof e?await e._id!==this.id?(this.verifyEmailSent=!0,this.codeError=!0,this.emailTaken=!0):(this.verifyEmailSent=!0,await Ke().post("/api/code",{email:this.gmail,code:t}),await Ke().post("/api/OTPMail",{email:this.gmail,code:t})):"undefined"===typeof e&&(this.verifyEmailSent=!0,await Ke().post("/api/code",{email:this.gmail,code:t}),await Ke().post("/api/OTPMail",{email:this.gmail,code:t})):(this.verifyEmailSent=!0,this.codeError=!0)},async confirmOTPEditInfo(){await Ke().get("/api/code").then((e=>this.codes=e.data));let e=await this.codes.find((e=>e.code===this.OTP&&e.email===this.gmail));this.codeError?this.incorrectCode=!0:await e?(this.authorized=!0,this.isActiveModal=!1):this.incorrectCode=!0},async verifyEmail(){await Ke().get("/api/code").then((e=>this.codes=e.data));let e=await this.codes.find((e=>e.code===this.OTP&&e.email===this.gmail));this.codeError?this.incorrectCode=!0:await e?(await Ke().put(`/api/admin/${this.id}`,{gmail:this.gmail,verified:!0}),await Ke().put("/session/admin",{gmail:this.gmail,verified:!0}),this.verified=!0,this.isActiveModal=!1,await!this.isActiveModal&&await Ke().get("/session/admin").then((e=>this.doctorDetails=e.data))):this.incorrectCode=!0},async updateInfo(){this.verified&&(await Ke().put(`/api/admin/${this.id}`,{licenseNo:this.licenseNo,name:this.fullname}),await Ke().put("/session/admin",{licenseNo:this.licenseNo,name:this.fullname}),await Ke().get("/session/admin").then((e=>this.fullname=e.data.fullname)),this.updateInfoSuccess=!0)},closeModal(){this.isActiveModal=!1}}};const pp=(0,c.Z)(up,[["render",dp],["__scopeId","data-v-2fa9ef62"]]);var hp=pp;const mp={class:"section is-medium"},vp={class:"subtitle has-text-centered"},gp=(0,l.Uk)(" You have been successfuly appointed to "),wp=(0,l.Uk)(" at "),_p=(0,l.Uk)(", "),bp=(0,l.Uk)(" - "),yp=(0,l.Uk)(" in "),fp=(0,l.Uk)(". "),kp={class:"subtitle has-text-centered"},Dp=(0,l.Uk)("Your "),Cp=(0,l._)("b",null,"priority number",-1),xp=(0,l.Uk)(" is "),Ap=(0,l._)("hr",null,null,-1),Sp=(0,l._)("h1",{class:"title"},"Patient Details ",-1),Pp=(0,l._)("br",null,null,-1),Up={class:"subtitle"},Mp=(0,l._)("b",null,"First Name:",-1),Np={class:"subtitle"},zp=(0,l._)("b",null,"Last Name:",-1),Ip={class:"subtitle"},Lp=(0,l._)("b",null,"Contact Number:",-1),Tp={class:"subtitle"},Hp=(0,l._)("b",null,"Birthday:",-1),qp={class:"subtitle"},Ep=(0,l._)("b",null,"Symptoms/Comments:",-1);function Vp(e,t,a,s,i,n){const o=(0,l.up)("NavigationTab");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(o),(0,l._)("section",mp,[(0,l._)("h1",vp,[gp,(0,l._)("b",null,(0,g.zw)(i.patient.doctor),1),wp,(0,l._)("b",null,(0,g.zw)(new Date(i.patient.schedule.date).toDateString()),1),_p,(0,l._)("b",null,(0,g.zw)(i.patient.schedule.timeStart),1),bp,(0,l._)("b",null,(0,g.zw)(i.patient.schedule.timeEnd),1),yp,(0,l._)("b",null,(0,g.zw)(i.patient.hospital),1),fp]),(0,l._)("h1",kp,[Dp,Cp,xp,(0,l._)("b",null,(0,g.zw)(i.patient.priorityNum),1)]),Ap,Sp,Pp,(0,l._)("h1",Up,[Mp,(0,l.Uk)(" "+(0,g.zw)(i.patient.firstName),1)]),(0,l._)("h1",Np,[zp,(0,l.Uk)(" "+(0,g.zw)(i.patient.lastName),1)]),(0,l._)("h1",Ip,[Lp,(0,l.Uk)(" "+(0,g.zw)(i.patient.contactNum),1)]),(0,l._)("h1",Tp,[Hp,(0,l.Uk)(" "+(0,g.zw)(i.patient.birthDay),1)]),(0,l._)("h1",qp,[Ep,(0,l.Uk)(" "+(0,g.zw)(i.patient.comments),1)])])],64)}var Op={name:"pickDoctorSuccess",data(){return{patient:m.state.patientDetails}},mounted(){m.commit("statusAvailability",!1)},components:{NavigationTab:$t}};const $p=(0,c.Z)(Op,[["render",Vp]]);var Rp=$p;const Yp={class:"container",style:{"margin-top":"20%"}},Bp=(0,l._)("h1",{class:"title has-text-centered"},"Profile image changed successfully, changes may take a few minutes to hours to take effect.",-1),Fp=(0,l._)("br",null,null,-1),jp=(0,l._)("h1",{class:"subtitle has-text-centered"},"Redirecting browser in 15 seconds.",-1),Wp=(0,l._)("h1",{class:"subtitle has-text-centered"},[(0,l.Uk)(" If the browser does not reload automatically, please click "),(0,l._)("a",{href:"/admin/login"},"here")],-1),Kp=[Bp,Fp,jp,Wp];function Gp(e,t,a,s,i,n){return(0,l.wg)(),(0,l.iD)("div",Yp,Kp)}var Zp={name:"imgUploadSuccess",created(){setTimeout((()=>{window.location.href="/admin/login",this.$store.commit("imgSuccess",!1)}),15e3)}};const Qp=(0,c.Z)(Zp,[["render",Gp]]);var Xp=Qp;const Jp={class:"container",style:{"margin-top":"20%"}},eh=(0,l._)("h1",{class:"title has-text-centered"},"Your account has been successfully created, please login onto your account and setup your schedule to start.",-1),th=(0,l._)("br",null,null,-1),ah=(0,l._)("h1",{class:"subtitle has-text-centered"},"Redirecting browser in 15 seconds.",-1),sh=(0,l._)("h1",{class:"subtitle has-text-centered"},[(0,l.Uk)(" If the browser does not reload automatically, please click "),(0,l._)("a",{href:"/admin/login"},"here")],-1),ih=[eh,th,ah,sh];function lh(e,t,a,s,i,n){return(0,l.wg)(),(0,l.iD)("div",Jp,ih)}var nh={name:"imageUploadSuccessAdmin",created(){setTimeout((()=>{window.location.href="/admin/login",this.$store.commit("imgSuccess",!1)}),15e3)}};const oh=(0,c.Z)(nh,[["render",lh]]);var ch=oh;const rh={class:"container",style:{"margin-top":"20%"}},dh=(0,l._)("h1",{class:"title has-text-centered"},"Hospital image changed successfully, changes may take a few minutes to hours to take effect.",-1),uh=(0,l._)("br",null,null,-1),ph=(0,l._)("h1",{class:"subtitle has-text-centered"},"Redirecting browser in 15 seconds.",-1),hh=(0,l._)("h1",{class:"subtitle has-text-centered"},[(0,l.Uk)(" If the browser does not reload automatically, please click "),(0,l._)("a",{href:"/admin/login"},"here")],-1),mh=[dh,uh,ph,hh];function vh(e,t,a,s,i,n){return(0,l.wg)(),(0,l.iD)("div",rh,mh)}var gh={name:"imgUploadSuccessManager",created(){setTimeout((()=>{window.location.href="/user/manager/login",this.$store.commit("imgSuccessManager",!1)}),15e3)}};const wh=(0,c.Z)(gh,[["render",vh]]);var _h=wh;const bh=e=>((0,l.dD)("data-v-3b15bf8e"),e=e(),(0,l.Cn)(),e),yh={class:"section"},fh={class:"container box",style:{width:"50%",margin:"auto"}},kh={class:"field is-horizontal"},Dh={class:"field-body"},Ch={class:"field"},xh={class:"control"},Ah=bh((()=>(0,l._)("label",{class:"label"},"First name:",-1))),Sh={class:"field"},Ph={class:"control"},Uh=bh((()=>(0,l._)("label",{class:"label"},"Last name:",-1))),Mh={class:"field is-horizontal"},Nh={class:"field-body"},zh={class:"field"},Ih={class:"control"},Lh=bh((()=>(0,l._)("label",{class:"label"},"Age:",-1))),Th=bh((()=>(0,l._)("br",null,null,-1))),Hh={class:"field"},qh={class:"control"},Eh=bh((()=>(0,l._)("label",{class:"label"},"Gender:",-1))),Vh={class:"radio"},Oh=(0,l.Uk)(" Male "),$h={class:"radio"},Rh=(0,l.Uk)(" Female "),Yh={class:"field is-horizontal"},Bh=bh((()=>(0,l._)("br",null,null,-1))),Fh={class:"field-body"},jh={class:"field"},Wh={class:"control"},Kh=bh((()=>(0,l._)("label",{class:"label"},"Contact Number:",-1))),Gh={class:"field"},Zh={class:"control"},Qh=bh((()=>(0,l._)("label",{class:"label"},"Gmail(Optional):",-1))),Xh={class:"field is-horizontal"},Jh={class:"field-body"},em={class:"field"},tm={class:"control"},am=bh((()=>(0,l._)("label",{class:"label"},"Province:",-1))),sm={class:"dropdown-trigger"},im={key:0},lm={key:1},nm={class:"dropdown-menu"},om=["onClick"],cm={class:"field"},rm={class:"control"},dm=bh((()=>(0,l._)("div",{class:"label"},"City/Municipality:",-1))),um={class:"dropdown-trigger"},pm=["disabled"],hm={key:0},mm={key:1},vm={class:"dropdown-menu"},gm=["onClick"],wm={class:"field"},_m={class:"control"},bm=bh((()=>(0,l._)("label",{class:"label"},"Current Address",-1))),ym={class:"field"},fm={class:"control"},km=bh((()=>(0,l._)("label",{class:"label"},"Username:",-1))),Dm={class:"subtitle has-text-danger"},Cm={class:"field is-horizontal"},xm={class:"field-body"},Am={class:"field"},Sm={class:"control"},Pm=bh((()=>(0,l._)("label",{class:"label"},"Password:",-1))),Um={class:"subtitle has-text-danger"},Mm={class:"field"},Nm={class:"control"},zm=bh((()=>(0,l._)("label",{class:"label"},"Repeat Password:",-1))),Im={class:"subtitle has-text-danger"},Lm={class:"checkbox"},Tm=(0,l.Uk)(" I agree to the "),Hm=bh((()=>(0,l._)("a",{href:"#"},"terms and conditions",-1))),qm=bh((()=>(0,l._)("br",null,null,-1))),Em={class:"has-text-right"},Vm=["disabled"];function Om(e,t,a,i,n,o){const c=(0,l.up)("NavigationTabVue");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c),(0,l._)("section",yh,[(0,l._)("div",fh,[(0,l._)("div",kh,[(0,l._)("div",Dh,[(0,l._)("div",Ch,[(0,l._)("p",xh,[Ah,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"First name","onUpdate:modelValue":t[0]||(t[0]=e=>a.firstName=e),required:""},null,512),[[s.nr,a.firstName]])])]),(0,l._)("div",Sh,[(0,l._)("p",Ph,[Uh,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Last name","onUpdate:modelValue":t[1]||(t[1]=e=>a.lastName=e),required:""},null,512),[[s.nr,a.lastName]])])])])]),(0,l._)("div",Mh,[(0,l._)("div",Nh,[(0,l._)("div",zh,[(0,l._)("p",Ih,[Lh,(0,l.wy)((0,l._)("input",{class:"input",type:"number",placeholder:"age","onUpdate:modelValue":t[2]||(t[2]=e=>a.age=e),required:""},null,512),[[s.nr,a.age]])])]),Th,(0,l._)("div",Hh,[(0,l._)("p",qh,[Eh,(0,l._)("label",Vh,[(0,l._)("input",{type:"radio",name:"sex",onClick:t[3]||(t[3]=(...e)=>o.sexMale&&o.sexMale(...e))}),Oh]),(0,l._)("label",$h,[(0,l._)("input",{type:"radio",name:"sex",onClick:t[4]||(t[4]=(...e)=>o.sexFemale&&o.sexFemale(...e))}),Rh])])])])]),(0,l._)("div",Yh,[Bh,(0,l._)("div",Fh,[(0,l._)("div",jh,[(0,l._)("p",Wh,[Kh,(0,l.wy)((0,l._)("input",{class:"input",type:"number",placeholder:"contact number","onUpdate:modelValue":t[5]||(t[5]=e=>a.contactNum=e),required:""},null,512),[[s.nr,a.contactNum]])])]),(0,l._)("div",Gh,[(0,l._)("p",Zh,[Qh,(0,l.wy)((0,l._)("input",{class:"input",type:"email",placeholder:"gmail","onUpdate:modelValue":t[6]||(t[6]=e=>a.gmail=e),required:""},null,512),[[s.nr,a.gmail]])])])])]),(0,l._)("div",Xh,[(0,l._)("div",Jh,[(0,l._)("div",em,[(0,l._)("div",tm,[am,(0,l._)("div",{class:(0,g.C_)(["dropdown",{"is-active":n.isActiveDropdownProvince}])},[(0,l._)("div",sm,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:t[7]||(t[7]=(...e)=>o.provinceDropdown&&o.provinceDropdown(...e))},[""==n.province?((0,l.wg)(),(0,l.iD)("span",im,"Select")):((0,l.wg)(),(0,l.iD)("span",lm,(0,g.zw)(n.province),1))])]),(0,l._)("div",nm,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.geolocationData,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e._id},[(0,l._)("a",{class:"dropdown-item",onClick:t=>o.selectProvince(e.province)},(0,g.zw)(e.province),9,om)])))),128))])],2)])]),(0,l._)("div",cm,[(0,l._)("div",rm,[dm,(0,l._)("div",{class:(0,g.C_)(["dropdown",{"is-active":n.isActiveDropdownCity}])},[(0,l._)("div",um,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:t[8]||(t[8]=(...e)=>o.cityDropdown&&o.cityDropdown(...e)),disabled:""==n.province},[""==n.city?((0,l.wg)(),(0,l.iD)("span",hm,"Select")):((0,l.wg)(),(0,l.iD)("span",mm,(0,g.zw)(n.city),1))],8,pm)]),(0,l._)("div",vm,[n.province?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(n.citiesData,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e.name},[(0,l._)("a",{class:"dropdown-item",onClick:t=>o.selectCity(e.name)},(0,g.zw)(e.name),9,gm)])))),128)):(0,l.kq)("",!0)])],2)])])])]),(0,l._)("div",wm,[(0,l._)("p",_m,[bm,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"your current address","onUpdate:modelValue":t[9]||(t[9]=e=>a.currentAddress=e),required:""},null,512),[[s.nr,a.currentAddress]])])]),(0,l._)("div",ym,[(0,l._)("p",fm,[km,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"username","onUpdate:modelValue":t[10]||(t[10]=e=>a.username=e),required:""},null,512),[[s.nr,a.username]])]),(0,l._)("p",Dm,(0,g.zw)(n.usernameEvaluate),1)]),(0,l._)("div",Cm,[(0,l._)("div",xm,[(0,l._)("div",Am,[(0,l._)("p",Sm,[Pm,(0,l.wy)((0,l._)("input",{class:"input",type:"password",placeholder:"password","onUpdate:modelValue":t[11]||(t[11]=e=>a.password=e),required:""},null,512),[[s.nr,a.password]])]),(0,l._)("p",Um,(0,g.zw)(n.passwordMatch),1)]),(0,l._)("div",Mm,[(0,l._)("p",Nm,[zm,(0,l.wy)((0,l._)("input",{class:"input",type:"password",placeholder:"repeat password","onUpdate:modelValue":t[12]||(t[12]=e=>a.passwordRepeat=e),required:""},null,512),[[s.nr,a.passwordRepeat]])]),(0,l._)("p",Im,(0,g.zw)(n.passwordMatch),1)])])]),(0,l._)("label",Lm,[(0,l._)("input",{type:"checkbox",onClick:t[13]||(t[13]=(...e)=>o.agreeTermsAndConditions&&o.agreeTermsAndConditions(...e))}),Tm,Hm]),qm,(0,l._)("div",Em,[(0,l._)("button",{class:"button is-primary",onClick:t[14]||(t[14]=e=>o.signup(e)),disabled:null==a.firstName||null==a.lastName||null==a.age||null==n.sex||null==a.contactNum||null==n.province||null==n.city||null==a.currentAddress||null==a.username||null==a.password||0==n.termsAndConditionsAgreed},"Confirm",8,Vm)])])])],64)}var $m={username:"UserSignUp",components:{NavigationTabVue:$t},props:{firstName:String,lastName:String,age:Number,contactNum:Number,gmail:String,currentAddress:String,username:String,password:String,passwordRepeat:String},data(){return{sex:null,evaluateData:null,usernameConfirm:null,usernameEvaluate:null,passwordMatch:null,geolocationData:[],isActiveDropdownProvince:!1,isActiveDropdownCity:!1,city:"",province:"",citiesData:[],termsAndConditionsAgreed:!1}},async mounted(){await Ke().get("/api/user").then((e=>this.evaluateData=e.data)),await Ke().get("/api/geolocation").then((e=>this.geolocationData=e.data))},methods:{agreeTermsAndConditions(){this.termsAndConditionsAgreed=!0},sexMale(){this.sex="Male"},sexFemale(){this.sex="Female"},async selectProvince(e){this.city="",this.province=e,this.isActiveDropdownProvince=!1,await Ke().get("/api/geolocation").then((t=>this.citiesData=t.data.find((t=>t.province===e)))),this.citiesData=await this.citiesData.citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1))},selectCity(e){this.city=e,this.isActiveDropdownCity=!1},provinceDropdown(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},cityDropdown(){this.isActiveDropdownCity=!this.isActiveDropdownCity},async signup(e){this.usernameConfirm=this.evaluateData.find((e=>e.username===this.username)),await this.password!==this.passwordRepeat?(this.passwordMatch="password do not match",await this.username&&("undefined"==typeof this.usernameConfirm?this.usernameEvaluate=null:await this.usernameConfirm.username===this.username&&(this.usernameEvaluate="username already taken")),await e.preventDefault()):(this.passwordMatch=null,await this.username&&("undefined"==typeof this.usernameConfirm?this.usernameEvaluate=null:await this.usernameConfirm.username===this.username&&(this.usernameEvaluate="username already taken",await e.preventDefault()))),await this.password===this.passwordRepeat&&null==this.usernameEvaluate&&(await Ke().post("/api/user",{username:this.username,password:this.password,name:[this.firstName,this.lastName],age:this.age,sex:this.sex,contactNum:this.contactNum,gmail:this.gmail,province:this.province,city:this.city,currentAddress:this.currentAddress}),await this.$store.commit("accountCreated",!0),await this.$router.push("/user/login"))}}};const Rm=(0,c.Z)($m,[["render",Om],["__scopeId","data-v-3b15bf8e"]]);var Ym=Rm;const Bm=e=>((0,l.dD)("data-v-0f1c7b30"),e=e(),(0,l.Cn)(),e),Fm={class:"section is-medium"},jm={class:"container has-text-centered animate__animated animate__fadeInLeft"},Wm={class:"box",style:{width:"40%",margin:"auto"}},Km={key:0,class:"notification is-success"},Gm=Bm((()=>(0,l._)("br",null,null,-1))),Zm=Bm((()=>(0,l._)("p",{class:"subtitle has-text-info has-text-left"},"Login to make an appointment.",-1))),Qm={class:"field"},Xm={class:"control"},Jm={class:"control",style:{"margin-top":"2%"}},ev={key:0,class:"subtitle has-text-danger"},tv={key:1,class:"subtitle has-text-danger"},av=Bm((()=>(0,l._)("br",null,null,-1))),sv=Bm((()=>(0,l._)("br",null,null,-1))),iv=Bm((()=>(0,l._)("h1",{class:"subtitle"},"OR",-1))),lv=Bm((()=>(0,l._)("a",{href:"/user/signup"},"Create an account",-1))),nv=Bm((()=>(0,l._)("p",{class:"notification is-info"},[(0,l.Uk)(" Are you one of our doctors? Click "),(0,l._)("a",{href:"/admin/login"},"here")],-1)));function ov(e,t,a,i,n,o){const c=(0,l.up)("NavigationTabVue"),r=(0,l.up)("ForgotPassword");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c),(0,l._)("section",Fm,[(0,l._)("div",jm,[(0,l._)("div",Wm,[n.newAccount?((0,l.wg)(),(0,l.iD)("p",Km,"Your account has been successfully created.")):(0,l.kq)("",!0),Gm,Zm,(0,l._)("div",Qm,[(0,l._)("div",Xm,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),placeholder:"username",required:""},null,512),[[s.nr,n.username]])]),(0,l._)("div",Jm,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),placeholder:"password",required:""},null,512),[[s.nr,n.password]])]),n.incorrectUserPass?((0,l.wg)(),(0,l.iD)("h1",ev,(0,g.zw)(n.validateMessage),1)):0==n.incorrectUserPass?((0,l.wg)(),(0,l.iD)("h1",tv,(0,g.zw)(n.validateMessage),1)):(0,l.kq)("",!0),(0,l._)("button",{type:"button",class:"button is-primary",onClick:t[2]||(t[2]=(...e)=>o.login&&o.login(...e))},"Login"),av,sv,iv,lv]),nv,(0,l.Wm)(r,{userType:"patient"})])])])],64)}var cv={username:"UserLogin",components:{NavigationTabVue:$t,ForgotPassword:Qi},data(){return{username:null,password:null,userPatient:null,validateMessage:null,incorrectUserPass:Boolean,newAccount:!1}},async mounted(){1==this.$store.state.accountCreated&&(this.newAccount=!0,await this.$store.commit("accountCreated",!1)),await Ke().get("/session/patient").then((e=>this.userPatient=e.data)),await this.userPatient.username&&(Et.connect(),this.$store.commit("patientUsername",this.userPatient.username),this.$store.commit("patientID",this.userPatient._id),await this.$router.push(`/user/${this.userPatient.username}`))},methods:{async login(){null==this.username&&null==this.password?(this.incorrectUserPass=!1,this.validateMessage="empty username or password"):(await Ke().post("/api/auth/patient",{username:this.username,password:this.password}).then((e=>this.userPatient=e.data)),!1!==await this.userPatient?(Et.connect(),m.commit("patientUsername",this.userPatient.username),m.commit("patientID",this.userPatient._id),await this.$router.push(`/user/${this.userPatient.username}`),await Ke().post("/session/patient",{_id:this.userPatient._id,name:this.userPatient.name,email:this.userPatient.gmail,username:this.username,province:this.userPatient.province,city:this.userPatient.city,currentAddress:this.userPatient.currentAddress})):(this.validateMessage="Incorrect username or password",this.incorrectUserPass=!0,this.username=null,this.password=null))}}};const rv=(0,c.Z)(cv,[["render",ov],["__scopeId","data-v-0f1c7b30"]]);var dv=rv,uv={setup(e){return(e,t)=>((0,l.wg)(),(0,l.j4)((0,di.SU)(Bt)))}};const pv=uv;var hv=pv;const mv=e=>((0,l.dD)("data-v-b84de3f2"),e=e(),(0,l.Cn)(),e),vv={class:"section is-medium"},gv={class:"columns"},wv={class:"column is-5"},_v={key:0,class:"box"},bv={key:0,class:"notification is-danger"},yv={key:1,class:"notification is-success"},fv={class:"field is-horizontal"},kv={class:"field-body"},Dv={class:"field"},Cv=mv((()=>(0,l._)("label",{class:"label"},"Username:",-1))),xv={class:"controls"},Av={class:"field"},Sv=mv((()=>(0,l._)("label",{class:"label"},"Email:",-1))),Pv={class:"controls"},Uv={class:"field is-horizontal"},Mv={class:"field-body"},Nv={class:"field"},zv=mv((()=>(0,l._)("label",{class:"label"},"First Name:",-1))),Iv={class:"controls"},Lv={class:"field"},Tv=mv((()=>(0,l._)("label",{class:"label"},"Last Name:",-1))),Hv={class:"controls"},qv={class:"field is-horizontal"},Ev={class:"field-body"},Vv={class:"field"},Ov={class:"control"},$v=mv((()=>(0,l._)("label",{class:"label"},"Province:",-1))),Rv={class:"dropdown-trigger"},Yv={key:0},Bv={key:1},Fv={class:"dropdown-menu"},jv=["onClick"],Wv={class:"field"},Kv={class:"control"},Gv=mv((()=>(0,l._)("div",{class:"label"},"City/Municipality:",-1))),Zv={class:"dropdown-trigger"},Qv=["disabled"],Xv={key:0},Jv={key:1},eg={class:"dropdown-menu"},tg=["onClick"],ag={class:"field"},sg=mv((()=>(0,l._)("label",{class:"label"},"Current Address:",-1))),ig={class:"controls"},lg={class:"column",style:{overflow:"auto","max-height":"30em"}},ng={key:0,class:"table-container box"},og=mv((()=>(0,l._)("h1",{class:"title"},"Ongoing Appointments",-1))),cg={class:"table is-striped is-narrow is-fullwidth is-bordered"},rg=mv((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Schedule"),(0,l._)("th",{class:"has-text-black-ter"},"Priority No."),(0,l._)("th",{class:"has-text-black-ter"},"Hospital Appointed"),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Contact Number"),(0,l._)("th",{class:"has-text-black-ter"},"Birthday"),(0,l._)("th",{class:"has-text-black-ter"},"Symptoms/Comments")])],-1))),dg=["onClick"],ug=mv((()=>(0,l._)("br",null,null,-1))),pg={class:"has-text-black-ter"},hg={class:"has-text-black-ter"},mg={class:"has-text-black-ter"},vg={class:"has-text-black-ter"},gg={class:"has-text-black-ter"},wg={class:"has-text-black-ter"},_g={class:"has-text-black-ter"},bg={class:"has-text-black-ter"},yg={key:1,class:"container"},fg=mv((()=>(0,l._)("div",{class:"notification is-info"},"You do not have any ongoing appointments.",-1))),kg=[fg];var Dg={setup(e){const t=(0,u.oR)();let a=(0,di.iH)([]),i=(0,di.iH)([]),n=(0,di.iH)([]),o=(0,di.iH)([]),c=(0,di.iH)(""),r=(0,di.iH)(""),d=(0,di.iH)(!1),p=(0,di.iH)(!1),h=(0,di.iH)(""),m=(0,di.iH)(!1);(0,l.bv)((async()=>{await Ke().get("/api/appointmentList").then((e=>a.value=e.data.filter((e=>e.patientID===t.state.patientID)))),await Ke().get("/session/patient").then((e=>i.value=e.data)),await Ke().get("/api/geolocation").then((e=>n.value=e.data)),c.value=await i.value.province,r.value=await i.value.city,await Ke().get("/api/geolocation").then((e=>o.value=e.data.find((e=>e.province===c.value)))),o.value=await o.value.citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1))}));const v=(0,l.Fl)((()=>a.value.sort(((e,t)=>new Date(e.schedule[0].date).getTime()-new Date(t.schedule[0].date).getTime())).filter((e=>new Date(e.schedule[0].date).getMonth()>(new Date).getMonth()))));async function w(e){d.value=!1,r.value="",c.value=e,await Ke().get("/api/geolocation").then((t=>o.value=t.data.find((t=>t.province===e)))),o.value=await o.value.citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1))}function _(e){p.value=!1,r.value=e}async function b(){try{await Ke().put("/session/patient/",{name:[i.value.name[0],i.value.name[1]],province:c.value,city:r.value,currentAddress:i.value.currentAddress}),await Ke().put(`/api/user/${i.value._id}`,{name:[i.value.name[0],i.value.name[1]],province:c.value,city:r.value,currentAddress:i.value.currentAddress}),m.value=!0,h.value="",await Ke().get("/session/patient").then((e=>i.value=e.data)),await Ke().get("/api/geolocation").then((e=>n.value=e.data)),c.value=await i.value.province,r.value=await i.value.city,await Ke().get("/api/geolocation").then((e=>o.value=e.data.find((e=>e.province===c.value)))),o.value=await o.value.citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1))}catch(e){h.value=e}}async function y(e){try{await Ke()["delete"](`/api/appointmentList/${e}`),await Ke().get("/api/appointmentList").then((e=>a.value=e.data.filter((e=>e.patientID===t.state.patientID))))}catch(s){h.value=s}}return(e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)($t),(0,l._)("section",vv,[(0,l._)("div",gv,[(0,l._)("div",wv,[0!==(0,di.SU)(i).length?((0,l.wg)(),(0,l.iD)("div",_v,[(0,di.SU)(h)?((0,l.wg)(),(0,l.iD)("div",bv,(0,g.zw)((0,di.SU)(h)),1)):(0,l.kq)("",!0),(0,di.SU)(m)?((0,l.wg)(),(0,l.iD)("div",yv,"Changes have been pushed.")):(0,l.kq)("",!0),(0,l._)("div",fv,[(0,l._)("div",kv,[(0,l._)("div",Dv,[Cv,(0,l._)("div",xv,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>(0,di.SU)(i).username=e),disabled:""},null,512),[[s.nr,(0,di.SU)(i).username]])])]),(0,l._)("div",Av,[Sv,(0,l._)("div",Pv,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=e=>(0,di.SU)(i).email=e)},null,512),[[s.nr,(0,di.SU)(i).email]])])])])]),(0,l._)("div",Uv,[(0,l._)("div",Mv,[(0,l._)("div",Nv,[zv,(0,l._)("div",Iv,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":t[2]||(t[2]=e=>(0,di.SU)(i).name[0]=e)},null,512),[[s.nr,(0,di.SU)(i).name[0]]])])]),(0,l._)("div",Lv,[Tv,(0,l._)("div",Hv,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":t[3]||(t[3]=e=>(0,di.SU)(i).name[1]=e)},null,512),[[s.nr,(0,di.SU)(i).name[1]]])])])])]),(0,l._)("div",qv,[(0,l._)("div",Ev,[(0,l._)("div",Vv,[(0,l._)("div",Ov,[$v,(0,l._)("div",{class:(0,g.C_)(["dropdown",{"is-active":(0,di.SU)(d)}])},[(0,l._)("div",Rv,[(0,l._)("button",{class:"button",onClick:t[4]||(t[4]=e=>(0,di.dq)(d)?d.value=!(0,di.SU)(d):d=!(0,di.SU)(d))},[""==(0,di.SU)(c)?((0,l.wg)(),(0,l.iD)("span",Yv,"Select")):((0,l.wg)(),(0,l.iD)("span",Bv,(0,g.zw)((0,di.SU)(c)),1))])]),(0,l._)("div",Fv,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,di.SU)(n),(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e._id},[(0,l._)("a",{class:"dropdown-item",onClick:t=>w(e.province)},(0,g.zw)(e.province),9,jv)])))),128))])],2)])]),(0,l._)("div",Wv,[(0,l._)("div",Kv,[Gv,(0,l._)("div",{class:(0,g.C_)(["dropdown",{"is-active":(0,di.SU)(p)}])},[(0,l._)("div",Zv,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:t[5]||(t[5]=e=>(0,di.dq)(p)?p.value=!(0,di.SU)(p):p=!(0,di.SU)(p)),disabled:""==(0,di.SU)(c)},[""==(0,di.SU)(r)?((0,l.wg)(),(0,l.iD)("span",Xv,"Select")):((0,l.wg)(),(0,l.iD)("span",Jv,(0,g.zw)((0,di.SU)(r)),1))],8,Qv)]),(0,l._)("div",eg,[(0,di.SU)(c)?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)((0,di.SU)(o),(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e.name},[(0,l._)("a",{class:"dropdown-item",onClick:t=>_(e.name)},(0,g.zw)(e.name),9,tg)])))),128)):(0,l.kq)("",!0)])],2)])]),(0,l._)("div",ag,[sg,(0,l._)("div",ig,[(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":t[6]||(t[6]=e=>(0,di.SU)(i).currentAddress=e)},null,512),[[s.nr,(0,di.SU)(i).currentAddress]])])])])]),(0,l._)("div",{class:"field is-grouped is-grouped-right"},[(0,l._)("p",{class:"control"},[(0,l._)("a",{class:"button is-primary",onClick:b},"Save changes")])])])):(0,l.kq)("",!0)]),(0,l._)("div",lg,[0!==Object.keys((0,di.SU)(v)).length?((0,l.wg)(),(0,l.iD)("div",ng,[og,(0,l._)("table",cg,[rg,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,di.SU)(v),(e=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-danger",type:"button",onClick:t=>y(e._id)},"Cancel",8,dg),ug,(0,l._)("th",pg,(0,g.zw)(new Date(e.schedule[0].date).toDateString()),1),(0,l._)("th",hg,(0,g.zw)(e.priorityNum),1),(0,l._)("th",mg,(0,g.zw)(e.hospital),1),(0,l._)("td",vg,(0,g.zw)(e.firstName),1),(0,l._)("td",gg,(0,g.zw)(e.lastName),1),(0,l._)("td",wg,(0,g.zw)(e.contactNum),1),(0,l._)("td",_g,(0,g.zw)(e.birthDay),1),(0,l._)("td",bg,(0,g.zw)(e.comments),1)])])))),128))])])):((0,l.wg)(),(0,l.iD)("div",yg,kg))])])])],64))}};const Cg=(0,c.Z)(Dg,[["__scopeId","data-v-b84de3f2"]]);var xg=Cg;const Ag=e=>((0,l.dD)("data-v-524a326d"),e=e(),(0,l.Cn)(),e),Sg={class:"section"},Pg={class:"box",style:{width:"50%",margin:"auto"}},Ug=Ag((()=>(0,l._)("h1",{class:"title"},"Security",-1))),Mg={key:0,class:"notification is-danger"},Ng={key:1,class:"notification is-success"},zg={class:"field"},Ig={class:"control"},Lg=Ag((()=>(0,l._)("label",{class:"label"},"Current Password:",-1))),Tg={class:"field"},Hg={class:"control"},qg=Ag((()=>(0,l._)("label",{class:"label"},"New Password:",-1))),Eg={key:0,class:"help is-danger"},Vg={class:"field"},Og={class:"control"},$g=Ag((()=>(0,l._)("label",{class:"label"},"Confirm Password:",-1))),Rg={key:0,class:"help is-danger"},Yg=(0,l.Uk)(" Show password "),Bg={class:"field has-text-right"},Fg={class:"control"},jg=["disabled"];var Wg={setup(e){let t=(0,di.iH)([]),a=(0,di.iH)(""),i=(0,di.iH)(""),n=(0,di.iH)(""),o=(0,di.iH)(""),c=(0,di.iH)(!1),r=(0,di.iH)(!1);function d(){let e=document.getElementsByClassName("password");for(let t=0;t<e.length;t++)"password"===e[t].type?e[t].type="text":e[t].type="password"}async function u(){if(""!==a.value&&i.value,i.value!==n.value?r.value=!0:r.value=!1,!r.value)try{await Ke().put("/api/updatePassword/patient",{patientID:t.value._id,currentPassword:a.value,newPassword:i.value}),a.value="",i.value="",n.value="",c.value=!0,o.value=""}catch(e){o.value=e.response.data,c.value=!1}}return(0,l.bv)((async()=>{await Ke().get("/session/patient").then((e=>t.value=e.data))})),(e,p)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)($t),(0,l._)("section",Sg,[(0,l._)("div",Pg,[Ug,(0,di.SU)(o)?((0,l.wg)(),(0,l.iD)("div",Mg,(0,g.zw)((0,di.SU)(o)),1)):(0,l.kq)("",!0),(0,di.SU)(c)?((0,l.wg)(),(0,l.iD)("div",Ng,"Password changed successfully.")):(0,l.kq)("",!0),(0,l._)("div",zg,[(0,l._)("div",Ig,[Lg,(0,l.wy)((0,l._)("input",{class:"input password","onUpdate:modelValue":p[0]||(p[0]=e=>(0,di.dq)(a)?a.value=e:a=e),type:"password",placeholder:"Current password"},null,512),[[s.nr,(0,di.SU)(a)]])])]),(0,l._)("div",Tg,[(0,l._)("div",Hg,[qg,(0,l.wy)((0,l._)("input",{class:"input password","onUpdate:modelValue":p[1]||(p[1]=e=>(0,di.dq)(i)?i.value=e:i=e),type:"password",placeholder:"New password"},null,512),[[s.nr,(0,di.SU)(i)]])]),(0,di.SU)(r)?((0,l.wg)(),(0,l.iD)("p",Eg,"Password do not match.")):(0,l.kq)("",!0)]),(0,l._)("div",Vg,[(0,l._)("div",Og,[$g,(0,l.wy)((0,l._)("input",{class:"input password","onUpdate:modelValue":p[2]||(p[2]=e=>(0,di.dq)(n)?n.value=e:n=e),type:"password",placeholder:"Confirm password"},null,512),[[s.nr,(0,di.SU)(n)]])]),(0,di.SU)(r)?((0,l.wg)(),(0,l.iD)("p",Rg,"Password do not match.")):(0,l.kq)("",!0)]),(0,l._)("div",{class:"field"},[(0,l._)("div",{class:"control"},[(0,l._)("label",{class:"checkbox"},[(0,l._)("input",{type:"checkbox",onClick:d}),Yg])])]),(0,l._)("div",Bg,[(0,l._)("div",Fg,[(0,l._)("button",{class:"button is-danger",onClick:u,disabled:""===(0,di.SU)(a)||""===(0,di.SU)(i)||""===(0,di.SU)(n)},"Change password",8,jg)])]),(0,l.Wm)(Qi,{userType:"patient",username:(0,di.SU)(t).username,email:(0,di.SU)(t).email},null,8,["username","email"])])])],64))}};const Kg=(0,c.Z)(Wg,[["__scopeId","data-v-524a326d"]]);var Gg=Kg;const Zg={class:"columns"},Qg={class:"column is-2"},Xg={class:"navbar is-hidden-desktop"},Jg={class:"navbar-brand"},ew={class:"navbar-item"},tw=(0,l._)("span",{"aria-hidden":"true"},null,-1),aw=(0,l._)("span",{"aria-hidden":"true"},null,-1),sw=(0,l._)("span",{"aria-hidden":"true"},null,-1),iw=[tw,aw,sw],lw={class:"subtitle is-6 is-hidden-mobile"},nw=(0,l._)("p",{class:"menu-label"},"General",-1),ow={class:"menu-list"},cw=(0,l._)("p",{class:"menu-label"},"Accounts",-1),rw={class:"menu-list"},dw=(0,l._)("p",{class:"menu-label"},"Operations",-1),uw={class:"menu-list"},pw=(0,l._)("hr",null,null,-1),hw={class:"column",style:{overflow:"auto"}},mw={class:"section"},vw={key:0,class:"columns is-multiline"},gw=(0,l.uE)('<div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=624199be-220b-4ba6-8f32-84eb27e8aa13&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b58b-377f-452d-8971-c364718db3ff&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="340" height="240" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b7a6-a205-4291-8c3b-da5132939df6&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="320" height="240" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b45e-220b-4919-8476-84eb27f87521&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="320" height="240" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241a5a0-797a-4051-869a-5157a21251ca&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div><div class="column"><iframe style="background:#21313C;border:none;border-radius:2px;box-shadow:0 2px 10px 0 rgba(70, 76, 79, .2);" width="530" height="480" src="https://charts.mongodb.com/charts-project-0-pxqjj/embed/charts?id=6241b38b-0445-478b-8bf9-19a45abf8264&amp;maxDataAge=86400&amp;theme=dark&amp;autoRefresh=true"></iframe></div>',6),ww=[gw],_w={key:1,class:"controls"},bw=(0,l._)("label",{class:"label"},"Search:",-1),yw=(0,l._)("br",null,null,-1),fw={class:"table-container"},kw=(0,l._)("div",{class:"modal-background"},null,-1),Dw={class:"modal-content"},Cw={class:"card"},xw={class:"card-content"},Aw={class:"content"},Sw={class:"dropdown-trigger"},Pw={class:"dropdown-menu block"},Uw={class:"dropdown-content"},Mw=(0,l._)("div",{class:"block"},null,-1),Nw={class:"dropdown-trigger"},zw={class:"dropdown-menu block"},Iw={class:"dropdown-content"},Lw={class:"field has-text-centered"},Tw=(0,l._)("label",{class:"label"},"New Email",-1),Hw={class:"control"},qw={key:0,class:"table is-striped is-fullwidth is-narrow is-bordered"},Ew=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Status"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"Pricing"),(0,l._)("th",{class:"has-text-black-ter"},"Hospital"),(0,l._)("th",{class:"has-text-black-ter"},"Email"),(0,l._)("th",{class:"has-text-black-ter"},"Province"),(0,l._)("th",{class:"has-text-black-ter"},"City"),(0,l._)("th",{class:"has-text-black-ter"},"Barangay or Street"),(0,l._)("th",{class:"has-text-black-ter"},"Latitude"),(0,l._)("th",{class:"has-text-black-ter"},"longitude"),(0,l._)("th",{class:"has-text-black-ter"},"Specializations")])],-1),Vw=["onClick"],Ow=["onClick"],$w={key:0,class:"has-text-success"},Rw={key:1,class:"has-text-danger"},Yw={class:"has-text-black-ter"},Bw={class:"has-text-black-ter"},Fw={class:"has-text-black-ter"},jw={class:"has-text-black-ter"},Ww={class:"has-text-black-ter"},Kw={class:"has-text-black-ter"},Gw={class:"has-text-black-ter"},Zw={class:"has-text-black-ter"},Qw={class:"has-text-black-ter"},Xw={class:"has-text-black-ter"},Jw={key:1,class:"table is-striped is-fullwidth is-narrow is-bordered"},e_=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"Alias"),(0,l._)("th",{class:"has-text-black-ter"},"Full Name"),(0,l._)("th",{class:"has-text-black-ter"},"Specialist"),(0,l._)("th",{class:"has-text-black-ter"},"Gmail"),(0,l._)("th",{class:"has-text-black-ter"},"Schedules")])],-1),t_=["onClick"],a_=["onClick"],s_={class:"has-text-black-ter"},i_={class:"has-text-black-ter"},l_={class:"has-text-black-ter"},n_={class:"has-text-black-ter"},o_={class:"has-text-black-ter"},c_={class:"has-text-black-ter"},r_={key:2,class:"table is-striped is-fullwidth is-narrow is-bordered"},d_=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"First Name"),(0,l._)("th",{class:"has-text-black-ter"},"Last Name"),(0,l._)("th",{class:"has-text-black-ter"},"Age"),(0,l._)("th",{class:"has-text-black-ter"},"Sex"),(0,l._)("th",{class:"has-text-black-ter"},"Contact No."),(0,l._)("th",{class:"has-text-black-ter"},"Gmail"),(0,l._)("th",{class:"has-text-black-ter"},"Province"),(0,l._)("th",{class:"has-text-black-ter"},"City")])],-1),u_=["onClick"],p_=["onClick"],h_={class:"has-text-black-ter"},m_={class:"has-text-black-ter"},v_={class:"has-text-black-ter"},g_={class:"has-text-black-ter"},w_={class:"has-text-black-ter"},__={class:"has-text-black-ter"},b_={class:"has-text-black-ter"},y_={class:"has-text-black-ter"},f_={class:"has-text-black-ter"},k_={key:3,class:"table is-striped is-fullwidth is-narrow is-bordered"},D_=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"Status"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"ID"),(0,l._)("th",{class:"has-text-black-ter"},"Type"),(0,l._)("th",{class:"has-text-black-ter"},"Email"),(0,l._)("th",{class:"has-text-black-ter"},"Subject"),(0,l._)("th",{class:"has-text-black-ter"},"Problem")])],-1),C_=["onClick"],x_=["onClick"],A_=["onClick"],S_={key:2,class:"has-text-success"},P_={key:3,class:"has-text-danger"},U_={class:"has-text-black-ter"},M_={class:"has-text-black-ter"},N_={class:"has-text-black-ter"},z_={class:"has-text-black-ter"},I_={class:"has-text-black-ter"},L_={class:"has-text-black-ter"},T_=["onClick"],H_={class:"subtitle has-text-black"},q_={class:"table is-striped is-fullwidth is-narrow is-bordered"},E_=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"City/Municipality"),(0,l._)("th",{class:"has-text-black-ter"},"Postal Code"),(0,l._)("th",{class:"has-text-black-ter"},"Latitude"),(0,l._)("th",{class:"has-text-black-ter"},"Longitude")])],-1),V_=["onClick"],O_={class:"has-text-black-ter"},$_={class:"has-text-black-ter"},R_={class:"has-text-black-ter"},Y_={class:"has-text-black-ter"},B_={class:"has-text-black-ter"},F_={key:2,class:"section",style:{width:"50%"}},j_={class:"field"},W_=(0,l._)("h1",{class:"title"},"Create a new Province",-1),K_={class:"control"},G_=(0,l._)("label",{class:"label"},"Province",-1),Z_=["disabled"],Q_={key:0,class:"has-text-success"},X_={class:"field"},J_=(0,l._)("h1",{class:"title"},"Push City/Municipality into a Province",-1),eb={class:"control"},tb={class:"dropdown-trigger"},ab={key:0},sb={key:1},ib={class:"dropdown-menu",id:"dropdown-menu",role:"menu"},lb=["onClick"],nb=(0,l._)("br",null,null,-1),ob=(0,l._)("br",null,null,-1),cb=(0,l._)("label",{class:"label"},"City/Municipality",-1),rb=(0,l._)("span",null,"e.g Bais City or Bindoy Municipality",-1),db=(0,l._)("label",{class:"label"},"Postal Code",-1),ub=(0,l._)("label",{class:"label"},"Latitude N",-1),pb=(0,l._)("label",{class:"label"},"longitude E",-1),hb=["disabled"],mb={key:0,class:"has-text-success"};function vb(e,t,a,i,n,o){return(0,l.wg)(),(0,l.iD)("div",Zg,[(0,l._)("div",Qg,[(0,l._)("nav",Xg,[(0,l._)("div",Jg,[(0,l._)("p",ew,"Hello: "+(0,g.zw)(n.superUser),1),(0,l._)("a",{role:"button",class:(0,g.C_)(["navbar-burger",{"is-active":!n.isActiveMenu}]),onClick:t[0]||(t[0]=e=>n.isActiveMenu=!n.isActiveMenu)},iw,2)])]),(0,l._)("aside",{class:(0,g.C_)(["menu box",{"is-hidden-mobile":n.isActiveMenu,fixedMenu:n.isActiveMenu}]),style:{"background-color":"white",padding:"20px",height:"100vh"}},[(0,l._)("p",lw,"Hello "+(0,g.zw)(n.superUser),1),nw,(0,l._)("ul",ow,[(0,l._)("li",null,[(0,l._)("a",{onClick:t[1]||(t[1]=(...e)=>o.dashboard&&o.dashboard(...e))},"Dashboard")])]),cw,(0,l._)("ul",rw,[(0,l._)("li",null,[(0,l._)("a",{class:(0,g.C_)({"is-active":n.isActiveManager}),onClick:t[2]||(t[2]=(...e)=>o.manager&&o.manager(...e))},"Manager accounts",2)]),(0,l._)("li",null,[(0,l._)("a",{class:(0,g.C_)({"is-active":n.isActiveDoctor}),onClick:t[3]||(t[3]=(...e)=>o.doctor&&o.doctor(...e))},"Doctor accounts",2)]),(0,l._)("li",null,[(0,l._)("a",{class:(0,g.C_)({"is-active":n.isActivePatient}),onClick:t[4]||(t[4]=(...e)=>o.patient&&o.patient(...e))},"Patient accounts",2)])]),dw,(0,l._)("ul",uw,[(0,l._)("li",null,[(0,l._)("a",{class:(0,g.C_)({"is-active":n.isActiveGeolocation}),onClick:t[5]||(t[5]=(...e)=>o.geolocation&&o.geolocation(...e))},"Geolocation",2)]),(0,l._)("li",null,[(0,l._)("a",{class:(0,g.C_)({"is-active":n.isActiveTickets}),onClick:t[6]||(t[6]=(...e)=>o.tickets&&o.tickets(...e))},"Tickets",2)])]),pw,(0,l._)("button",{class:"button is-danger",onClick:t[7]||(t[7]=(...e)=>o.logout&&o.logout(...e))},"Logout")],2)]),(0,l._)("div",hw,[(0,l._)("section",mw,[n.isActiveDashboard?((0,l.wg)(),(0,l.iD)("div",vw,ww)):(0,l.kq)("",!0),n.isActiveManager||n.isActiveDoctor||n.isActivePatient||n.isActiveGeolocation||n.isActiveTickets?((0,l.wg)(),(0,l.iD)("div",_w,[bw,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Search...","onUpdate:modelValue":t[8]||(t[8]=e=>n.searchBar=e)},null,512),[[s.nr,n.searchBar]])])):(0,l.kq)("",!0),yw,(0,l._)("div",fw,[(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":n.isActiveModal}])},[kw,(0,l._)("div",Dw,[(0,l._)("div",Cw,[(0,l._)("div",xw,[(0,l._)("div",Aw,["manager"==n.type?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,g.C_)(["dropdown",{"is-active":n.isActiveDropdownEditStatus}])},[(0,l._)("div",Sw,[(0,l._)("button",{class:"button is-danger",onClick:t[9]||(t[9]=(...e)=>o.dropdown&&o.dropdown(...e))},"Edit Status")]),(0,l._)("div",Pw,[(0,l._)("div",Uw,[(0,l._)("a",{class:(0,g.C_)(["dropdown-item",{"is-active":n.isActiveDropdownItemOne}]),onClick:t[10]||(t[10]=(...e)=>o.statusActive&&o.statusActive(...e))},"Active",2),(0,l._)("a",{class:(0,g.C_)(["dropdown-item",{"is-active":n.isActiveDropdownItemTwo}]),onClick:t[11]||(t[11]=(...e)=>o.statusInactive&&o.statusInactive(...e))},"Inactive",2)])])],2)):(0,l.kq)("",!0),Mw,"manager"==n.type?((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,g.C_)(["dropdown",{"is-active":n.isActiveDropdownEditPricing}])},[(0,l._)("div",Nw,[(0,l._)("button",{class:"button is-link",onClick:t[12]||(t[12]=(...e)=>o.dropdownPricing&&o.dropdownPricing(...e))},"Edit Pricing")]),(0,l._)("div",zw,[(0,l._)("div",Iw,[(0,l._)("a",{class:(0,g.C_)(["dropdown-item",{"is-active":n.isActiveDropdownPricingItemOne}]),onClick:t[13]||(t[13]=(...e)=>o.pricingStandard&&o.pricingStandard(...e))},"Standard",2),(0,l._)("a",{class:(0,g.C_)(["dropdown-item",{"is-active":n.isActiveDropdownPricingItemTwo}]),onClick:t[14]||(t[14]=(...e)=>o.pricingPremium&&o.pricingPremium(...e))},"Premium",2)])])],2)):(0,l.kq)("",!0),(0,l._)("form",Lw,[Tw,(0,l._)("div",Hw,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[15]||(t[15]=e=>n.email=e),placeholder:"Gmail, Yahoo mail...",required:""},null,512),[[s.nr,n.email]])]),(0,l._)("button",{class:"button is-primary",type:"button",onClick:t[16]||(t[16]=(...e)=>o.updateData&&o.updateData(...e))},"Submit")])])])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[17]||(t[17]=(...e)=>o.closeModal&&o.closeModal(...e))})])],2),n.isActiveManager?((0,l.wg)(),(0,l.iD)("table",qw,[Ew,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.managerAccountsIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:t=>o.managerEdit(e._id,e.email)},"Edit",8,Vw),(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:t=>o.managerDelete(e._id)},"Delete",8,Ow),"Active"==e.status?((0,l.wg)(),(0,l.iD)("td",$w,(0,g.zw)(e.status),1)):(0,l.kq)("",!0),"Inactive"==e.status?((0,l.wg)(),(0,l.iD)("td",Rw,(0,g.zw)(e.status),1)):(0,l.kq)("",!0),(0,l._)("td",Yw,(0,g.zw)(t+1),1),(0,l._)("td",Bw,(0,g.zw)(e.pricing),1),(0,l._)("td",Fw,(0,g.zw)(e.hospital),1),(0,l._)("td",jw,(0,g.zw)(e.email),1),(0,l._)("td",Ww,(0,g.zw)(e.province),1),(0,l._)("td",Kw,(0,g.zw)(e.city),1),(0,l._)("td",Gw,(0,g.zw)(e.barangayORStreet),1),(0,l._)("td",Zw,(0,g.zw)(e.location.coordinates[1]),1),(0,l._)("td",Qw,(0,g.zw)(e.location.coordinates[0]),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.specializations,(e=>((0,l.wg)(),(0,l.iD)("td",Xw,(0,g.zw)(e.specialist),1)))),256))])])))),128))])):(0,l.kq)("",!0),n.isActiveDoctor?((0,l.wg)(),(0,l.iD)("table",Jw,[e_,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.doctorAccountsIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:t=>o.doctorRecoverEmail(e._id,e.gmail)},"Recover",8,t_),(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:t=>o.doctorDelete(e._id)},"Delete",8,a_),(0,l._)("td",s_,(0,g.zw)(t+1),1),(0,l._)("td",i_,(0,g.zw)(e.alias),1),(0,l._)("td",l_,(0,g.zw)(e.name),1),(0,l._)("td",n_,(0,g.zw)(e.specialist.toString()),1),(0,l._)("td",o_,(0,g.zw)(e.gmail),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.schedule,(e=>((0,l.wg)(),(0,l.iD)("td",c_,(0,g.zw)(e.date),1)))),256))])])))),128))])):(0,l.kq)("",!0),n.isActivePatient?((0,l.wg)(),(0,l.iD)("table",r_,[d_,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.patientAccountsIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:t=>o.patientRecoverEmail(e._id,e.gmail)},"Recover",8,u_),(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:t=>o.patientDelete(e._id)},"Delete",8,p_),(0,l._)("td",h_,(0,g.zw)(t+1),1),(0,l._)("td",m_,(0,g.zw)(e.name[0]),1),(0,l._)("td",v_,(0,g.zw)(e.name[1]),1),(0,l._)("td",g_,(0,g.zw)(e.age),1),(0,l._)("td",w_,(0,g.zw)(e.sex),1),(0,l._)("td",__,(0,g.zw)(e.contactNum),1),(0,l._)("td",b_,(0,g.zw)(e.gmail),1),(0,l._)("td",y_,(0,g.zw)(e.province),1),(0,l._)("td",f_,(0,g.zw)(e.city),1)])])))),128))])):(0,l.kq)("",!0),n.isActiveTickets?((0,l.wg)(),(0,l.iD)("table",k_,[D_,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.ticketsIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("tbody",{key:e.id},[(0,l._)("tr",null,[e.active?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"dropdown-item button has-text-info",type:"button",onClick:t=>o.closeTicket(e.id)},"Close Ticket",8,C_)):(0,l.kq)("",!0),e.active?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:1,class:"dropdown-item button has-text-info",type:"button",onClick:t=>o.reopenTicket(e.id)},"Reopen Ticket",8,x_)),(0,l._)("button",{class:"dropdown-item button has-text-danger",type:"button",onClick:t=>o.deleteTicket(e.id,e.type,e.email,e.title,e.message,e.active)},"Delete ticket",8,A_),e.active?((0,l.wg)(),(0,l.iD)("td",S_,"Active")):(0,l.kq)("",!0),e.active?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("td",P_,"Inactive")),(0,l._)("td",U_,(0,g.zw)(t+1),1),(0,l._)("td",M_,(0,g.zw)(e.id),1),(0,l._)("td",N_,(0,g.zw)(e.type),1),(0,l._)("td",z_,(0,g.zw)(e.email),1),(0,l._)("td",I_,(0,g.zw)(e.title),1),(0,l._)("td",L_,(0,g.zw)(e.message),1)])])))),128))])):(0,l.kq)("",!0),n.isActiveGeolocation?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:4},(0,l.Ko)(o.provinceAndCitiesIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"box",key:t},[(0,l._)("a",{class:"has-text-danger",onClick:t=>o.deleteProvince(e[0]._id)},"Delete Province",8,T_),(0,l._)("p",H_,"Province: "+(0,g.zw)(t),1),(0,l._)("table",q_,[E_,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e[0].citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1)),((t,a)=>((0,l.wg)(),(0,l.iD)("tbody",{key:a},[(0,l._)("tr",null,[(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:a=>o.cityDelete(e[0]._id,t.name,t.location.coordinates[1],t.location.coordinates[0],t.postalCode)},"Delete",8,V_),(0,l._)("td",O_,(0,g.zw)(a+1),1),(0,l._)("td",$_,(0,g.zw)(t.name),1),(0,l._)("td",R_,(0,g.zw)(t.postalCode),1),(0,l._)("td",Y_,(0,g.zw)(t.location.coordinates[1]),1),(0,l._)("td",B_,(0,g.zw)(t.location.coordinates[0]),1)])])))),128))])])))),128)):(0,l.kq)("",!0)]),n.isActiveGeolocation?((0,l.wg)(),(0,l.iD)("section",F_,[(0,l._)("div",j_,[W_,(0,l._)("div",K_,[G_,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[18]||(t[18]=e=>n.province=e),placeholder:"Province"},null,512),[[s.nr,n.province]]),(0,l._)("button",{class:"button",type:"button",onClick:t[19]||(t[19]=(...e)=>o.provincePost&&o.provincePost(...e)),disabled:""==n.province},"Confirm",8,Z_),n.provincePostSuccess?((0,l.wg)(),(0,l.iD)("div",Q_,"Province has been created.")):(0,l.kq)("",!0)])]),(0,l._)("div",X_,[J_,(0,l._)("div",eb,[(0,l._)("div",{class:(0,g.C_)(["dropdown",{"is-active":n.isActiveDropdownProvince}])},[(0,l._)("div",tb,[(0,l._)("button",{class:"button",onClick:t[20]||(t[20]=e=>o.provinceDropdownActive())},[""==n.selectedProvince?((0,l.wg)(),(0,l.iD)("span",ab,"Select a Province")):((0,l.wg)(),(0,l.iD)("span",sb,(0,g.zw)(n.selectedProvince),1))])]),(0,l._)("div",ib,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.provinceList,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e._id},[(0,l._)("a",{onClick:t=>o.chooseProvince(e._id,e.province),class:"dropdown-item"},(0,g.zw)(e.province),9,lb)])))),128))])],2),nb,ob,cb,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[21]||(t[21]=e=>n.cityOrMunicipality=e),placeholder:"City or Municipality"},null,512),[[s.nr,n.cityOrMunicipality]]),rb,db,(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[22]||(t[22]=e=>n.postalCode=e),placeholder:"Postal Code"},null,512),[[s.nr,n.postalCode]]),ub,(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[23]||(t[23]=e=>n.latitude=e),placeholder:"Latitude"},null,512),[[s.nr,n.latitude]]),pb,(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[24]||(t[24]=e=>n.longitude=e),placeholder:"longitude"},null,512),[[s.nr,n.longitude]]),(0,l._)("button",{class:"button",type:"button",onClick:t[25]||(t[25]=(...e)=>o.cityOrMunicipalityPost&&o.cityOrMunicipalityPost(...e)),disabled:""==n.selectedProvince||""==n.cityOrMunicipality||""==n.latitude||""==n.longitude},"Confirm",8,hb),n.cityOrMunicipalityPostSuccess?((0,l.wg)(),(0,l.iD)("div",mb,"City or Municipality added")):(0,l.kq)("",!0)])])])):(0,l.kq)("",!0)])])])}var gb={name:"SuperUser",computed:{managerAccountsIndexed(){return this.managerAccounts.filter((e=>e.hospital.toLowerCase().includes(this.searchBar.toLowerCase())))},doctorAccountsIndexed(){return this.doctorAccounts.filter((e=>e.name.toLowerCase().includes(this.searchBar.toLowerCase())||e.specialist.find((e=>e.toLowerCase().includes(this.searchBar.toLowerCase())))))},patientAccountsIndexed(){return this.patientAccounts.filter((e=>e.name[0].toLowerCase().includes(this.searchBar.toLowerCase())||e.name[1].toLowerCase().includes(this.searchBar.toLowerCase())))},ticketsIndexed(){return this.ticketList.filter((e=>e.id.toLowerCase().includes(this.searchBar.toLowerCase())||e.type.toLowerCase().includes(this.searchBar.toLowerCase())||e.email.toLowerCase().includes(this.searchBar.toLowerCase())))},provinceAndCitiesIndexed(){return Yl().groupBy(this.provinceList.filter((e=>e.citiesOrMunicipalities.find((e=>e.name.toLowerCase().includes(this.searchBar.toLowerCase()))))),"province")}},async mounted(){await Ke().get("/session/superuser").then((e=>this.superUser=e.data.superuser)),await Ke().get("/api/geolocation").then((e=>this.provinceList=e.data))},data(){return{searchBar:"",superUser:"",managerAccounts:[],doctorAccounts:[],patientAccounts:[],ticketList:[],isActiveMenu:!0,isActiveDashboard:!0,isActiveManager:!1,isActiveDoctor:!1,isActivePatient:!1,isActiveGeolocation:!1,isActiveTickets:!1,isActiveModal:!1,isActiveDropdownEditStatus:!1,isActiveDropdownEditPricing:!1,isActiveDropdownItemOne:!1,isActiveDropdownItemTwo:!1,isActiveDropdownPricingItemOne:!1,isActiveDropdownPricingItemTwo:!1,isActiveDropdownProvince:!1,id:"",email:"",status:"",type:"",province:"",cityOrMunicipality:"",latitude:"",longitude:"",postalCode:"",provinceList:[],selectedProvince:"",selectedProvinceID:"",provincePostSuccess:!1,cityOrMunicipalityPostSuccess:!1}},methods:{dashboard(){this.isActiveMenu=!0,this.isActiveDashboard=!0,this.isActiveManager=!1,this.isActiveDoctor=!1,this.isActivePatient=!1,this.isActiveGeolocation=!1,this.isActiveTickets=!1},async manager(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!0,this.isActiveDoctor=!1,this.isActivePatient=!1,this.isActiveGeolocation=!1,this.isActiveTickets=!1,await Ke().get("/api/manager").then((e=>this.managerAccounts=e.data))},async doctor(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!1,this.isActiveDoctor=!0,this.isActivePatient=!1,this.isActiveGeolocation=!1,this.isActiveTickets=!1,await Ke().get("/api/admin").then((e=>this.doctorAccounts=e.data))},async patient(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!1,this.isActiveDoctor=!1,this.isActivePatient=!0,this.isActiveGeolocation=!1,this.isActiveTickets=!1,await Ke().get("/api/user").then((e=>this.patientAccounts=e.data))},async tickets(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!1,this.isActiveDoctor=!1,this.isActivePatient=!1,this.isActiveGeolocation=!1,this.isActiveTickets=!0,await Ke().get("/api/superuser").then((e=>this.ticketList=e.data[0].tickets))},async geolocation(){this.isActiveMenu=!0,this.isActiveDashboard=!1,this.isActiveManager=!1,this.isActiveDoctor=!1,this.isActivePatient=!1,this.isActiveGeolocation=!0,this.isActiveTickets=!1,await Ke().get("/api/geolocation").then((e=>this.provinceList=e.data))},async managerEdit(e,t){this.isActiveModal=!this.isActiveModal,this.id=e,this.email=t,this.type="manager"},async doctorRecoverEmail(e,t){this.isActiveModal=!this.isActiveModal,this.id=e,this.email=t,this.type="doctor"},async patientRecoverEmail(e,t){this.isActiveModal=!this.isActiveModal,this.id=e,this.email=t,this.type="patient"},async updateData(){"manager"==this.type?(await Ke().put(`/api/manager/${this.id}`,{status:this.status,pricing:this.pricing,email:this.email}),await Ke().get("/api/manager").then((e=>this.managerAccounts=e.data)),this.isActiveModal=!this.isActiveModal):"doctor"==this.type?(await Ke().put(`/api/admin/${this.id}`,{gmail:this.email}),await Ke().get("/api/admin").then((e=>this.doctorAccounts=e.data)),this.isActiveModal=!this.isActiveModal):"patient"==this.type&&(await Ke().put(`/api/user/${this.id}`,{gmail:this.email}),await Ke().get("/api/user").then((e=>this.patientAccounts=e.data)),this.isActiveModal=!this.isActiveModal)},async managerDelete(e){await Ke()["delete"](`/api/manager/${e}`),await Ke().get("/api/manager").then((e=>this.managerAccounts=e.data))},async doctorDelete(e){await Ke()["delete"](`/api/admin/${e}`),await Ke().get("/api/admin").then((e=>this.doctorAccounts=e.data))},async patientDelete(e){await Ke()["delete"](`/api/user/${e}`),await Ke().get("/api/user").then((e=>this.patientAccounts=e.data))},async cityDelete(e,t,a,s,i){await Ke().post("/api/provinceCityPull",{provinceID:e,cityOrMunicipality:t,latitude:a,longitude:s,postalCode:i}),await Ke().get("/api/geolocation").then((e=>this.provinceList=e.data))},async deleteProvince(e){await Ke()["delete"](`/api/geolocation/${e}`),await Ke().get("/api/geolocation").then((e=>this.provinceList=e.data))},closeModal(){this.isActiveModal=!1},dropdown(){this.isActiveDropdownEditStatus=!this.isActiveDropdownEditStatus},dropdownPricing(){this.isActiveDropdownEditPricing=!this.isActiveDropdownEditPricing},statusActive(){this.status="Active",this.isActiveDropdownItemOne=!0,this.isActiveDropdownItemTwo=!1},statusInactive(){this.status="Inactive",this.isActiveDropdownItemOne=!1,this.isActiveDropdownItemTwo=!0},pricingStandard(){this.pricing="Standard",this.isActiveDropdownPricingItemOne=!0,this.isActiveDropdownPricingItemTwo=!1},pricingPremium(){this.pricing="Premium",this.isActiveDropdownPricingItemOne=!1,this.isActiveDropdownPricingItemTwo=!0},async provincePost(){await Ke().post("/api/geolocation",{province:this.province}),await Ke().get("/api/geolocation").then((e=>this.provinceList=e.data)),this.provincePostSuccess=!0},async cityOrMunicipalityPost(){await Ke().post("/api/provinceUpdate",{provinceID:this.selectedProvinceID,cityOrMunicipality:this.cityOrMunicipality,latitude:this.latitude,longitude:this.longitude,postalCode:this.postalCode}),this.cityOrMunicipalityPostSuccess=!0,this.selectedProvince="",this.selectedProvinceID="",this.cityOrMunicipality="",this.latitude="",this.longitude="",await Ke().get("/api/geolocation").then((e=>this.provinceList=e.data))},provinceDropdownActive(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},chooseProvince(e,t){this.selectedProvinceID=e,this.selectedProvince=t,this.isActiveDropdownProvince=!1},async closeTicket(e){await Ke().post("/api/superuser/updateTicket",{ticketID:e,ticketActive:!1}),await Ke().get("/api/superuser").then((e=>this.ticketList=e.data[0].tickets)),console.log(await this.ticketList)},async reopenTicket(e){await Ke().post("/api/superuser/updateTicket",{ticketID:e,ticketActive:!0}),await Ke().get("/api/superuser").then((e=>this.ticketList=e.data[0].tickets))},async deleteTicket(e,t,a,s,i,l){await Ke().post("/api/superuser/deleteTicket",{ticketID:e,email:a,ticketType:t,ticketTitle:s,ticketMessage:i,ticketActive:l}),await Ke().get("/api/superuser").then((e=>this.ticketList=e.data[0].tickets))},async logout(){await Ke()["delete"]("/session/superuser"),await this.$store.commit("superUserAuth",!1),await this.$router.push("/user/superuser/login")}}};const wb=(0,c.Z)(gb,[["render",vb]]);var _b=wb;const bb=e=>((0,l.dD)("data-v-429919bc"),e=e(),(0,l.Cn)(),e),yb={class:"container",style:{width:"33%","margin-top":"15%"}},fb=bb((()=>(0,l._)("h1",{class:"title has-text-centered"},"Welcome Superuser/Developer",-1))),kb={class:"field"},Db=bb((()=>(0,l._)("label",{class:"label"},"Email",-1))),Cb={class:"control"},xb=bb((()=>(0,l._)("br",null,null,-1))),Ab={class:"has-text-centered"},Sb={key:0,class:"subtitle has-text-danger"},Pb=bb((()=>(0,l._)("div",{class:"modal-background"},null,-1))),Ub={class:"modal-content"},Mb={class:"field",style:{"background-color":"whitesmoke",padding:"12%"}},Nb=bb((()=>(0,l._)("label",{class:"label"},"Please check your email for the login code",-1))),zb={class:"control"},Ib=bb((()=>(0,l._)("br",null,null,-1))),Lb={class:"has-text-centered"},Tb={key:0,class:"subtitle has-text-danger"};function Hb(e,t,a,i,n,o){return(0,l.wg)(),(0,l.iD)("div",yb,[fb,(0,l._)("div",kb,[Db,(0,l._)("div",Cb,[(0,l.wy)((0,l._)("input",{class:"input is-rounded","onUpdate:modelValue":t[0]||(t[0]=e=>n.superUserEmail=e),type:"text",placeholder:"email"},null,512),[[s.nr,n.superUserEmail]])]),xb,(0,l._)("div",Ab,[(0,l._)("button",{class:"button is-success",onClick:t[1]||(t[1]=(...e)=>o.authenticateMail&&o.authenticateMail(...e))},"Authenticate")]),"invalid developer"==n.statusMessage?((0,l.wg)(),(0,l.iD)("p",Sb,"Sorry, email not identified as superuser/developer. Please try again.")):(0,l.kq)("",!0)]),(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":n.modalActive}])},[Pb,(0,l._)("div",Ub,[(0,l._)("div",Mb,[Nb,(0,l._)("div",zb,[(0,l.wy)((0,l._)("input",{class:"input","onUpdate:modelValue":t[2]||(t[2]=e=>n.superUserCode=e),type:"text",placeholder:"code"},null,512),[[s.nr,n.superUserCode]])]),Ib,(0,l._)("div",Lb,[(0,l._)("button",{class:"button is-primary",onClick:t[3]||(t[3]=(...e)=>o.authenticateCode&&o.authenticateCode(...e))},"Confirm")]),"invalid code"==n.statusMessage?((0,l.wg)(),(0,l.iD)("p",Tb,"Invalid login code, please check your email thoroughly.")):(0,l.kq)("",!0)])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[4]||(t[4]=(...e)=>o.modalClose&&o.modalClose(...e))})],2)])}var qb={name:"SuperUserLogin",async mounted(){await Ke().get("/api/superuser").then((e=>this.gmails=e.data)),await Ke().get("/session/superuser").then((e=>this.superUserConfirmEmail=e.data)),this.superUserConfirmEmail.superuser&&(this.$store.commit("superUserAuth",!0),await this.$router.push("/user/superuser"))},data(){return{modalActive:!1,statusMessage:"",superUserEmail:"",superUserConfirmEmail:"",superUserCode:"",superUserConfirmCode:"",codes:[],gmails:[]}},methods:{async authenticateMail(){if(await Ke().get("/api/code").then((e=>this.codes=e.data)),this.superUserConfirmEmail=await this.gmails[0].gmail.find((e=>e===this.superUserEmail)),await this.superUserConfirmEmail){let e=Math.floor(1e3+9e3*Math.random());0===this.codes.length||e!=this.codes.find((t=>t.code===e))?(this.modalActive=!0,await Ke().post("/api/code",{email:this.superUserEmail,code:e}),await Ke().post("/api/sendMail",{email:this.superUserEmail,code:e})):(this.statusMessage="invalid developer",this.superUserEmail="")}else this.statusMessage="invalid developer",this.superUserEmail=""},async authenticateCode(){await Ke().get("/api/code").then((e=>this.codes=e.data)),this.superUserConfirmCode=await this.codes.find((e=>e.code==this.superUserCode&&e.email==this.superUserEmail)),await this.superUserConfirmCode?(await Ke().post("/session/superuser",{superuser:this.superUserEmail}),await Ke()["delete"](`/api/code/${this.superUserConfirmCode._id}`),await this.$store.commit("superUserAuth",!0),await this.$router.push("/user/superuser")):(this.statusMessage="invalid code",this.superUserCode="")},modalClose(){this.modalActive=!1}}};const Eb=(0,c.Z)(qb,[["render",Hb],["__scopeId","data-v-429919bc"]]);var Vb=Eb;const Ob=(0,l._)("div",{class:"modal-background"},null,-1),$b=(0,l._)("div",{class:"modal-content loader"},null,-1),Rb=[Ob,$b],Yb={class:"columns"},Bb={class:"column is-2"},Fb={class:"column",style:{overflow:"auto"}},jb={key:0,class:"notification is-light is-danger"},Wb=(0,l.Uk)("The account is not activated yet and will not be displayed on hospital searches, complete the hospital's "),Kb=(0,l.Uk)("profile"),Gb=(0,l.Uk)(" to activate the account."),Zb={class:"section"},Qb={class:"title"},Xb={class:"field"},Jb={class:"control",style:{width:"33%"}},ey=(0,l._)("label",{class:"label"},"Search:",-1),ty={key:0,class:"table-container"},ay={class:"table"},sy=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"has-text-black-ter"},"Controls"),(0,l._)("th",{class:"has-text-black-ter"},"No."),(0,l._)("th",{class:"has-text-black-ter"},"Alias"),(0,l._)("th",{class:"has-text-black-ter"},"Full Name"),(0,l._)("th",{class:"has-text-black-ter"},"Specialist"),(0,l._)("th",{class:"has-text-black-ter"},"Gmail"),(0,l._)("th",{class:"has-text-black-ter"},"Schedules")])],-1),iy=["onClick"],ly=["onClick"],ny={class:"has-text-black-ter"},oy={class:"has-text-black-ter"},cy={class:"has-text-black-ter"},ry={class:"has-text-black-ter"},dy={class:"has-text-black-ter"},uy={class:"has-text-black-ter"},py={key:1,class:"notification is-warning"},hy=(0,l._)("h1",{class:"title is-4"},"No doctors as of yet, generate a security code for your doctors to use in linking to this hospital.",-1),my=[hy],vy=(0,l._)("div",{class:"modal-background"},null,-1),gy={class:"modal-content"},wy={class:"box"},_y={class:"field"},by={class:"control"};function yy(e,t,a,i,n,o){const c=(0,l.up)("ManagerMenuVue"),r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":n.loading}])},Rb,2),(0,l._)("div",Yb,[(0,l._)("div",Bb,[(0,l.Wm)(c)]),(0,l._)("div",Fb,["Inactive"==n.hospitalStatus.status?((0,l.wg)(),(0,l.iD)("div",jb,[Wb,(0,l.Wm)(r,{to:`/user/manager/${this.managerHospital.hospital}/profile`,class:"has-text-link"},{default:(0,l.w5)((()=>[Kb])),_:1},8,["to"]),Gb])):(0,l.kq)("",!0),(0,l._)("section",Zb,[(0,l._)("h1",Qb,(0,g.zw)(n.managerHospital.hospital),1),(0,l._)("div",Xb,[(0,l._)("div",Jb,[ey,(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchBar=e),placeholder:"Search..."},null,512),[[s.nr,n.searchBar]])])]),0!==Object.keys(o.doctorAccountsIndexed).length?((0,l.wg)(),(0,l.iD)("div",ty,[(0,l._)("table",ay,[sy,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.doctorAccountsIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("tbody",{key:e._id},[(0,l._)("tr",null,[(0,l._)("button",{class:"dropdown-item button has-text-info",type:"button",onClick:t=>o.doctorRecoverEmail(e._id,e.gmail)},"Recover",8,iy),(0,l._)("button",{class:"button dropdown-item has-text-danger",type:"button",onClick:t=>o.doctorRemove(e._id)},"Remove",8,ly),(0,l._)("td",ny,(0,g.zw)(t+1),1),(0,l._)("td",oy,(0,g.zw)(e.alias),1),(0,l._)("td",cy,(0,g.zw)(e.name),1),(0,l._)("td",ry,(0,g.zw)(e.specialist.toString()),1),(0,l._)("td",dy,(0,g.zw)(e.gmail),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.schedule,(e=>((0,l.wg)(),(0,l.iD)("td",uy,(0,g.zw)(e.date),1)))),256))])])))),128))])])):((0,l.wg)(),(0,l.iD)("div",py,my)),(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":n.isActiveModal}])},[vy,(0,l._)("div",gy,[(0,l._)("div",wy,[(0,l._)("div",_y,[(0,l._)("div",by,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.email=e)},null,512),[[s.nr,n.email]])]),(0,l._)("button",{class:"button is-success",type:"button",onClick:t[2]||(t[2]=(...e)=>o.updateData&&o.updateData(...e))},"Confirm")])]),(0,l._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[3]||(t[3]=(...e)=>o.closeModal&&o.closeModal(...e))})])],2)])])])],64)}const fy={class:"navbar is-hidden-desktop"},ky={class:"navbar-brand"},Dy=(0,l._)("span",{"aria-hidden":"true"},null,-1),Cy=(0,l._)("span",{"aria-hidden":"true"},null,-1),xy=(0,l._)("span",{"aria-hidden":"true"},null,-1),Ay=[Dy,Cy,xy],Sy=(0,l._)("p",{class:"menu-label"},"General",-1),Py={class:"menu-list"},Uy=(0,l._)("p",{class:"menu-label"},"Security",-1),My=(0,l._)("ul",{class:"menu-list"},[(0,l._)("li",null,[(0,l._)("a",null,"Change Password")]),(0,l._)("li",null,[(0,l._)("a",null,"Doctor Registration")])],-1),Ny=(0,l._)("p",{class:"menu-label"},"Support",-1),zy={class:"menu-list"},Iy=(0,l._)("li",null,[(0,l._)("a",null,"FAQ")],-1),Ly=(0,l._)("hr",null,null,-1);function Ty(e,t,a,s,i,n){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("nav",fy,[(0,l._)("div",ky,[(0,l._)("a",{role:"button",class:(0,g.C_)(["navbar-burger",{"is-active":!i.isActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:t[0]||(t[0]=(...e)=>n.menuNav&&n.menuNav(...e))},Ay,2)])]),(0,l._)("aside",{class:(0,g.C_)(["menu box",{"is-hidden-mobile":i.isActive,fixedMenu:i.isActive}]),style:{"background-color":"white",padding:"20px",height:"100vh"}},[Sy,(0,l._)("ul",Py,[(0,l._)("li",null,[(0,l._)("a",{onClick:t[1]||(t[1]=(...e)=>n.navDoctors&&n.navDoctors(...e))},"Home")]),(0,l._)("li",null,[(0,l._)("a",{onClick:t[2]||(t[2]=(...e)=>n.navProfile&&n.navProfile(...e))},"Profile")])]),Uy,My,Ny,(0,l._)("ul",zy,[Iy,(0,l._)("li",null,[(0,l._)("a",{onClick:t[3]||(t[3]=e=>this.$router.push("/contactus"))},"Contact Us")])]),Ly,(0,l._)("button",{class:"button is-danger",onClick:t[4]||(t[4]=(...e)=>n.logout&&n.logout(...e))},"Logout")],2)],64)}var Hy={name:"ManagerMenu",data(){return{isActive:!0,managerHospital:""}},async mounted(){await Ke().get("/session/manager").then((e=>this.managerHospital=e.data.hospital))},methods:{async logout(){await Ke()["delete"]("/session/manager"),await this.$store.commit("managerHospital",null),await this.$router.push("/user/manager/login")},menuNav(){this.isActive=!this.isActive},navProfile(){this.$router.push(`/user/manager/${this.managerHospital}/profile`)},navDoctors(){this.$router.push(`/user/manager/${this.managerHospital}`)}}};const qy=(0,c.Z)(Hy,[["render",Ty]]);var Ey=qy,Vy={name:"Manager",components:{ManagerMenuVue:Ey},computed:{doctorAccountsIndexed(){return this.doctorAccounts.filter((e=>e.name.toLowerCase().includes(this.searchBar.toLowerCase())||e.alias.toLowerCase().includes(this.searchBar.toLowerCase())))}},async mounted(){this.loading=!0,await Ke().get("/session/manager").then((e=>this.managerHospital=e.data)),await Ke().get("/api/manager").then((e=>this.hospitalStatus=e.data.find((e=>e._id==this.managerHospital._id)))),await Ke().get("/api/admin").then((e=>this.doctorAccounts=e.data.filter((e=>e.hospitalOrigin.find((e=>e.hospital===this.managerHospital.hospital)))))),this.loading=!1},data(){return{loading:!1,hospitalStatus:"",managerHospital:"",searchBar:"",isActiveModal:!1,doctorAccounts:[],email:"",id:""}},methods:{doctorRecoverEmail(e,t){this.id=e,this.email=t,this.isActiveModal=!0},async updateData(){await Ke().put(`/api/admin/${this.id}`,{gmail:this.email}),await Ke().get("/api/admin").then((e=>this.doctorAccounts=e.data)),this.isActiveModal=!this.isActiveModal},async doctorRemove(){await Ke().post("/api/doctorPullHospital",{doctorID:this.id,hospital:this.managerHospital.hospital})},closeModal(){this.isActiveModal=!1}}};const Oy=(0,c.Z)(Vy,[["render",yy]]);var $y=Oy;const Ry=e=>((0,l.dD)("data-v-5a496ad4"),e=e(),(0,l.Cn)(),e),Yy={class:"hero is-fullheight",style:{"background-color":"whitesmoke"}},By={class:"hero-body"},Fy={class:"container has-text-centered"},jy={class:"animate__animated animate__fadeInLeft"},Wy={key:0,class:"notification is-success"},Ky={class:"box",style:{width:"33%",margin:"auto"}},Gy={class:"content"},Zy={class:"field",style:{"margin-top":"5%"}},Qy=Ry((()=>(0,l._)("h1",{class:"title"},"Login",-1))),Xy={class:"control"},Jy={class:"control",style:{"margin-top":"2%"}},ef={key:0,class:"has-text-danger",style:{"margin-top":"5%"}},tf={key:1,class:"has-text-danger",style:{"margin-top":"5%"}},af=Ry((()=>(0,l._)("hr",null,null,-1))),sf=Ry((()=>(0,l._)("h1",{class:"title"},"Or",-1)));function lf(e,t,a,i,n,o){const c=(0,l.up)("ForgotPassword");return(0,l.wg)(),(0,l.iD)("section",Yy,[(0,l._)("div",By,[(0,l._)("div",Fy,[(0,l._)("div",jy,[n.newAccount?((0,l.wg)(),(0,l.iD)("p",Wy,"The account has been successfully created, login to activate the account now.")):(0,l.kq)("",!0),(0,l._)("div",Ky,[(0,l._)("div",Gy,[(0,l._)("form",Zy,[Qy,(0,l._)("div",Xy,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),placeholder:"username",required:""},null,512),[[s.nr,n.username]])]),(0,l._)("div",Jy,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),placeholder:"password",required:""},null,512),[[s.nr,n.password]])]),n.incorrectUserPass?((0,l.wg)(),(0,l.iD)("p",ef,(0,g.zw)(n.validateMessage),1)):0==n.incorrectUserPass?((0,l.wg)(),(0,l.iD)("p",tf,(0,g.zw)(n.validateMessage),1)):(0,l.kq)("",!0),(0,l._)("button",{type:"button",class:"button is-primary",onClick:t[2]||(t[2]=(...e)=>o.login&&o.login(...e))},"Login"),af,sf,(0,l._)("a",{onClick:t[3]||(t[3]=(...e)=>o.signup&&o.signup(...e)),class:"is-danger"},"Create an account")])]),(0,l.Wm)(c,{userType:"manager"})])])])])])}var nf={name:"ManagerLogin",component:Qi,data(){return{username:"",password:"",userManager:null,incorrectUserPass:"",validateMessage:"",newAccount:!1}},async mounted(){1==this.$store.state.accountCreated&&(this.newAccount=!0,await this.$store.commit("accountCreated",!1)),await Ke().get("/session/manager").then((e=>this.userManager=e.data)),await this.userManager&&(this.$store.commit("managerHospital",this.userManager.hospital),await this.$router.push(`/user/manager/${this.userManager.hospital}`))},methods:{async login(){null==this.username&&null==this.password?(this.incorrectUserPass=!1,this.validateMessage="empty username or password"):(await Ke().post("/api/auth/manager",{username:this.username,password:this.password}).then((e=>this.userManager=e.data)),!1!==await this.userManager?(this.$store.commit("managerHospital",this.userManager.hospital),await Ke().post("/session/manager",{_id:this.userManager._id,hospital:this.userManager.hospital}),await this.$router.push(`/user/manager/${this.userManager.hospital}`)):(this.validateMessage="Incorrect username or password",this.incorrectUserPass=!0,this.username=null,this.password=null))},async signup(){await this.$router.push("/user/manager/signup")}},components:{ForgotPassword:Qi}};const of=(0,c.Z)(nf,[["render",lf],["__scopeId","data-v-5a496ad4"]]);var cf=of;const rf=e=>((0,l.dD)("data-v-18d1b8fe"),e=e(),(0,l.Cn)(),e),df={class:"section",style:{"background-color":"whitesmoke"}},uf={class:"container box",style:{width:"50%",margin:"auto"}},pf={class:"field"},hf=rf((()=>(0,l._)("label",{class:"label"},"Hospital Name",-1))),mf=rf((()=>(0,l._)("label",{class:"label"},"E-mail",-1))),vf={class:"field is-horizontal"},gf={class:"field-body"},wf={class:"field"},_f=rf((()=>(0,l._)("label",{class:"label"},"Province",-1))),bf={class:"dropdown-trigger"},yf={key:0},ff={key:1},kf={class:"dropdown-menu"},Df=["onClick"],Cf={class:"field"},xf=rf((()=>(0,l._)("label",{class:"label"},"City/Municipality",-1))),Af={class:"dropdown-trigger"},Sf=["disabled"],Pf={key:0},Uf={key:1},Mf={class:"dropdown-menu"},Nf=["onClick"],zf={class:"field"},If=rf((()=>(0,l._)("div",{class:"control"},[(0,l._)("label",{class:"label"},"Postal Code:")],-1))),Lf={class:"field"},Tf={class:"control"},Hf=rf((()=>(0,l._)("label",{class:"label"},"Type:",-1))),qf={class:"radio"},Ef=(0,l.Uk)("Public "),Vf={class:"radio"},Of=(0,l.Uk)("Private "),$f={class:"field"},Rf={class:"control"},Yf=rf((()=>(0,l._)("label",{class:"label"},"Barangay or Street",-1))),Bf={class:"field is-horizontal"},Ff={class:"field-body"},jf={class:"field"},Wf={class:"control"},Kf=rf((()=>(0,l._)("label",{class:"label"},"Latitude",-1))),Gf={class:"field"},Zf={class:"control"},Qf=rf((()=>(0,l._)("label",{class:"label"},"Longtitude",-1))),Xf={class:"field is-horizontal"},Jf={class:"field-body"},ek={class:"field"},tk={class:"control"},ak=rf((()=>(0,l._)("label",{class:"label"},"Username:",-1))),sk={key:0,class:"notification is-light is-danger"},ik={class:"field"},lk={class:"control"},nk=rf((()=>(0,l._)("label",{class:"label"},"Password",-1))),ok={class:"control"},ck=rf((()=>(0,l._)("label",{class:"label"},"Confirm Password",-1))),rk={key:0,class:"notification is-light is-danger"},dk={class:"columns"},uk={class:"column"},pk=rf((()=>(0,l._)("label",{class:"label"},"Specializations offered(Select all that applies)",-1))),hk={class:"panel"},mk={class:"panel-block"},vk={style:{"max-height":"20em",overflow:"auto"}},gk=["value"],wk=["onClick"],_k={class:"column"},bk=rf((()=>(0,l._)("label",{class:"label"},"Selected",-1))),yk={class:"columns is-multiline"},fk={class:"column",id:"selectedSpecializations"},kk=["onClick"],Dk=rf((()=>(0,l._)("h1",{class:"label has-text-centered"},"Choose a plan",-1))),Ck={class:"columns has-text-centered"},xk={class:"column"},Ak={class:"card"},Sk=rf((()=>(0,l._)("div",{class:"card-image"},[(0,l._)("figure",{class:"image is-4by3"},[(0,l._)("img",{src:"https://bulma.io/images/placeholders/1280x960.png",alt:"Placeholder image"})])],-1))),Pk={class:"card-content"},Uk=rf((()=>(0,l._)("div",{class:"media"},[(0,l._)("div",{class:"media-content"},[(0,l._)("p",{class:"title is-4"},"STANDARD PLAN")])],-1))),Mk=rf((()=>(0,l._)("div",{class:"content"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris. ",-1))),Nk={class:"field"},zk={class:"control"},Ik={class:"radio"},Lk={class:"column"},Tk={class:"card"},Hk=rf((()=>(0,l._)("div",{class:"card-image"},[(0,l._)("figure",{class:"image is-4by3"},[(0,l._)("img",{src:"https://bulma.io/images/placeholders/1280x960.png",alt:"Placeholder image"})])],-1))),qk={class:"card-content"},Ek=rf((()=>(0,l._)("div",{class:"media"},[(0,l._)("div",{class:"media-content"},[(0,l._)("p",{class:"title is-4"},"PREMIUM PLAN")])],-1))),Vk=rf((()=>(0,l._)("div",{class:"content"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris. ",-1))),Ok={class:"field"},$k={class:"control"},Rk={class:"radio"},Yk=["disabled"];function Bk(e,t,a,i,n,o){return(0,l.wg)(),(0,l.iD)("section",df,[(0,l._)("div",uf,[(0,l._)("div",pf,[hf,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Hospital name","onUpdate:modelValue":t[0]||(t[0]=e=>n.hospital=e)},null,512),[[s.nr,n.hospital]]),mf,(0,l.wy)((0,l._)("input",{class:"input",type:"email",placeholder:"Official hospital email","onUpdate:modelValue":t[1]||(t[1]=e=>n.email=e)},null,512),[[s.nr,n.email]])]),(0,l._)("div",vf,[(0,l._)("div",gf,[(0,l._)("div",wf,[_f,(0,l._)("div",{class:(0,g.C_)(["dropdown",{"is-active":n.isActiveDropdownProvince}])},[(0,l._)("div",bf,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:t[2]||(t[2]=(...e)=>o.provinceDropdown&&o.provinceDropdown(...e))},[""==n.province?((0,l.wg)(),(0,l.iD)("span",yf,"Select")):((0,l.wg)(),(0,l.iD)("span",ff,(0,g.zw)(n.province),1))])]),(0,l._)("div",kf,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.geolocationData,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e._id},[(0,l._)("a",{class:"dropdown-item",onClick:t=>o.selectProvince(e.province)},(0,g.zw)(e.province),9,Df)])))),128))])],2)]),(0,l._)("div",Cf,[xf,(0,l._)("div",{class:(0,g.C_)(["dropdown",{"is-active":n.isActiveDropdownCity}])},[(0,l._)("div",Af,[(0,l._)("button",{class:"button","aria-haspopup":"true",onClick:t[3]||(t[3]=(...e)=>o.cityDropdown&&o.cityDropdown(...e)),disabled:""==n.province},[""==n.city?((0,l.wg)(),(0,l.iD)("span",Pf,"Select")):((0,l.wg)(),(0,l.iD)("span",Uf,(0,g.zw)(n.city),1))],8,Sf)]),(0,l._)("div",Mf,[n.province?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(n.citiesData,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"dropdown-content",key:e.name},[(0,l._)("a",{class:"dropdown-item",onClick:t=>o.selectCity(e.name)},(0,g.zw)(e.name),9,Nf)])))),128)):(0,l.kq)("",!0)])],2)])])]),(0,l._)("div",zf,[If,(0,l.wy)((0,l._)("input",{type:"number",class:"input","onUpdate:modelValue":t[4]||(t[4]=e=>n.postalCode=e),placeholder:"Postal Code"},null,512),[[s.nr,n.postalCode]])]),(0,l._)("div",Lf,[(0,l._)("div",Tf,[Hf,(0,l._)("label",qf,[(0,l._)("input",{type:"radio",name:"type",onClick:t[5]||(t[5]=(...e)=>o.selectPublicType&&o.selectPublicType(...e))}),Ef]),(0,l._)("label",Vf,[(0,l._)("input",{type:"radio",name:"type",onClick:t[6]||(t[6]=(...e)=>o.selectPrivateType&&o.selectPrivateType(...e))}),Of])])]),(0,l._)("div",$f,[(0,l._)("div",Rf,[Yf,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Barangay or Street of the hospital","onUpdate:modelValue":t[7]||(t[7]=e=>n.barangayORStreet=e)},null,512),[[s.nr,n.barangayORStreet]])])]),(0,l._)("div",Bf,[(0,l._)("div",Ff,[(0,l._)("div",jf,[(0,l._)("div",Wf,[Kf,(0,l.wy)((0,l._)("input",{class:"input",type:"number",placeholder:"Latitude of the hospital location","onUpdate:modelValue":t[8]||(t[8]=e=>n.latitude=e)},null,512),[[s.nr,n.latitude]])])]),(0,l._)("div",Gf,[(0,l._)("div",Zf,[Qf,(0,l.wy)((0,l._)("input",{class:"input",type:"number",placeholder:"Longtitude of the hospital location","onUpdate:modelValue":t[9]||(t[9]=e=>n.longtitude=e)},null,512),[[s.nr,n.longtitude]])])])])]),(0,l._)("div",Xf,[(0,l._)("div",Jf,[(0,l._)("div",ek,[(0,l._)("div",tk,[ak,(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"Username","onUpdate:modelValue":t[10]||(t[10]=e=>n.username=e)},null,512),[[s.nr,n.username]])]),n.usernameAlreadyTaken?((0,l.wg)(),(0,l.iD)("div",sk,"Username is already taken.")):(0,l.kq)("",!0)]),(0,l._)("div",ik,[(0,l._)("div",lk,[nk,(0,l.wy)((0,l._)("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":t[11]||(t[11]=e=>n.password=e)},null,512),[[s.nr,n.password]])]),(0,l._)("div",ok,[ck,(0,l.wy)((0,l._)("input",{class:"input",type:"password",placeholder:"Confirm Password","onUpdate:modelValue":t[12]||(t[12]=e=>n.confirmPassword=e)},null,512),[[s.nr,n.confirmPassword]])]),n.passwordNotMatch?((0,l.wg)(),(0,l.iD)("div",rk,"Password does not match.")):(0,l.kq)("",!0)])])]),(0,l._)("div",dk,[(0,l._)("div",uk,[pk,(0,l._)("nav",hk,[(0,l._)("div",mk,[(0,l.wy)((0,l._)("input",{class:"input",type:"text","onUpdate:modelValue":t[13]||(t[13]=e=>n.searchBar=e),placeholder:"Search"},null,512),[[s.nr,n.searchBar]])]),(0,l._)("div",vk,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.specializationListIndexed,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"panel-block",key:t,value:e},[(0,l._)("a",{onClick:t=>o.selectSpecialization(e)},(0,g.zw)(e),9,wk)],8,gk)))),128))])])]),(0,l._)("div",_k,[bk,(0,l._)("div",yk,[(0,l._)("div",fk,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.specializationsSelected,((e,t)=>((0,l.wg)(),(0,l.iD)("button",{key:t,class:"button is-light",style:{margin:"5px"}},[(0,l.Uk)((0,g.zw)(e.specialist)+"  ",1),(0,l._)("span",{class:"has-text-danger",onClick:t=>o.undoSpecialization(e.specialist)},"X",8,kk)])))),128))])])])]),Dk,(0,l._)("div",Ck,[(0,l._)("div",xk,[(0,l._)("div",Ak,[Sk,(0,l._)("div",Pk,[Uk,Mk,(0,l._)("div",Nk,[(0,l._)("div",zk,[(0,l._)("label",Ik,[(0,l._)("input",{class:"radio",name:"plan",type:"radio",onClick:t[14]||(t[14]=(...e)=>o.selectStandardPlan&&o.selectStandardPlan(...e))})])])])])])]),(0,l._)("div",Lk,[(0,l._)("div",Tk,[Hk,(0,l._)("div",qk,[Ek,Vk,(0,l._)("div",Ok,[(0,l._)("div",$k,[(0,l._)("label",Rk,[(0,l._)("input",{class:"radio",name:"plan",type:"radio",onClick:t[15]||(t[15]=(...e)=>o.selectPremiumPlan&&o.selectPremiumPlan(...e))})])])])])])])]),(0,l._)("button",{class:"button is-primary",onClick:t[16]||(t[16]=(...e)=>o.create&&o.create(...e)),disabled:""==n.pricing||""==n.hospital||""==n.email||""==n.hospitalType||""==n.latitude||""==n.longtitude||""==n.barangayORStreet||""==n.city||""==n.province||n.specializationsSelected==[]},"Create Account",8,Yk)])])}var Fk={name:"ManagerSignup",async mounted(){await Ke().get("/api/geolocation").then((e=>this.geolocationData=e.data))},computed:{specializationListIndexed(){return this.specializationList.filter((e=>e.toLowerCase().includes(this.searchBar.toLowerCase())))}},data(){return{geolocationData:[],isActiveDropdownProvince:!1,isActiveDropdownCity:!1,pricing:"",hospital:"",email:"",hospitalType:"",latitude:"",longtitude:"",barangayORStreet:"",postalCode:"",city:"",province:"",username:"",checkUsername:"",usernameAlreadyTaken:!1,password:"",confirmPassword:"",passwordNotMatch:!1,citiesData:[],specializationsSelected:[],specializationList:this.$store.getters.getSpecializationList,searchBar:""}},methods:{async selectProvince(e){this.city="",this.province=e,this.isActiveDropdownProvince=!1,await Ke().get("/api/geolocation").then((t=>this.citiesData=t.data.find((t=>t.province===e)))),this.citiesData=await this.citiesData.citiesOrMunicipalities.sort(((e,t)=>e.name>t.name?1:-1))},selectCity(e){this.city=e,this.isActiveDropdownCity=!1},selectPublicType(){this.hospitalType="Public"},selectPrivateType(){this.hospitalType="Private"},selectStandardPlan(){this.pricing="Standard"},selectPremiumPlan(){this.pricing="Premium"},provinceDropdown(){this.isActiveDropdownProvince=!this.isActiveDropdownProvince},cityDropdown(){this.isActiveDropdownCity=!this.isActiveDropdownCity},selectSpecialization(e){this.specializationsSelected.find((t=>t.specialist===e))||this.specializationsSelected.push({specialist:e})},undoSpecialization(e){this.specializationsSelected=this.specializationsSelected.filter((t=>t.specialist!==e))},async create(){await Ke().get("/api/manager").then((e=>this.checkUsername=e.data)),this.usernameAlreadyTaken=!1,this.passwordNotMatch=!1,await this.checkUsername.find((e=>e.username==this.username))?(this.usernameAlreadyTaken=!0,await this.password!==this.confirmPassword&&(this.passwordNotMatch=!0)):await this.password!==this.confirmPassword?this.passwordNotMatch=!0:(await Ke().post("/api/manager",{pricing:this.pricing,status:"Inactive",hospital:this.hospital,type:this.hospitalType,email:this.email,province:this.province,city:this.city,barangayORStreet:this.barangayORStreet,postalCode:this.postalCode,location:{type:"Point",coordinates:[this.longtitude,this.latitude]},specializations:this.specializationsSelected,username:this.username,password:this.password}),await this.$store.commit("accountCreated",!0),await this.$router.push("/user/manager/login"))}}};const jk=(0,c.Z)(Fk,[["render",Bk],["__scopeId","data-v-18d1b8fe"]]);var Wk=jk;const Kk=(0,l._)("div",{class:"modal-background"},null,-1),Gk=(0,l._)("div",{class:"modal-content loader"},null,-1),Zk=[Kk,Gk],Qk={class:"columns"},Xk={class:"column is-2"},Jk={class:"column"},eD={class:"section is-medium"},tD=(0,l._)("h1",{class:"title"},"PROFILE",-1),aD={key:0,class:"notification is-light is-info"},sD={class:"columns box"},iD={class:"column"},lD={class:"image is-16by9"},nD=["src"],oD={id:"formUpload",action:"/api/imgUploadManager",method:"post",enctype:"multipart/form-data",style:{margin:"auto",width:"50%"},class:"field"},cD={class:"control"},rD=["value"],dD=(0,l._)("div",{class:"has-text-centered"},[(0,l._)("button",{type:"submit",value:"Upload",class:"button is-primary"},"Change profile picture")],-1),uD=(0,l._)("br",null,null,-1),pD={class:"container has-text-centered"},hD=["src"],mD={class:"column"},vD={class:"container"},gD={class:"block"},wD=(0,l._)("h1",{class:"title"},"Description:",-1),_D={key:0,class:"subtitle"},bD={key:1,class:"form"},yD={class:"control"},fD={class:"block"},kD=(0,l._)("h1",{class:"title"},"Contacts:",-1),DD={key:0},CD={class:"subtitle"},xD={key:1},AD={class:"subtitle"},SD=["onClick"],PD=(0,l._)("br",null,null,-1),UD={key:2,class:"field has-addons"},MD={class:"control"},ND={class:"control"},zD=["disabled"],ID=(0,l._)("br",null,null,-1),LD={key:2,class:"control"},TD={class:"radio"},HD=(0,l.Uk)(" Activate this account. "),qD=(0,l._)("br",null,null,-1);function ED(e,t,a,i,n,o){const c=(0,l.up)("ManagerMenuVue");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":n.loading}])},Zk,2),(0,l._)("div",Qk,[(0,l._)("div",Xk,[(0,l.Wm)(c)]),(0,l._)("div",Jk,[(0,l._)("section",eD,[tD,"Inactive"==n.hospitalStatus?((0,l.wg)(),(0,l.iD)("div",aD,"To get started, upload a photo of your hospital and fill in the details of your description and contacts. Activation of the account is available when editing.")):(0,l.kq)("",!0),(0,l._)("div",sD,[(0,l._)("div",iD,[(0,l._)("figure",lD,[(0,l._)("img",{src:`https://res.cloudinary.com/leindfraust/image/upload/v1/assets/managers/${n.managerHospital}.jpg`},null,8,nD)]),(0,l._)("form",oD,[(0,l._)("div",cD,[(0,l._)("input",{type:"hidden",name:"hospital",value:n.managerHospital},null,8,rD),(0,l._)("input",{class:"input",type:"file",name:"imgFile",onClick:t[0]||(t[0]=(...e)=>o.imgSuccess&&o.imgSuccess(...e)),required:""}),dD])]),uD,(0,l._)("div",pD,[""!==n.hospitalData?((0,l.wg)(),(0,l.iD)("iframe",{key:0,width:"300",height:"300",src:`https://maps.google.com/maps?q=${n.hospitalData.location.coordinates[1]},${n.hospitalData.location.coordinates[0]}&hl=es;z=14&output=embed`},null,8,hD)):(0,l.kq)("",!0)])]),(0,l._)("div",mD,[n.editingMode?((0,l.wg)(),(0,l.iD)("a",{key:1,class:"has-text-danger",onClick:t[2]||(t[2]=(...e)=>o.editModeCancel&&o.editModeCancel(...e))},"[Cancel Editing]")):((0,l.wg)(),(0,l.iD)("a",{key:0,class:"has-text-info",onClick:t[1]||(t[1]=(...e)=>o.editMode&&o.editMode(...e))},"[Edit]")),(0,l._)("div",vD,[(0,l._)("div",gD,[wD,n.editingMode?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("p",_D,(0,g.zw)(n.description),1)),n.editingMode?((0,l.wg)(),(0,l.iD)("form",bD,[(0,l._)("div",yD,[(0,l.wy)((0,l._)("textarea",{class:"textarea","onUpdate:modelValue":t[3]||(t[3]=e=>n.editDescription=e),placeholder:"Edit description..."},null,512),[[s.nr,n.editDescription]])])])):(0,l.kq)("",!0)]),(0,l._)("div",fD,[kD,n.editingMode?((0,l.wg)(),(0,l.iD)("ul",xD,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.editContacts,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},[(0,l._)("p",AD,[(0,l.Uk)((0,g.zw)(e.contact)+" ",1),n.editingMode?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"has-text-danger",onClick:t=>o.removeContact(e.contact)},"Remove",8,SD)):(0,l.kq)("",!0)])])))),128))])):((0,l.wg)(),(0,l.iD)("ul",DD,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.contacts,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},[(0,l._)("p",CD,(0,g.zw)(e.contact),1)])))),128))])),PD,n.editingMode?((0,l.wg)(),(0,l.iD)("div",UD,[(0,l._)("div",MD,[(0,l.wy)((0,l._)("input",{class:"input",type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>n.contact=e),placeholder:"Add contacts..."},null,512),[[s.nr,n.contact]])]),(0,l._)("div",ND,[(0,l._)("button",{type:"submit",class:"button is-light",onClick:t[5]||(t[5]=(...e)=>o.addContact&&o.addContact(...e)),disabled:""==n.contact},"+",8,zD)])])):(0,l.kq)("",!0)])]),ID,"Inactive"==n.hospitalStatus&&n.editingMode?((0,l.wg)(),(0,l.iD)("div",LD,[(0,l._)("label",TD,[(0,l._)("input",{type:"radio",onClick:t[6]||(t[6]=(...e)=>o.activateAccount&&o.activateAccount(...e))}),HD])])):(0,l.kq)("",!0),qD,n.editingMode?((0,l.wg)(),(0,l.iD)("button",{key:3,class:"button is-danger",onClick:t[7]||(t[7]=(...e)=>o.saveProfileEdit&&o.saveProfileEdit(...e))},"Save Changes")):(0,l.kq)("",!0)])])])])])],64)}var VD={name:"ManagerProfile",components:{ManagerMenuVue:Ey},async created(){this.loading=!0,await Ke().get("/session/manager").then((e=>this.managerHospital=e.data.hospital)),await Ke().get("/session/manager").then((e=>this.managerHospitalID=e.data._id)),await Ke().get("/api/manager").then((e=>this.hospitalData=e.data.find((e=>e._id==this.managerHospitalID)))),this.description=await this.hospitalData.details[0].description,this.contacts=await this.hospitalData.details[0].contacts,this.hospitalStatus=await this.hospitalData.status,this.loading=!1},data(){return{loading:!1,hospitalStatus:"",activate:!1,managerHospital:"",managerHospitalID:"",editingMode:!1,editDescription:"",editContacts:[],description:"",contact:"",contacts:[],hospitalData:"",details:[]}},methods:{async imgSuccess(){this.$store.commit("imgSuccessManager",!0)},editMode(){this.editingMode=!0,this.editDescription=this.description,this.editContacts=[...this.contacts]},editModeCancel(){this.editingMode=!1,this.editDescription="",this.editContacts=[]},addContact(){this.editContacts.push({contact:this.contact}),this.contact=""},removeContact(e){this.editContacts=this.editContacts.filter((t=>t.contact!==e))},activateAccount(){this.activate=!0},async saveProfileEdit(){this.details.push({description:this.editDescription,contacts:this.editContacts}),this.activate?await Ke().put(`/api/manager/${this.managerHospitalID}`,{details:this.details,status:"Active"}):await Ke().put(`/api/manager/${this.managerHospitalID}`,{details:this.details}),await Ke().get("/api/manager").then((e=>this.hospitalData=e.data.find((e=>e._id==this.managerHospitalID)))),this.description=await this.hospitalData.details[0].description,this.contacts=await this.hospitalData.details[0].contacts,this.hospitalStatus=await this.hospitalData.status,this.editingMode=!1,this.editDescription="",this.editContacts=[],this.details=[],this.activate=!1}}};const OD=(0,c.Z)(VD,[["render",ED]]);var $D=OD;const RD=e=>((0,l.dD)("data-v-5ed78700"),e=e(),(0,l.Cn)(),e),YD={class:"section"},BD=RD((()=>(0,l._)("div",{class:"modal-background"},null,-1))),FD=RD((()=>(0,l._)("div",{class:"modal-content loader"},null,-1))),jD=[BD,FD],WD={class:"container box",style:{width:"33%"}},KD={key:0,class:"notification is-danger"},GD={key:1,class:"notification is-success"},ZD={key:2},QD=RD((()=>(0,l._)("h1",{class:"title"},"Contact Us",-1))),XD={class:"dropdown is-hoverable block"},JD={class:"dropdown-trigger"},eC={class:"button"},tC={class:"dropdown-menu"},aC={class:"dropdown-content"},sC={class:"field"},iC={class:"control"},lC=RD((()=>(0,l._)("label",{class:"label"},"Email",-1))),nC={class:"field"},oC={class:"control"},cC=RD((()=>(0,l._)("label",{class:"label"},"Subject",-1))),rC={class:"field"},dC={class:"control"},uC=RD((()=>(0,l._)("label",{class:"label"},"Explain the problem",-1))),pC={class:"field has-text-centered"},hC={class:"control"},mC=["disabled"];var vC={setup(e){let t=(0,di.iH)(""),a=(0,di.iH)(""),i=(0,di.iH)(""),n=(0,di.iH)(""),o=(0,di.iH)(""),c=(0,di.iH)(!1),r=(0,di.iH)(""),d=(0,di.iH)(!1);async function u(){c.value=!0,p();try{await Ke().post("/api/SupportMail",{ticketID:t.value,email:o.value,ticketType:a.value,ticketTitle:i.value}),await Ke().post("/api/superuser/submitTicket",{ticketID:t.value,email:o.value,ticketType:a.value,ticketTitle:i.value,ticketMessage:n.value}),d.value=!0}catch(e){r.value=e}c.value=!1}function p(){let e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=a.length;for(let t=0;t<8;t++)e+=a.charAt(Math.floor(Math.random()*s));t.value=e}return(e,p)=>((0,l.wg)(),(0,l.iD)("section",YD,[(0,l._)("div",{class:(0,g.C_)(["modal",{"is-active":(0,di.SU)(c)}])},jD,2),(0,l._)("div",WD,[(0,di.SU)(r)&&!(0,di.SU)(d)?((0,l.wg)(),(0,l.iD)("div",KD,(0,g.zw)((0,di.SU)(r)),1)):(0,l.kq)("",!0),(0,di.SU)(d)?((0,l.wg)(),(0,l.iD)("div",GD,"Your problem has been reported, your ticket ID is: "+(0,g.zw)((0,di.SU)(t))+". Please see your email for further instructions.",1)):((0,l.wg)(),(0,l.iD)("div",ZD,[QD,(0,l._)("div",XD,[(0,l._)("div",JD,[(0,l._)("button",eC,(0,g.zw)(""==(0,di.SU)(a)?"Select a Problem":(0,di.SU)(a)),1)]),(0,l._)("div",tC,[(0,l._)("div",aC,[(0,l._)("a",{class:"dropdown-item",onClick:p[0]||(p[0]=e=>(0,di.dq)(a)?a.value="General Inquiry":a="General Inquiry")},"General Inquiry"),(0,l._)("a",{class:"dropdown-item",onClick:p[1]||(p[1]=e=>(0,di.dq)(a)?a.value="Account Problem":a="Account Problem")},"Account Problem"),(0,l._)("a",{class:"dropdown-item",onClick:p[2]||(p[2]=e=>(0,di.dq)(a)?a.value="Report a bug":a="Report a bug")},"Report a bug")])])]),(0,l._)("div",sC,[(0,l._)("div",iC,[lC,(0,l.wy)((0,l._)("input",{type:"email","onUpdate:modelValue":p[3]||(p[3]=e=>(0,di.dq)(o)?o.value=e:o=e),class:"input"},null,512),[[s.nr,(0,di.SU)(o)]])])]),(0,l._)("div",nC,[(0,l._)("div",oC,[cC,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":p[4]||(p[4]=e=>(0,di.dq)(i)?i.value=e:i=e),class:"input"},null,512),[[s.nr,(0,di.SU)(i)]])])]),(0,l._)("div",rC,[(0,l._)("div",dC,[uC,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":p[5]||(p[5]=e=>(0,di.dq)(n)?n.value=e:n=e),class:"textarea"},null,512),[[s.nr,(0,di.SU)(n)]])])]),(0,l._)("div",pC,[(0,l._)("div",hC,[(0,l._)("button",{class:"button is-primary",onClick:u,disabled:""==(0,di.SU)(a)||""==(0,di.SU)(o)||""==(0,di.SU)(i)||""==(0,di.SU)(n)},"Submit Issue",8,mC)])])]))])]))}};const gC=(0,c.Z)(vC,[["__scopeId","data-v-5ed78700"]]);var wC=gC;const _C=[{path:"/",component:Bt},{path:"/user/manager/:user",component:$y,meta:{requiresManagerAuth:!0}},{path:"/user/manager/signup",component:Wk},{path:"/user/manager/login",component:cf},{path:"/user/manager/:user/profile",component:$D,meta:{requiresManagerAuth:!0}},{path:"/user/superuser",component:_b,meta:{requiresSuperUserAuth:!0}},{path:"/user/superuser/login",component:Vb},{path:"/admin/login",component:el},{path:"/admin/signup",component:fo},{path:"/admin/user/:user",component:wn,meta:{requiresAuth:!0}},{path:"/admin/user/:user/schedule",component:pc,meta:{requiresAuth:!0}},{path:"/admin/user/:user/profile",component:Nr,meta:{requiresAuth:!0}},{path:"/admin/user/:user/security",component:hp,meta:{requiresAuth:!0}},{path:"/admin/user/:user/patients",component:zd,meta:{requiresAuth:!0}},{path:"/imgUploadSuccess",component:Xp,meta:{requireImgUploadSuccess:!0}},{path:"/imgUploadSuccessAdmin",component:ch,meta:{requireImgUploadSuccess:!0}},{path:"/imgUploadSuccessManager",component:_h,meta:{requireImgUploadSuccessManager:!0}},{path:"/user/signup",component:Ym},{path:"/user/login",component:dv},{path:"/user/:user/",component:hv,meta:{requiresAuthPatient:!0}},{path:"/user/:user/doctors",component:Ya,meta:{requiresAuthPatient:!0}},{path:"/user/:user/profile",component:xg,meta:{requiresAuthPatient:!0}},{path:"/user/:user/security",component:Gg,meta:{requiresAuthPatient:!0}},{path:"/success",component:Rp,meta:{requireSuccessPickDoctor:!0}},{path:"/user/:user/registration",component:js,meta:{requireProcess:!0}},{path:"/contactus",component:wC}],bC=(0,v.p7)({history:(0,v.PO)("/"),routes:_C});bC.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requireProcess)))return m.state.statusAvailability?a():a("/user/:user/doctors");a()})),bC.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requireImgUploadSuccess)))return!0===m.state.imgSuccess?a():a("/admin/login");a()})),bC.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requireImgUploadSuccessManager)))return m.state.imgSuccessManager?a():a("/user/manager/login");a()})),bC.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requireSuccessPickDoctor)))return m.state.userID?a():a("/user/:user/registration");a()})),bC.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requiresAuth)))return m.state.alias?a():a("/admin/login");a()})),bC.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requiresAuthPatient)))return m.state.patientUsername?a():a("/user/login");a()})),bC.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requiresSuperUserAuth)))return m.state.superUserAuth?a():a("/user/superuser/login");a()})),bC.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requiresManagerAuth)))return m.state.managerHospital?a():a("/user/manager/login");a()})),bC.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requireProcess)))return m.state.statusAvailability?a():a("/user/:user/doctors");a()})),bC.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requiresAuthUsers)))return m.state.patientUsername||m.state.alias?a():a("/");a()}));var yC=bC,fC=a(2346);(0,s.ri)(d).use(i.ZP,{}).use(yC).use(m).use(fC.Z,Ke()).mount("#app")}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var l=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,s,i,l){if(!s){var n=1/0;for(d=0;d<e.length;d++){s=e[d][0],i=e[d][1],l=e[d][2];for(var o=!0,c=0;c<s.length;c++)(!1&l||n>=l)&&Object.keys(a.O).every((function(e){return a.O[e](s[c])}))?s.splice(c--,1):(o=!1,l<n&&(n=l));if(o){e.splice(d--,1);var r=i();void 0!==r&&(t=r)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[s,i,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,l,n=s[0],o=s[1],c=s[2],r=0;if(n.some((function(t){return 0!==e[t]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(c)var d=c(a)}for(t&&t(s);r<n.length;r++)l=n[r],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},s=self["webpackChunkappointment_scheduler_webapp"]=self["webpackChunkappointment_scheduler_webapp"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(641)}));s=a.O(s)})();
//# sourceMappingURL=app.83a6859c.js.map